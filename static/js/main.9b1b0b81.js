/*! For license information please see main.9b1b0b81.js.LICENSE.txt */
!function(){var e={110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var a,o,u=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var c in a=Object(arguments[s]))n.call(a,c)&&(u[c]=a[c]);if(t){o=t(a);for(var l=0;l<o.length;l++)r.call(a,o[l])&&(u[o[l]]=a[o[l]])}}return u}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function u(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var s=!1,c=null,l=!1,f=null,h={onError:function(e){s=!0,c=e}};function d(e,t,n,r,i,a,o,l,f){s=!1,c=null,u.apply(h,arguments)}var p=null,v=null,m=null;function y(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,r,i,a,u,h,p){if(d.apply(this,arguments),s){if(!s)throw Error(o(198));var v=c;s=!1,c=null,l||(l=!0,f=v)}}(r,t,void 0,e),e.currentTarget=null}var g=null,k={};function b(){if(g)for(var e in k){var t=k[e],n=g.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!_[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in _[n]=t,n=t.eventTypes){var i=void 0,a=n[r],u=t,s=r;if(x.hasOwnProperty(s))throw Error(o(99,s));x[s]=a;var c=a.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&w(c[i],u,s);i=!0}else a.registrationName?(w(a.registrationName,u,s),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function w(e,t,n){if(T[e])throw Error(o(100,e));T[e]=t,E[e]=t.eventTypes[n].dependencies}var _=[],x={},T={},E={};function I(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!k.hasOwnProperty(t)||k[t]!==r){if(k[t])throw Error(o(102,t));k[t]=r,n=!0}}n&&b()}var S=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),C=null,A=null,N=null;function R(e){if(e=v(e)){if("function"!==typeof C)throw Error(o(280));var t=e.stateNode;t&&(t=p(t),C(e.stateNode,e.type,t))}}function O(e){A?N?N.push(e):N=[e]:A=e}function P(){if(A){var e=A,t=N;if(N=A=null,R(e),t)for(e=0;e<t.length;e++)R(t[e])}}function D(e,t){return e(t)}function L(e,t,n,r,i){return e(t,n,r,i)}function M(){}var F=D,U=!1,V=!1;function j(){null===A&&null===N||(M(),P())}function B(e,t,n){if(V)return e(t,n);V=!0;try{return F(e,t,n)}finally{V=!1,j()}}var z=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q=Object.prototype.hasOwnProperty,K={},G={};function W(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var H={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){H[e]=new W(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];H[t]=new W(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){H[e]=new W(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){H[e]=new W(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){H[e]=new W(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){H[e]=new W(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){H[e]=new W(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){H[e]=new W(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){H[e]=new W(e,5,!1,e.toLowerCase(),null,!1)}));var Q=/[\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Q,X);H[t]=new W(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Q,X);H[t]=new W(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Q,X);H[t]=new W(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){H[e]=new W(e,1,!1,e.toLowerCase(),null,!1)})),H.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){H[e]=new W(e,1,!1,e.toLowerCase(),null,!0)}));var Y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $(e,t,n,r){var i=H.hasOwnProperty(t)?H[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!q.call(G,e)||!q.call(K,e)&&(z.test(e)?G[e]=!0:(K[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,ie=Z?Symbol.for("react.profiler"):60114,ae=Z?Symbol.for("react.provider"):60109,oe=Z?Symbol.for("react.context"):60110,ue=Z?Symbol.for("react.concurrent_mode"):60111,se=Z?Symbol.for("react.forward_ref"):60112,ce=Z?Symbol.for("react.suspense"):60113,le=Z?Symbol.for("react.suspense_list"):60120,fe=Z?Symbol.for("react.memo"):60115,he=Z?Symbol.for("react.lazy"):60116,de=Z?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function ve(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case le:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case se:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return me(e.type);case de:return me(e.render);case he:if(e=1===e._status?e._result:null)return me(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=me(e.type);n=null,r&&(n=me(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function ge(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ke(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function be(e){e._valueTracker||(e._valueTracker=function(e){var t=ke(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function we(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ke(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function _e(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function xe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ge(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Te(e,t){null!=(t=t.checked)&&$(e,"checked",t,!1)}function Ee(e,t){Te(e,t);var n=ge(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Se(e,t.type,n):t.hasOwnProperty("defaultValue")&&Se(e,t.type,ge(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ie(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Se(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ce(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ge(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ge(n)}}function Oe(e,t){var n=ge(t.value),r=ge(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Pe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var De="http://www.w3.org/1999/xhtml",Le="http://www.w3.org/2000/svg";function Me(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Me(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ue,Ve,je=(Ve=function(e,t){if(e.namespaceURI!==Le||"innerHTML"in e)e.innerHTML=t;else{for((Ue=Ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Ve(e,t)}))}:Ve);function Be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ze(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qe={animationend:ze("Animation","AnimationEnd"),animationiteration:ze("Animation","AnimationIteration"),animationstart:ze("Animation","AnimationStart"),transitionend:ze("Transition","TransitionEnd")},Ke={},Ge={};function We(e){if(Ke[e])return Ke[e];if(!qe[e])return e;var t,n=qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ge)return Ke[e]=n[t];return e}S&&(Ge=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var He=We("animationend"),Qe=We("animationiteration"),Xe=We("animationstart"),Ye=We("transitionend"),$e="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"===typeof WeakMap?WeakMap:Map);function Ze(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(o(188))}function rt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return nt(i),e;if(a===r)return nt(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function at(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function ut(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)y(e,t[r],n[r]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(at(e,ut),ot)throw Error(o(95));if(l)throw e=f,l=!1,f=null,e}}function ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function lt(e){if(!S)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ft=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ft.length&&ft.push(e)}function dt(e,t,n,r){if(ft.length){var i=ft.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Pn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ct(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var u=null,s=0;s<_.length;s++){var c=_[s];c&&(c=c.extractEvents(r,t,a,i,o))&&(u=it(u,c))}st(u)}}function vt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Xt(t,"scroll",!0);break;case"focus":case"blur":Xt(t,"focus",!0),Xt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":lt(e)&&Xt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===$e.indexOf(e)&&Qt(e,t)}n.set(e,null)}}var mt,yt,gt,kt=!1,bt=[],wt=null,_t=null,xt=null,Tt=new Map,Et=new Map,It=[],St="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ct="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function At(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Nt(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function Rt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=At(t,n,r,i,a),null!==t&&(null!==(t=Dn(t))&&yt(t)),e):(e.eventSystemFlags|=r,e)}function Ot(e){var t=Pn(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){gt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Pt(e){if(null!==e.blockedOn)return!1;var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Dn(t);return null!==n&&yt(n),e.blockedOn=t,!1}return!0}function Dt(e,t,n){Pt(e)&&n.delete(t)}function Lt(){for(kt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=Dn(e.blockedOn))&&mt(e);break}var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==wt&&Pt(wt)&&(wt=null),null!==_t&&Pt(_t)&&(_t=null),null!==xt&&Pt(xt)&&(xt=null),Tt.forEach(Dt),Et.forEach(Dt)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Lt)))}function Ft(e){function t(t){return Mt(t,e)}if(0<bt.length){Mt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==wt&&Mt(wt,e),null!==_t&&Mt(_t,e),null!==xt&&Mt(xt,e),Tt.forEach(t),Et.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Ot(n),null===n.blockedOn&&It.shift()}var Ut={},Vt=new Map,jt=new Map,Bt=["abort","abort",He,"animationEnd",Qe,"animationIteration",Xe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ye,"transitionEnd","waiting","waiting"];function zt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},jt.set(r,t),Vt.set(r,a),Ut[i]=a}}zt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),zt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),zt(Bt,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Kt=0;Kt<qt.length;Kt++)jt.set(qt[Kt],0);var Gt=a.unstable_UserBlockingPriority,Wt=a.unstable_runWithPriority,Ht=!0;function Qt(e,t){Xt(t,e,!1)}function Xt(e,t,n){var r=jt.get(t);switch(void 0===r?2:r){case 0:r=Yt.bind(null,t,1,e);break;case 1:r=$t.bind(null,t,1,e);break;default:r=Jt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Yt(e,t,n,r){U||M();var i=Jt,a=U;U=!0;try{L(i,e,t,n,r)}finally{(U=a)||j()}}function $t(e,t,n,r){Wt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){if(Ht)if(0<bt.length&&-1<St.indexOf(e))e=At(null,e,t,n,r),bt.push(e);else{var i=Zt(e,t,n,r);if(null===i)Nt(e,r);else if(-1<St.indexOf(e))e=At(i,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return wt=Rt(wt,e,t,n,r,i),!0;case"dragenter":return _t=Rt(_t,e,t,n,r,i),!0;case"mouseover":return xt=Rt(xt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Tt.set(a,Rt(Tt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Et.set(a,Rt(Et.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Nt(e,r),e=dt(e,r,null,t);try{B(pt,e)}finally{ht(e)}}}}function Zt(e,t,n,r){if(null!==(n=Pn(n=ct(r)))){var i=et(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=tt(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=dt(e,r,n,t);try{B(pt,e)}finally{ht(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var an=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(an[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function un(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=De;function cn(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=E[t];for(var r=0;r<t.length;r++)vt(t[r],e,n)}function ln(){}function fn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,r=hn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hn(r)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vn(){for(var e=window,t=fn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=fn((e=t.contentWindow).document)}return t}function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yn="$",gn="/$",kn="$?",bn="$!",wn=null,_n=null;function xn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Tn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var En="function"===typeof setTimeout?setTimeout:void 0,In="function"===typeof clearTimeout?clearTimeout:void 0;function Sn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Cn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===yn||n===bn||n===kn){if(0===t)return e;t--}else n===gn&&t++}e=e.previousSibling}return null}var An=Math.random().toString(36).slice(2),Nn="__reactInternalInstance$"+An,Rn="__reactEventHandlers$"+An,On="__reactContainere$"+An;function Pn(e){var t=e[Nn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[On]||n[Nn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Cn(e);null!==e;){if(n=e[Nn])return n;e=Cn(e)}return t}n=(e=n).parentNode}return null}function Dn(e){return!(e=e[Nn]||e[On])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ln(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Mn(e){return e[Rn]||null}function Fn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Un(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function Vn(e,t,n){(t=Un(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function jn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Fn(t);for(t=n.length;0<t--;)Vn(n[t],"captured",e);for(t=0;t<n.length;t++)Vn(n[t],"bubbled",e)}}function Bn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Un(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function zn(e){e&&e.dispatchConfig.registrationName&&Bn(e._targetInst,null,e)}function qn(e){at(e,jn)}var Kn=null,Gn=null,Wn=null;function Hn(){if(Wn)return Wn;var e,t,n=Gn,r=n.length,i="value"in Kn?Kn.value:Kn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Wn=i.slice(e,1<t?1-t:void 0)}function Qn(){return!0}function Xn(){return!1}function Yn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Qn:Xn,this.isPropagationStopped=Xn,this}function $n(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Jn(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Zn(e){e.eventPool=[],e.getPooled=$n,e.release=Jn}i(Yn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){this.isPersistent=Qn},isPersistent:Xn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Xn,this._dispatchInstances=this._dispatchListeners=null}}),Yn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Yn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Zn(n),n},Zn(Yn);var er=Yn.extend({data:null}),tr=Yn.extend({data:null}),nr=[9,13,27,32],rr=S&&"CompositionEvent"in window,ir=null;S&&"documentMode"in document&&(ir=document.documentMode);var ar=S&&"TextEvent"in window&&!ir,or=S&&(!rr||ir&&8<ir&&11>=ir),ur=String.fromCharCode(32),sr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},cr=!1;function lr(e,t){switch(e){case"keyup":return-1!==nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function fr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var hr=!1;var dr={eventTypes:sr,extractEvents:function(e,t,n,r){var i;if(rr)e:{switch(e){case"compositionstart":var a=sr.compositionStart;break e;case"compositionend":a=sr.compositionEnd;break e;case"compositionupdate":a=sr.compositionUpdate;break e}a=void 0}else hr?lr(e,n)&&(a=sr.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=sr.compositionStart);return a?(or&&"ko"!==n.locale&&(hr||a!==sr.compositionStart?a===sr.compositionEnd&&hr&&(i=Hn()):(Gn="value"in(Kn=r)?Kn.value:Kn.textContent,hr=!0)),a=er.getPooled(a,t,n,r),i?a.data=i:null!==(i=fr(n))&&(a.data=i),qn(a),i=a):i=null,(e=ar?function(e,t){switch(e){case"compositionend":return fr(t);case"keypress":return 32!==t.which?null:(cr=!0,ur);case"textInput":return(e=t.data)===ur&&cr?null:e;default:return null}}(e,n):function(e,t){if(hr)return"compositionend"===e||!rr&&lr(e,t)?(e=Hn(),Wn=Gn=Kn=null,hr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return or&&"ko"!==t.locale?null:t.data}}(e,n))?((t=tr.getPooled(sr.beforeInput,t,n,r)).data=e,qn(t)):t=null,null===i?t:null===t?i:[i,t]}},pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!pr[e.type]:"textarea"===t}var mr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function yr(e,t,n){return(e=Yn.getPooled(mr.change,e,t,n)).type="change",O(n),qn(e),e}var gr=null,kr=null;function br(e){st(e)}function wr(e){if(we(Ln(e)))return e}function _r(e,t){if("change"===e)return t}var xr=!1;function Tr(){gr&&(gr.detachEvent("onpropertychange",Er),kr=gr=null)}function Er(e){if("value"===e.propertyName&&wr(kr))if(e=yr(kr,e,ct(e)),U)st(e);else{U=!0;try{D(br,e)}finally{U=!1,j()}}}function Ir(e,t,n){"focus"===e?(Tr(),kr=n,(gr=t).attachEvent("onpropertychange",Er)):"blur"===e&&Tr()}function Sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return wr(kr)}function Cr(e,t){if("click"===e)return wr(t)}function Ar(e,t){if("input"===e||"change"===e)return wr(t)}S&&(xr=lt("input")&&(!document.documentMode||9<document.documentMode));var Nr={eventTypes:mr,_isInputEventSupported:xr,extractEvents:function(e,t,n,r){var i=t?Ln(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=_r;else if(vr(i))if(xr)o=Ar;else{o=Sr;var u=Ir}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Cr);if(o&&(o=o(e,t)))return yr(o,n,r);u&&u(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Se(i,"number",i.value)}},Rr=Yn.extend({view:null,detail:null}),Or={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Or[e])&&!!t[e]}function Dr(){return Pr}var Lr=0,Mr=0,Fr=!1,Ur=!1,Vr=Rr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Dr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Lr;return Lr=e.screenX,Fr?"mousemove"===e.type?e.screenX-t:0:(Fr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Mr;return Mr=e.screenY,Ur?"mousemove"===e.type?e.screenY-t:0:(Ur=!0,0)}}),jr=Vr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Br={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},zr={eventTypes:Br,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?Pn(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var u=Vr,s=Br.mouseLeave,c=Br.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(u=jr,s=Br.pointerLeave,c=Br.pointerEnter,l="pointer");if(e=null==o?a:Ln(o),a=null==t?a:Ln(t),(s=u.getPooled(s,o,n,r)).type=l+"leave",s.target=e,s.relatedTarget=a,(n=u.getPooled(c,t,n,r)).type=l+"enter",n.target=a,n.relatedTarget=e,l=t,(r=o)&&l)e:{for(c=l,o=0,e=u=r;e;e=Fn(e))o++;for(e=0,t=c;t;t=Fn(t))e++;for(;0<o-e;)u=Fn(u),o--;for(;0<e-o;)c=Fn(c),e--;for(;o--;){if(u===c||u===c.alternate)break e;u=Fn(u),c=Fn(c)}u=null}else u=null;for(c=u,u=[];r&&r!==c&&(null===(o=r.alternate)||o!==c);)u.push(r),r=Fn(r);for(r=[];l&&l!==c&&(null===(o=l.alternate)||o!==c);)r.push(l),l=Fn(l);for(l=0;l<u.length;l++)Bn(u[l],"bubbled",s);for(l=r.length;0<l--;)Bn(r[l],"captured",n);return 0===(64&i)?[s]:[s,n]}};var qr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Kr=Object.prototype.hasOwnProperty;function Gr(e,t){if(qr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Kr.call(t,n[r])||!qr(e[n[r]],t[n[r]]))return!1;return!0}var Wr=S&&"documentMode"in document&&11>=document.documentMode,Hr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Qr=null,Xr=null,Yr=null,$r=!1;function Jr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return $r||null==Qr||Qr!==fn(n)?null:("selectionStart"in(n=Qr)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Yr&&Gr(Yr,n)?null:(Yr=n,(e=Yn.getPooled(Hr.select,Xr,e,t)).type="select",e.target=Qr,qn(e),e))}var Zr={eventTypes:Hr,extractEvents:function(e,t,n,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ze(i),a=E.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?Ln(t):window,e){case"focus":(vr(i)||"true"===i.contentEditable)&&(Qr=i,Xr=t,Yr=null);break;case"blur":Yr=Xr=Qr=null;break;case"mousedown":$r=!0;break;case"contextmenu":case"mouseup":case"dragend":return $r=!1,Jr(n,r);case"selectionchange":if(Wr)break;case"keydown":case"keyup":return Jr(n,r)}return null}},ei=Yn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ti=Yn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ni=Rr.extend({relatedTarget:null});function ri(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ai={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oi=Rr.extend({key:function(e){if(e.key){var t=ii[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ri(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ai[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Dr,charCode:function(e){return"keypress"===e.type?ri(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ri(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ui=Vr.extend({dataTransfer:null}),si=Rr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Dr}),ci=Yn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),li=Vr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),fi={eventTypes:Ut,extractEvents:function(e,t,n,r){var i=Vt.get(e);if(!i)return null;switch(e){case"keypress":if(0===ri(n))return null;case"keydown":case"keyup":e=oi;break;case"blur":case"focus":e=ni;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ui;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=si;break;case He:case Qe:case Xe:e=ei;break;case Ye:e=ci;break;case"scroll":e=Rr;break;case"wheel":e=li;break;case"copy":case"cut":case"paste":e=ti;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=jr;break;default:e=Yn}return qn(t=e.getPooled(i,t,n,r)),t}};if(g)throw Error(o(101));g=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),p=Mn,v=Dn,m=Ln,I({SimpleEventPlugin:fi,EnterLeaveEventPlugin:zr,ChangeEventPlugin:Nr,SelectEventPlugin:Zr,BeforeInputEventPlugin:dr});var hi=[],di=-1;function pi(e){0>di||(e.current=hi[di],hi[di]=null,di--)}function vi(e,t){di++,hi[di]=e.current,e.current=t}var mi={},yi={current:mi},gi={current:!1},ki=mi;function bi(e,t){var n=e.type.contextTypes;if(!n)return mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function wi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function _i(){pi(gi),pi(yi)}function xi(e,t,n){if(yi.current!==mi)throw Error(o(168));vi(yi,t),vi(gi,n)}function Ti(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,me(t)||"Unknown",a));return i({},n,{},r)}function Ei(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mi,ki=yi.current,vi(yi,e),vi(gi,gi.current),!0}function Ii(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ti(e,t,ki),r.__reactInternalMemoizedMergedChildContext=e,pi(gi),pi(yi),vi(yi,e)):pi(gi),vi(gi,n)}var Si=a.unstable_runWithPriority,Ci=a.unstable_scheduleCallback,Ai=a.unstable_cancelCallback,Ni=a.unstable_requestPaint,Ri=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Di=a.unstable_UserBlockingPriority,Li=a.unstable_NormalPriority,Mi=a.unstable_LowPriority,Fi=a.unstable_IdlePriority,Ui={},Vi=a.unstable_shouldYield,ji=void 0!==Ni?Ni:function(){},Bi=null,zi=null,qi=!1,Ki=Ri(),Gi=1e4>Ki?Ri:function(){return Ri()-Ki};function Wi(){switch(Oi()){case Pi:return 99;case Di:return 98;case Li:return 97;case Mi:return 96;case Fi:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Pi;case 98:return Di;case 97:return Li;case 96:return Mi;case 95:return Fi;default:throw Error(o(332))}}function Qi(e,t){return e=Hi(e),Si(e,t)}function Xi(e,t,n){return e=Hi(e),Ci(e,t,n)}function Yi(e){return null===Bi?(Bi=[e],zi=Ci(Pi,Ji)):Bi.push(e),Ui}function $i(){if(null!==zi){var e=zi;zi=null,Ai(e)}Ji()}function Ji(){if(!qi&&null!==Bi){qi=!0;var e=0;try{var t=Bi;Qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Bi=null}catch(n){throw null!==Bi&&(Bi=Bi.slice(e+1)),Ci(Pi,$i),n}finally{qi=!1}}}function Zi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function ea(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ta={current:null},na=null,ra=null,ia=null;function aa(){ia=ra=na=null}function oa(e){var t=ta.current;pi(ta),e.type._context._currentValue=t}function ua(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function sa(e,t){na=e,ia=ra=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Mo=!0),e.firstContext=null)}function ca(e,t){if(ia!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ia=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ra){if(null===na)throw Error(o(308));ra=t,na.dependencies={expirationTime:0,firstContext:t,responders:null}}else ra=ra.next=t;return e._currentValue}var la=!1;function fa(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ha(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function da(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function pa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function va(e,t){var n=e.alternate;null!==n&&ha(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ma(e,t,n,r){var a=e.updateQueue;la=!1;var o=a.baseQueue,u=a.shared.pending;if(null!==u){if(null!==o){var s=o.next;o.next=u.next,u.next=s}o=u,a.shared.pending=null,null!==(s=e.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=u))}if(null!==o){s=o.next;var c=a.baseState,l=0,f=null,h=null,d=null;if(null!==s)for(var p=s;;){if((u=p.expirationTime)<r){var v={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=v,f=c):d=d.next=v,u>l&&(l=u)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),_s(u,p.suspenseConfig);e:{var m=e,y=p;switch(u=t,v=n,y.tag){case 1:if("function"===typeof(m=y.payload)){c=m.call(v,c,u);break e}c=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(u="function"===typeof(m=y.payload)?m.call(v,c,u):m)||void 0===u)break e;c=i({},c,u);break e;case 2:la=!0}}null!==p.callback&&(e.effectTag|=32,null===(u=a.effects)?a.effects=[p]:u.push(p))}if(null===(p=p.next)||p===s){if(null===(u=a.shared.pending))break;p=o.next=u.next,u.next=s,a.baseQueue=o=u,a.shared.pending=null}}null===d?f=c:d.next=h,a.baseState=f,a.baseQueue=d,xs(l),e.expirationTime=l,e.memoizedState=c}}function ya(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var ga=Y.ReactCurrentBatchConfig,ka=(new r.Component).refs;function ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var wa={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=cs(),i=ga.suspense;(i=da(r=ls(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),pa(e,i),fs(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=cs(),i=ga.suspense;(i=da(r=ls(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),pa(e,i),fs(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=cs(),r=ga.suspense;(r=da(n=ls(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),pa(e,r),fs(e,n)}};function _a(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Gr(n,r)||!Gr(i,a))}function xa(e,t,n){var r=!1,i=mi,a=t.contextType;return"object"===typeof a&&null!==a?a=ca(a):(i=wi(t)?ki:yi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?bi(e,i):mi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=wa,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ta(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wa.enqueueReplaceState(t,t.state,null)}function Ea(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ka,fa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ca(a):(a=wi(t)?ki:yi.current,i.context=bi(e,a)),ma(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&wa.enqueueReplaceState(i,i.state,null),ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Ia=Array.isArray;function Sa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ka&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ca(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Aa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=qs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function u(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ws(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Sa(e,t,n),r.return=e,r):((r=Ks(n.type,n.key,n.props,null,e.mode,r)).ref=Sa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Gs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ws(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Ks(t.type,t.key,t.props,null,e.mode,n)).ref=Sa(e,null,t),n.return=e,n;case te:return(t=Hs(t,e.mode,n)).return=e,t}if(Ia(t)||ve(t))return(t=Gs(t,e.mode,n,null)).return=e,t;Ca(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case te:return n.key===i?l(e,t,n,r):null}if(Ia(n)||ve(n))return null!==i?null:f(e,t,n,r,null);Ca(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case te:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ia(r)||ve(r))return f(t,e=e.get(n)||null,r,i,null);Ca(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=ve(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===ne&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case ee:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===ne){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Sa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===ne?((r=Gs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Ks(a.type,a.key,a.props,null,e.mode,s)).ref=Sa(e,r,a),s.return=e,e=s)}return u(e);case te:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Hs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ws(a,e.mode,s)).return=e,e=r),u(e);if(Ia(a))return v(e,r,a,s);if(ve(a))return m(e,r,a,s);if(l&&Ca(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Na=Aa(!0),Ra=Aa(!1),Oa={},Pa={current:Oa},Da={current:Oa},La={current:Oa};function Ma(e){if(e===Oa)throw Error(o(174));return e}function Fa(e,t){switch(vi(La,t),vi(Da,e),vi(Pa,Oa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fe(null,"");break;default:t=Fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}pi(Pa),vi(Pa,t)}function Ua(){pi(Pa),pi(Da),pi(La)}function Va(e){Ma(La.current);var t=Ma(Pa.current),n=Fe(t,e.type);t!==n&&(vi(Da,e),vi(Pa,n))}function ja(e){Da.current===e&&(pi(Pa),pi(Da))}var Ba={current:0};function za(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===kn||n.data===bn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function qa(e,t){return{responder:e,props:t}}var Ka=Y.ReactCurrentDispatcher,Ga=Y.ReactCurrentBatchConfig,Wa=0,Ha=null,Qa=null,Xa=null,Ya=!1;function $a(){throw Error(o(321))}function Ja(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qr(e[n],t[n]))return!1;return!0}function Za(e,t,n,r,i,a){if(Wa=a,Ha=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ka.current=null===e||null===e.memoizedState?xo:To,e=n(r,i),t.expirationTime===Wa){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,Xa=Qa=null,t.updateQueue=null,Ka.current=Eo,e=n(r,i)}while(t.expirationTime===Wa)}if(Ka.current=_o,t=null!==Qa&&null!==Qa.next,Wa=0,Xa=Qa=Ha=null,Ya=!1,t)throw Error(o(300));return e}function eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xa?Ha.memoizedState=Xa=e:Xa=Xa.next=e,Xa}function to(){if(null===Qa){var e=Ha.alternate;e=null!==e?e.memoizedState:null}else e=Qa.next;var t=null===Xa?Ha.memoizedState:Xa.next;if(null!==t)Xa=t,Qa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Qa=e).memoizedState,baseState:Qa.baseState,baseQueue:Qa.baseQueue,queue:Qa.queue,next:null},null===Xa?Ha.memoizedState=Xa=e:Xa=Xa.next=e}return Xa}function no(e,t){return"function"===typeof t?t(e):t}function ro(e){var t=to(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Qa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.expirationTime;if(l<Wa){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,l>Ha.expirationTime&&(Ha.expirationTime=l,xs(l))}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),_s(l,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,qr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function io(e){var t=to(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);qr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ao(e){var t=eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:no,lastRenderedState:e}).dispatch=wo.bind(null,Ha,e),[t.memoizedState,e]}function oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ha.updateQueue)?(t={lastEffect:null},Ha.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function uo(){return to().memoizedState}function so(e,t,n,r){var i=eo();Ha.effectTag|=e,i.memoizedState=oo(1|t,n,void 0,void 0===r?null:r)}function co(e,t,n,r){var i=to();r=void 0===r?null:r;var a=void 0;if(null!==Qa){var o=Qa.memoizedState;if(a=o.destroy,null!==r&&Ja(r,o.deps))return void oo(t,n,a,r)}Ha.effectTag|=e,i.memoizedState=oo(1|t,n,a,r)}function lo(e,t){return so(516,4,e,t)}function fo(e,t){return co(516,4,e,t)}function ho(e,t){return co(4,2,e,t)}function po(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,co(4,2,po.bind(null,t,e),n)}function mo(){}function yo(e,t){return eo().memoizedState=[e,void 0===t?null:t],e}function go(e,t){var n=to();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ja(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ko(e,t){var n=to();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ja(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bo(e,t,n){var r=Wi();Qi(98>r?98:r,(function(){e(!0)})),Qi(97<r?97:r,(function(){var r=Ga.suspense;Ga.suspense=void 0===t?null:t;try{e(!1),n()}finally{Ga.suspense=r}}))}function wo(e,t,n){var r=cs(),i=ga.suspense;i={expirationTime:r=ls(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Ha||null!==a&&a===Ha)Ya=!0,i.expirationTime=Wa,Ha.expirationTime=Wa;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.eagerReducer=a,i.eagerState=u,qr(u,o))return}catch(s){}fs(e,r)}}var _o={readContext:ca,useCallback:$a,useContext:$a,useEffect:$a,useImperativeHandle:$a,useLayoutEffect:$a,useMemo:$a,useReducer:$a,useRef:$a,useState:$a,useDebugValue:$a,useResponder:$a,useDeferredValue:$a,useTransition:$a},xo={readContext:ca,useCallback:yo,useContext:ca,useEffect:lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,so(4,2,po.bind(null,t,e),n)},useLayoutEffect:function(e,t){return so(4,2,e,t)},useMemo:function(e,t){var n=eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=wo.bind(null,Ha,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},eo().memoizedState=e},useState:ao,useDebugValue:mo,useResponder:qa,useDeferredValue:function(e,t){var n=ao(e),r=n[0],i=n[1];return lo((function(){var n=Ga.suspense;Ga.suspense=void 0===t?null:t;try{i(e)}finally{Ga.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ao(!1),n=t[0];return t=t[1],[yo(bo.bind(null,t,e),[t,e]),n]}},To={readContext:ca,useCallback:go,useContext:ca,useEffect:fo,useImperativeHandle:vo,useLayoutEffect:ho,useMemo:ko,useReducer:ro,useRef:uo,useState:function(){return ro(no)},useDebugValue:mo,useResponder:qa,useDeferredValue:function(e,t){var n=ro(no),r=n[0],i=n[1];return fo((function(){var n=Ga.suspense;Ga.suspense=void 0===t?null:t;try{i(e)}finally{Ga.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ro(no),n=t[0];return t=t[1],[go(bo.bind(null,t,e),[t,e]),n]}},Eo={readContext:ca,useCallback:go,useContext:ca,useEffect:fo,useImperativeHandle:vo,useLayoutEffect:ho,useMemo:ko,useReducer:io,useRef:uo,useState:function(){return io(no)},useDebugValue:mo,useResponder:qa,useDeferredValue:function(e,t){var n=io(no),r=n[0],i=n[1];return fo((function(){var n=Ga.suspense;Ga.suspense=void 0===t?null:t;try{i(e)}finally{Ga.suspense=n}}),[e,t]),r},useTransition:function(e){var t=io(no),n=t[0];return t=t[1],[go(bo.bind(null,t,e),[t,e]),n]}},Io=null,So=null,Co=!1;function Ao(e,t){var n=Bs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function No(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ro(e){if(Co){var t=So;if(t){var n=t;if(!No(e,t)){if(!(t=Sn(n.nextSibling))||!No(e,t))return e.effectTag=-1025&e.effectTag|2,Co=!1,void(Io=e);Ao(Io,n)}Io=e,So=Sn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Co=!1,Io=e}}function Oo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Io=e}function Po(e){if(e!==Io)return!1;if(!Co)return Oo(e),Co=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Tn(t,e.memoizedProps))for(t=So;t;)Ao(e,t),t=Sn(t.nextSibling);if(Oo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===gn){if(0===t){So=Sn(e.nextSibling);break e}t--}else n!==yn&&n!==bn&&n!==kn||t++}e=e.nextSibling}So=null}}else So=Io?Sn(e.stateNode.nextSibling):null;return!0}function Do(){So=Io=null,Co=!1}var Lo=Y.ReactCurrentOwner,Mo=!1;function Fo(e,t,n,r){t.child=null===e?Ra(t,null,n,r):Na(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return sa(t,i),r=Za(e,t,n,r,a,i),null===e||Mo?(t.effectTag|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),tu(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||zs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ks(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,jo(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Gr)(i,r)&&e.ref===t.ref)?tu(e,t,a):(t.effectTag|=1,(e=qs(o,r)).ref=t.ref,e.return=t,t.child=e)}function jo(e,t,n,r,i,a){return null!==e&&Gr(e.memoizedProps,r)&&e.ref===t.ref&&(Mo=!1,i<a)?(t.expirationTime=e.expirationTime,tu(e,t,a)):zo(e,t,n,r,a)}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function zo(e,t,n,r,i){var a=wi(n)?ki:yi.current;return a=bi(t,a),sa(t,i),n=Za(e,t,n,r,a,i),null===e||Mo?(t.effectTag|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),tu(e,t,i))}function qo(e,t,n,r,i){if(wi(n)){var a=!0;Ei(t)}else a=!1;if(sa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),xa(t,n,r),Ea(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ca(c):c=bi(t,c=wi(n)?ki:yi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ta(t,o,r,c),la=!1;var h=t.memoizedState;o.state=h,ma(t,r,o,i),s=t.memoizedState,u!==r||h!==s||gi.current||la?("function"===typeof l&&(ba(t,n,l,r),s=t.memoizedState),(u=la||_a(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,ha(e,t),u=t.memoizedProps,o.props=t.type===t.elementType?u:ea(t.type,u),s=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=ca(c):c=bi(t,c=wi(n)?ki:yi.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ta(t,o,r,c),la=!1,s=t.memoizedState,o.state=s,ma(t,r,o,i),h=t.memoizedState,u!==r||s!==h||gi.current||la?("function"===typeof l&&(ba(t,n,l,r),h=t.memoizedState),(l=la||_a(t,n,u,r,s,h,c))?(f||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=c,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),r=!1);return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){Bo(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&Ii(t,n,!1),tu(e,t,a);r=t.stateNode,Lo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Na(t,e.child,null,a),t.child=Na(t,null,u,a)):Fo(e,t,u,a),t.memoizedState=r.state,i&&Ii(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?xi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&xi(0,t.context,!1),Fa(e,t.containerInfo)}var Wo,Ho,Qo,Xo,Yo={dehydrated:null,retryTime:0};function $o(e,t,n){var r,i=t.mode,a=t.pendingProps,o=Ba.current,u=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(u=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),vi(Ba,1&o),null===e){if(void 0!==a.fallback&&Ro(t),u){if(u=a.fallback,(a=Gs(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Gs(u,i,n,null)).return=t,a.sibling=n,t.memoizedState=Yo,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=Ra(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,u){if(a=a.fallback,(n=qs(e,e.pendingProps)).return=t,0===(2&t.mode)&&(u=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;return(i=qs(i,a)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Yo,t.child=n,i}return n=Na(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,u){if(u=a.fallback,(a=Gs(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Gs(u,i,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=Yo,t.child=a,n}return t.memoizedState=null,t.child=Na(t,e,a.children,n)}function Jo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ua(e.return,t)}function Zo(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function eu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=Ba.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Jo(e,n);else if(19===e.tag)Jo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(vi(Ba,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===za(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zo(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===za(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zo(t,!0,n,null,a,t.lastEffect);break;case"together":Zo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function tu(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&xs(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=qs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function nu(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ru(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return wi(t.type)&&_i(),null;case 3:return Ua(),pi(gi),pi(yi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Po(t)||(t.effectTag|=4),Ho(t),null;case 5:ja(t),n=Ma(La.current);var a=t.type;if(null!==e&&null!=t.stateNode)Qo(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ma(Pa.current),Po(t)){r=t.stateNode,a=t.type;var u=t.memoizedProps;switch(r[Nn]=t,r[Rn]=u,a){case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(e=0;e<$e.length;e++)Qt($e[e],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"form":Qt("reset",r),Qt("submit",r);break;case"details":Qt("toggle",r);break;case"input":xe(r,u),Qt("invalid",r),cn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Qt("invalid",r),cn(n,"onChange");break;case"textarea":Re(r,u),Qt("invalid",r),cn(n,"onChange")}for(var s in on(a,u),e=null,u)if(u.hasOwnProperty(s)){var c=u[s];"children"===s?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):T.hasOwnProperty(s)&&null!=c&&cn(n,s)}switch(a){case"input":be(r),Ie(r,u,!0);break;case"textarea":be(r),Pe(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=ln)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(s=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Me(a)),e===sn?"script"===a?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(a,{is:r.is}):(e=s.createElement(a),"select"===a&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,a),e[Nn]=t,e[Rn]=r,Wo(e,t,!1,!1),t.stateNode=e,s=un(a,r),a){case"iframe":case"object":case"embed":Qt("load",e),c=r;break;case"video":case"audio":for(c=0;c<$e.length;c++)Qt($e[c],e);c=r;break;case"source":Qt("error",e),c=r;break;case"img":case"image":case"link":Qt("error",e),Qt("load",e),c=r;break;case"form":Qt("reset",e),Qt("submit",e),c=r;break;case"details":Qt("toggle",e),c=r;break;case"input":xe(e,r),c=_e(e,r),Qt("invalid",e),cn(n,"onChange");break;case"option":c=Ce(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Qt("invalid",e),cn(n,"onChange");break;case"textarea":Re(e,r),c=Ne(e,r),Qt("invalid",e),cn(n,"onChange");break;default:c=r}on(a,c);var l=c;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?rn(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&je(e,f):"children"===u?"string"===typeof f?("textarea"!==a||""!==f)&&Be(e,f):"number"===typeof f&&Be(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(T.hasOwnProperty(u)?null!=f&&cn(n,u):null!=f&&$(e,u,f,s))}switch(a){case"input":be(e),Ie(e,r,!1);break;case"textarea":be(e),Pe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ge(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ae(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=ln)}xn(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ma(La.current),Ma(Pa.current),Po(t)?(n=t.stateNode,r=t.memoizedProps,n[Nn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Nn]=t,t.stateNode=n)}return null;case 13:return pi(Ba),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Po(t):(r=null!==(a=e.memoizedState),n||null===a||null!==(a=e.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=a,a.nextEffect=u):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ba.current)?qu===Pu&&(qu=Mu):(qu!==Pu&&qu!==Mu||(qu=Fu),0!==Qu&&null!==ju&&(Ys(ju,zu),$s(ju,Qu)))),(n||r)&&(t.effectTag|=4),null);case 4:return Ua(),Ho(t),null;case 10:return oa(t),null;case 19:if(pi(Ba),null===(r=t.memoizedState))return null;if(a=0!==(64&t.effectTag),null===(u=r.rendering)){if(a)nu(r,!1);else if(qu!==Pu||null!==e&&0!==(64&e.effectTag))for(u=t.child;null!==u;){if(null!==(e=za(u))){for(t.effectTag|=64,nu(r,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)u=n,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=u,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,u=e.dependencies,a.dependencies=null===u?null:{expirationTime:u.expirationTime,firstContext:u.firstContext,responders:u.responders}),r=r.sibling;return vi(Ba,1&Ba.current|2),t.child}u=u.sibling}}else{if(!a)if(null!==(e=za(u))){if(t.effectTag|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),nu(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Gi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,nu(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Gi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Gi(),n.sibling=null,t=Ba.current,vi(Ba,a?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function iu(e){switch(e.tag){case 1:wi(e.type)&&_i();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ua(),pi(gi),pi(yi),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return ja(e),null;case 13:return pi(Ba),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return pi(Ba),null;case 4:return Ua(),null;case 10:return oa(e),null;default:return null}}function au(e,t){return{value:e,source:t,stack:ye(t)}}Wo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ho=function(){},Qo=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var u,s,c=t.stateNode;switch(Ma(Pa.current),e=null,n){case"input":o=_e(c,o),r=_e(c,r),e=[];break;case"option":o=Ce(c,o),r=Ce(c,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=Ne(c,o),r=Ne(c,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(c.onclick=ln)}for(u in on(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u)for(s in c=o[u])c.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(T.hasOwnProperty(u)?e||(e=[]):(e=e||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(e||(e=[]),e.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(u,l)):"children"===u?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(T.hasOwnProperty(u)?(null!=l&&cn(a,u),e||c===l||(e=[])):(e=e||[]).push(u,l))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},Xo=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var ou="function"===typeof WeakSet?WeakSet:Set;function uu(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ye(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function su(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ls(e,n)}else t.current=null}function cu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ea(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(o(163))}function lu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function fu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void fu(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:ea(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ya(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ya(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&xn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ft(n)))))}throw Error(o(163))}function du(e,t,n){switch("function"===typeof Vs&&Vs(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Qi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(a){Ls(i,a)}}e=e.next}while(e!==r)}))}break;case 1:su(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Ls(e,n)}}(t,n);break;case 5:su(t);break;case 4:ku(e,t,n)}}function pu(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&pu(t)}function vu(e){return 5===e.tag||3===e.tag||4===e.tag}function mu(e){e:{for(var t=e.return;null!==t;){if(vu(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Be(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?yu(e,n,t):gu(e,n,t)}function yu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ln));else if(4!==r&&null!==(e=e.child))for(yu(e,t,n),e=e.sibling;null!==e;)yu(e,t,n),e=e.sibling}function gu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(gu(e,t,n),e=e.sibling;null!==e;)gu(e,t,n),e=e.sibling}function ku(e,t,n){for(var r,i,a=t,u=!1;;){if(!u){u=a.return;e:for(;;){if(null===u)throw Error(o(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===a.tag||6===a.tag){e:for(var s=e,c=a,l=n,f=c;;)if(du(s,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=a.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(du(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(u=!1)}a.sibling.return=a.return,a=a.sibling}}function bu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void lu(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Rn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Te(n,r),un(e,i),t=un(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?rn(n,s):"dangerouslySetInnerHTML"===u?je(n,s):"children"===u?Be(n,s):$(n,u,s,t)}switch(e){case"input":Ee(n,r);break;case"textarea":Oe(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Ft(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Yu=Gi()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void wu(t);case 19:return void wu(t)}throw Error(o(163))}function wu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ou),t.forEach((function(t){var r=Fs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var _u="function"===typeof WeakMap?WeakMap:Map;function xu(e,t,n){(n=da(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zu||(Zu=!0,es=r),uu(e,t)},n}function Tu(e,t,n){(n=da(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return uu(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===ts?ts=new Set([this]):ts.add(this),uu(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Eu,Iu=Math.ceil,Su=Y.ReactCurrentDispatcher,Cu=Y.ReactCurrentOwner,Au=0,Nu=8,Ru=16,Ou=32,Pu=0,Du=1,Lu=2,Mu=3,Fu=4,Uu=5,Vu=Au,ju=null,Bu=null,zu=0,qu=Pu,Ku=null,Gu=1073741823,Wu=1073741823,Hu=null,Qu=0,Xu=!1,Yu=0,$u=500,Ju=null,Zu=!1,es=null,ts=null,ns=!1,rs=null,is=90,as=null,os=0,us=null,ss=0;function cs(){return(Vu&(Ru|Ou))!==Au?1073741821-(Gi()/10|0):0!==ss?ss:ss=1073741821-(Gi()/10|0)}function ls(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Wi();if(0===(4&t))return 99===r?1073741823:1073741822;if((Vu&Ru)!==Au)return zu;if(null!==n)e=Zi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Zi(e,150,100);break;case 97:case 96:e=Zi(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==ju&&e===zu&&--e,e}function fs(e,t){if(50<os)throw os=0,us=null,Error(o(185));if(null!==(e=hs(e,t))){var n=Wi();1073741823===t?(Vu&Nu)!==Au&&(Vu&(Ru|Ou))===Au?ms(e):(ps(e),Vu===Au&&$i()):ps(e),(4&Vu)===Au||98!==n&&99!==n||(null===as?as=new Map([[e,t]]):(void 0===(n=as.get(e))||n>t)&&as.set(e,t))}}function hs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(ju===i&&(xs(t),qu===Fu&&Ys(i,zu)),$s(i,t)),i}function ds(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Xs(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function ps(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Yi(ms.bind(null,e));else{var t=ds(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=cs();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Ui&&Ai(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Yi(ms.bind(null,e)):Xi(r,vs.bind(null,e),{timeout:10*(1073741821-t)-Gi()}),e.callbackNode=t}}}function vs(e,t){if(ss=0,t)return Js(e,t=cs()),ps(e),null;var n=ds(e);if(0!==n){if(t=e.callbackNode,(Vu&(Ru|Ou))!==Au)throw Error(o(327));if(Os(),e===ju&&n===zu||ks(e,n),null!==Bu){var r=Vu;Vu|=Ru;for(var i=ws();;)try{Es();break}catch(s){bs(e,s)}if(aa(),Vu=r,Su.current=i,qu===Du)throw t=Ku,ks(e,n),Ys(e,n),ps(e),t;if(null===Bu)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=qu,ju=null,r){case Pu:case Du:throw Error(o(345));case Lu:Js(e,2<n?2:n);break;case Mu:if(Ys(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Cs(i)),1073741823===Gu&&10<(i=Yu+$u-Gi())){if(Xu){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,ks(e,n);break}}if(0!==(a=ds(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=En(As.bind(null,e),i);break}As(e);break;case Fu:if(Ys(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Cs(i)),Xu&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,ks(e,n);break}if(0!==(i=ds(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Wu?r=10*(1073741821-Wu)-Gi():1073741823===Gu?r=0:(r=10*(1073741821-Gu)-5e3,0>(r=(i=Gi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Iu(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=En(As.bind(null,e),r);break}As(e);break;case Uu:if(1073741823!==Gu&&null!==Hu){a=Gu;var u=Hu;if(0>=(r=0|u.busyMinDurationMs)?r=0:(i=0|u.busyDelayMs,r=(a=Gi()-(10*(1073741821-a)-(0|u.timeoutMs||5e3)))<=i?0:i+r-a),10<r){Ys(e,n),e.timeoutHandle=En(As.bind(null,e),r);break}}As(e);break;default:throw Error(o(329))}if(ps(e),e.callbackNode===t)return vs.bind(null,e)}}return null}function ms(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Vu&(Ru|Ou))!==Au)throw Error(o(327));if(Os(),e===ju&&t===zu||ks(e,t),null!==Bu){var n=Vu;Vu|=Ru;for(var r=ws();;)try{Ts();break}catch(i){bs(e,i)}if(aa(),Vu=n,Su.current=r,qu===Du)throw n=Ku,ks(e,t),Ys(e,t),ps(e),n;if(null!==Bu)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,ju=null,As(e),ps(e)}return null}function ys(e,t){var n=Vu;Vu|=1;try{return e(t)}finally{(Vu=n)===Au&&$i()}}function gs(e,t){var n=Vu;Vu&=-2,Vu|=Nu;try{return e(t)}finally{(Vu=n)===Au&&$i()}}function ks(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,In(n)),null!==Bu)for(n=Bu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&_i();break;case 3:Ua(),pi(gi),pi(yi);break;case 5:ja(r);break;case 4:Ua();break;case 13:case 19:pi(Ba);break;case 10:oa(r)}n=n.return}ju=e,Bu=qs(e.current,null),zu=t,qu=Pu,Ku=null,Wu=Gu=1073741823,Hu=null,Qu=0,Xu=!1}function bs(e,t){for(;;){try{if(aa(),Ka.current=_o,Ya)for(var n=Ha.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Wa=0,Xa=Qa=Ha=null,Ya=!1,null===Bu||null===Bu.return)return qu=Du,Ku=t,Bu=null;e:{var i=e,a=Bu.return,o=Bu,u=t;if(t=zu,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var s=u;if(0===(2&o.mode)){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.expirationTime=c.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var l=0!==(1&Ba.current),f=a;do{var h;if(h=13===f.tag){var d=f.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var p=f.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!l)}}if(h){var v=f.updateQueue;if(null===v){var m=new Set;m.add(s),f.updateQueue=m}else v.add(s);if(0===(2&f.mode)){if(f.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var y=da(1073741823,null);y.tag=2,pa(o,y)}o.expirationTime=1073741823;break e}u=void 0,o=t;var g=i.pingCache;if(null===g?(g=i.pingCache=new _u,u=new Set,g.set(s,u)):void 0===(u=g.get(s))&&(u=new Set,g.set(s,u)),!u.has(o)){u.add(o);var k=Ms.bind(null,i,s,o);s.then(k,k)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);u=Error((me(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(o))}qu!==Uu&&(qu=Lu),u=au(u,o),f=a;do{switch(f.tag){case 3:s=u,f.effectTag|=4096,f.expirationTime=t,va(f,xu(f,s,t));break e;case 1:s=u;var b=f.type,w=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof b.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===ts||!ts.has(w)))){f.effectTag|=4096,f.expirationTime=t,va(f,Tu(f,s,t));break e}}f=f.return}while(null!==f)}Bu=Ss(Bu)}catch(_){t=_;continue}break}}function ws(){var e=Su.current;return Su.current=_o,null===e?_o:e}function _s(e,t){e<Gu&&2<e&&(Gu=e),null!==t&&e<Wu&&2<e&&(Wu=e,Hu=t)}function xs(e){e>Qu&&(Qu=e)}function Ts(){for(;null!==Bu;)Bu=Is(Bu)}function Es(){for(;null!==Bu&&!Vi();)Bu=Is(Bu)}function Is(e){var t=Eu(e.alternate,e,zu);return e.memoizedProps=e.pendingProps,null===t&&(t=Ss(e)),Cu.current=null,t}function Ss(e){Bu=e;do{var t=Bu.alternate;if(e=Bu.return,0===(2048&Bu.effectTag)){if(t=ru(t,Bu,zu),1===zu||1!==Bu.childExpirationTime){for(var n=0,r=Bu.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}Bu.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Bu.firstEffect),null!==Bu.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Bu.firstEffect),e.lastEffect=Bu.lastEffect),1<Bu.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Bu:e.firstEffect=Bu,e.lastEffect=Bu))}else{if(null!==(t=iu(Bu)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Bu.sibling))return t;Bu=e}while(null!==Bu);return qu===Pu&&(qu=Uu),null}function Cs(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function As(e){var t=Wi();return Qi(99,Ns.bind(null,e,t)),null}function Ns(e,t){do{Os()}while(null!==rs);if((Vu&(Ru|Ou))!==Au)throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Cs(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===ju&&(Bu=ju=null,zu=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=Vu;Vu|=Ou,Cu.current=null,wn=Ht;var u=vn();if(mn(u)){if("selectionStart"in u)var s={start:u.selectionStart,end:u.selectionEnd};else e:{var c=(s=(s=u.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(c&&0!==c.rangeCount){s=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{s.nodeType,f.nodeType}catch(I){s=null;break e}var h=0,d=-1,p=-1,v=0,m=0,y=u,g=null;t:for(;;){for(var k;y!==s||0!==l&&3!==y.nodeType||(d=h+l),y!==f||0!==c&&3!==y.nodeType||(p=h+c),3===y.nodeType&&(h+=y.nodeValue.length),null!==(k=y.firstChild);)g=y,y=k;for(;;){if(y===u)break t;if(g===s&&++v===l&&(d=h),g===f&&++m===c&&(p=h),null!==(k=y.nextSibling))break;g=(y=g).parentNode}y=k}s=-1===d||-1===p?null:{start:d,end:p}}else s=null}s=s||{start:0,end:0}}else s=null;_n={activeElementDetached:null,focusedElem:u,selectionRange:s},Ht=!1,Ju=i;do{try{Rs()}catch(I){if(null===Ju)throw Error(o(330));Ls(Ju,I),Ju=Ju.nextEffect}}while(null!==Ju);Ju=i;do{try{for(u=e,s=t;null!==Ju;){var b=Ju.effectTag;if(16&b&&Be(Ju.stateNode,""),128&b){var w=Ju.alternate;if(null!==w){var _=w.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:mu(Ju),Ju.effectTag&=-3;break;case 6:mu(Ju),Ju.effectTag&=-3,bu(Ju.alternate,Ju);break;case 1024:Ju.effectTag&=-1025;break;case 1028:Ju.effectTag&=-1025,bu(Ju.alternate,Ju);break;case 4:bu(Ju.alternate,Ju);break;case 8:ku(u,l=Ju,s),pu(l)}Ju=Ju.nextEffect}}catch(I){if(null===Ju)throw Error(o(330));Ls(Ju,I),Ju=Ju.nextEffect}}while(null!==Ju);if(_=_n,w=vn(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&pn(b.ownerDocument.documentElement,b)){null!==s&&mn(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),l=b.textContent.length,u=Math.min(s.start,l),s=void 0===s.end?u:Math.min(s.end,l),!_.extend&&u>s&&(l=s,s=u,u=l),l=dn(b,u),f=dn(b,s),l&&f&&(1!==_.rangeCount||_.anchorNode!==l.node||_.anchorOffset!==l.offset||_.focusNode!==f.node||_.focusOffset!==f.offset)&&((w=w.createRange()).setStart(l.node,l.offset),_.removeAllRanges(),u>s?(_.addRange(w),_.extend(f.node,f.offset)):(w.setEnd(f.node,f.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Ht=!!wn,_n=wn=null,e.current=n,Ju=i;do{try{for(b=e;null!==Ju;){var x=Ju.effectTag;if(36&x&&hu(b,Ju.alternate,Ju),128&x){w=void 0;var T=Ju.ref;if(null!==T){var E=Ju.stateNode;Ju.tag,w=E,"function"===typeof T?T(w):T.current=w}}Ju=Ju.nextEffect}}catch(I){if(null===Ju)throw Error(o(330));Ls(Ju,I),Ju=Ju.nextEffect}}while(null!==Ju);Ju=null,ji(),Vu=a}else e.current=n;if(ns)ns=!1,rs=e,is=t;else for(Ju=i;null!==Ju;)t=Ju.nextEffect,Ju.nextEffect=null,Ju=t;if(0===(t=e.firstPendingTime)&&(ts=null),1073741823===t?e===us?os++:(os=0,us=e):os=0,"function"===typeof Us&&Us(n.stateNode,r),ps(e),Zu)throw Zu=!1,e=es,es=null,e;return(Vu&Nu)!==Au||$i(),null}function Rs(){for(;null!==Ju;){var e=Ju.effectTag;0!==(256&e)&&cu(Ju.alternate,Ju),0===(512&e)||ns||(ns=!0,Xi(97,(function(){return Os(),null}))),Ju=Ju.nextEffect}}function Os(){if(90!==is){var e=97<is?97:is;return is=90,Qi(e,Ps)}}function Ps(){if(null===rs)return!1;var e=rs;if(rs=null,(Vu&(Ru|Ou))!==Au)throw Error(o(331));var t=Vu;for(Vu|=Ou,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:lu(5,n),fu(5,n)}}catch(r){if(null===e)throw Error(o(330));Ls(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Vu=t,$i(),!0}function Ds(e,t,n){pa(e,t=xu(e,t=au(n,t),1073741823)),null!==(e=hs(e,1073741823))&&ps(e)}function Ls(e,t){if(3===e.tag)Ds(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ds(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ts||!ts.has(r))){pa(n,e=Tu(n,e=au(t,e),1073741823)),null!==(n=hs(n,1073741823))&&ps(n);break}}n=n.return}}function Ms(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),ju===e&&zu===n?qu===Fu||qu===Mu&&1073741823===Gu&&Gi()-Yu<$u?ks(e,zu):Xu=!0:Xs(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,ps(e)))}function Fs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=ls(t=cs(),e,null)),null!==(e=hs(e,t))&&ps(e)}Eu=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||gi.current)Mo=!0;else{if(r<n){switch(Mo=!1,t.tag){case 3:Go(t),Do();break;case 5:if(Va(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:wi(t.type)&&Ei(t);break;case 4:Fa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,vi(ta,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?$o(e,t,n):(vi(Ba,1&Ba.current),null!==(t=tu(e,t,n))?t.sibling:null);vi(Ba,1&Ba.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return eu(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),vi(Ba,Ba.current),!r)return null}return tu(e,t,n)}Mo=!1}}else Mo=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=bi(t,yi.current),sa(t,n),i=Za(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,wi(r)){var a=!0;Ei(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,fa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ba(t,r,u,e),i.updater=wa,t.stateNode=i,i._reactInternalFiber=t,Ea(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"===typeof e)return zs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===se)return 11;if(e===fe)return 14}return 2}(i),e=ea(i,e),a){case 0:t=zo(null,t,i,e,n);break e;case 1:t=qo(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,ea(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,zo(e,t,r,i=t.elementType===r?i:ea(r,i),n);case 1:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:ea(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ha(e,t),ma(t,r,null,n),(r=t.memoizedState.element)===i)Do(),t=tu(e,t,n);else{if((i=t.stateNode.hydrate)&&(So=Sn(t.stateNode.containerInfo.firstChild),Io=t,i=Co=!0),i)for(n=Ra(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Fo(e,t,r,n),Do();t=t.child}return t;case 5:return Va(t),null===e&&Ro(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Tn(r,i)?u=null:null!==a&&Tn(r,a)&&(t.effectTag|=16),Bo(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Fo(e,t,u,n),t=t.child),t;case 6:return null===e&&Ro(t),null;case 13:return $o(e,t,n);case 4:return Fa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Na(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:ea(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(vi(ta,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=qr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!gi.current){t=tu(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=da(n,null)).tag=2,pa(s,l)),s.expirationTime<n&&(s.expirationTime=n),null!==(l=s.alternate)&&l.expirationTime<n&&(l.expirationTime=n),ua(s.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,sa(t,n),r=r(i=ca(i,a.unstable_observedBits)),t.effectTag|=1,Fo(e,t,r,n),t.child;case 14:return a=ea(i=t.type,t.pendingProps),Vo(e,t,i,a=ea(i.type,a),r,n);case 15:return jo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ea(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,wi(r)?(e=!0,Ei(t)):e=!1,sa(t,n),xa(t,r,i),Ea(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return eu(e,t,n)}throw Error(o(156,t.tag))};var Us=null,Vs=null;function js(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Bs(e,t,n,r){return new js(e,t,n,r)}function zs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qs(e,t){var n=e.alternate;return null===n?((n=Bs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ks(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)zs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case ne:return Gs(n.children,i,a,t);case ue:u=8,i|=7;break;case re:u=8,i|=1;break;case ie:return(e=Bs(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case ce:return(e=Bs(13,n,t,i)).type=ce,e.elementType=ce,e.expirationTime=a,e;case le:return(e=Bs(19,n,t,i)).elementType=le,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ae:u=10;break e;case oe:u=9;break e;case se:u=11;break e;case fe:u=14;break e;case he:u=16,r=null;break e;case de:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Bs(u,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function Gs(e,t,n,r){return(e=Bs(7,e,r,t)).expirationTime=n,e}function Ws(e,t,n){return(e=Bs(6,e,null,t)).expirationTime=n,e}function Hs(e,t,n){return(t=Bs(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qs(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Xs(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Ys(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function $s(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Js(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Zs(e,t,n,r){var i=t.current,a=cs(),u=ga.suspense;a=ls(a,i,u);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(wi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(wi(c)){n=Ti(n,c,s);break e}}n=s}else n=mi;return null===t.context?t.context=n:t.pendingContext=n,(t=da(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),pa(i,t),fs(i,a),a}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=new Qs(e,t,n=null!=n&&!0===n.hydrate),i=Bs(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,fa(i),e[On]=r.current,n&&0!==t&&function(e,t){var n=Ze(t);St.forEach((function(e){vt(e,t,n)})),Ct.forEach((function(e){vt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=ec(o);u.call(e)}}Zs(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=ec(o);s.call(e)}}gs((function(){Zs(t,o,e,i)}))}return ec(o)}function oc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}rc.prototype.render=function(e){Zs(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zs(null,e,null,(function(){t[On]=null}))},mt=function(e){if(13===e.tag){var t=Zi(cs(),150,100);fs(e,t),nc(e,t)}},yt=function(e){13===e.tag&&(fs(e,3),nc(e,3))},gt=function(e){if(13===e.tag){var t=cs();fs(e,t=ls(t,e,null)),nc(e,t)}},C=function(e,t,n){switch(t){case"input":if(Ee(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Mn(r);if(!i)throw Error(o(90));we(r),Ee(r,i)}}}break;case"textarea":Oe(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},D=ys,L=function(e,t,n,r,i){var a=Vu;Vu|=4;try{return Qi(98,e.bind(null,t,n,r,i))}finally{(Vu=a)===Au&&$i()}},M=function(){(Vu&(1|Ru|Ou))===Au&&(function(){if(null!==as){var e=as;as=null,e.forEach((function(e,t){Js(t,e),ps(t)})),$i()}}(),Os())},F=function(e,t){var n=Vu;Vu|=2;try{return e(t)}finally{(Vu=n)===Au&&$i()}};var uc={Events:[Dn,Ln,Mn,I,x,qn,function(e){at(e,zn)},O,P,Jt,st,Os,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Us=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Vs=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Pn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=oc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if((Vu&(Ru|Ou))!==Au)throw Error(o(187));var n=Vu;Vu|=1;try{return Qi(99,e.bind(null,t))}finally{Vu=n,$i()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(o(40));return!!e._reactRootContainer&&(gs((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[On]=null}))})),!0)},t.unstable_batchedUpdates=ys,t.unstable_createPortal=function(e,t){return oc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return ac(e,t,n,!1,r)},t.version="16.14.0"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,_="+"===k||"*"===k,x="?"===k||"*"===k,T=n[2]||l,E=y||g;r.push({name:m||a++,prefix:v||"",delimiter:T,optional:x,repeat:_,partial:w,asterisk:!!b,pattern:E?c(E):b?".*":"[^"+s(T)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}},228:function(e,t,n){"use strict";n(195)},374:function(e,t,n){"use strict";var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,u=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k={};function b(e,t,n){this.props=e,this.context=t,this.refs=k,this.updater=n||g}function w(){}function _(e,t,n){this.props=e,this.context=t,this.refs=k,this.updater=n||g}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=b.prototype;var x=_.prototype=new w;x.constructor=_,r(x,b.prototype),x.isPureReactComponent=!0;var T={current:null},E=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,i={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,r)&&!I.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:a,type:e,key:o,ref:u,props:i,_owner:T.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var A=/\/+/g,N=[];function R(e,t,n,r){if(N.length){var i=N.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function O(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>N.length&&N.push(e)}function P(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var u=!1;if(null===e)u=!0;else switch(i){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case a:case o:u=!0}}if(u)return n(r,e,""===t?"."+L(e,0):t),1;if(u=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){var c=t+L(i=e[s],s);u+=P(i,c,n,r)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=m&&e[m]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),s=0;!(i=e.next()).done;)u+=P(i=i.value,c=t+L(i,s++),n,r);else if("object"===i)throw n=""+e,Error(y(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return u}function D(e,t,n){return null==e?0:P(e,"",t,n)}function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?U(e,r,n,(function(e){return e})):null!=e&&(C(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function U(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(A,"$&/")+"/"),D(e,F,t=R(t,a,r,i)),O(t)}var V={current:null};function j(){var e=V.current;if(null===e)throw Error(y(321));return e}var B={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return U(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;D(e,M,t=R(null,null,t,n)),O(t)},count:function(e){return D(e,(function(){return null}),null)},toArray:function(e){var t=[];return U(e,t,null,(function(e){return e})),t},only:function(e){if(!C(e))throw Error(y(143));return e}},t.Component=b,t.Fragment=u,t.Profiler=c,t.PureComponent=_,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(y(267,e));var i=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=T.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)E.call(t,l)&&!I.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:a,type:e.type,key:o,ref:u,props:i,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return j().useCallback(e,t)},t.useContext=function(e,t){return j().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return j().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return j().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return j().useLayoutEffect(e,t)},t.useMemo=function(e,t){return j().useMemo(e,t)},t.useReducer=function(e,t,n){return j().useReducer(e,t,n)},t.useRef=function(e){return j().useRef(e)},t.useState=function(e){return j().useState(e)},t.version="16.14.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";var n,r,i,a,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,s=null,c=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}},l=Date.now();t.unstable_now=function(){return Date.now()-l},n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(c,0))},r=function(e,t){s=setTimeout(e,t)},i=function(){clearTimeout(s)},a=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,h=window.Date,d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)t.unstable_now=function(){return f.now()};else{var m=h.now();t.unstable_now=function(){return h.now()-m}}var y=!1,g=null,k=-1,b=5,w=0;a=function(){return t.unstable_now()>=w},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,x=_.port2;_.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+b;try{g(!0,e)?x.postMessage(null):(y=!1,g=null)}catch(n){throw x.postMessage(null),n}}else y=!1},n=function(e){g=e,y||(y=!0,x.postMessage(null))},r=function(e,n){k=d((function(){e(t.unstable_now())}),n)},i=function(){p(k),k=-1}}function T(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>S(o,n))void 0!==s&&0>S(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>S(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],A=[],N=1,R=null,O=3,P=!1,D=!1,L=!1;function M(e){for(var t=E(A);null!==t;){if(null===t.callback)I(A);else{if(!(t.startTime<=e))break;I(A),t.sortIndex=t.expirationTime,T(C,t)}t=E(A)}}function F(e){if(L=!1,M(e),!D)if(null!==E(C))D=!0,n(U);else{var t=E(A);null!==t&&r(F,t.startTime-e)}}function U(e,n){D=!1,L&&(L=!1,i()),P=!0;var o=O;try{for(M(n),R=E(C);null!==R&&(!(R.expirationTime>n)||e&&!a());){var u=R.callback;if(null!==u){R.callback=null,O=R.priorityLevel;var s=u(R.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?R.callback=s:R===E(C)&&I(C),M(n)}else I(C);R=E(C)}if(null!==R)var c=!0;else{var l=E(A);null!==l&&r(F,l.startTime-n),c=!1}return c}finally{R=null,O=o,P=!1}}function V(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var j=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||P||(D=!0,n(U))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return E(C)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();if("object"===typeof o&&null!==o){var s=o.delay;s="number"===typeof s&&0<s?u+s:u,o="number"===typeof o.timeout?o.timeout:V(e)}else o=V(e),s=u;return e={id:N++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>u?(e.sortIndex=s,T(A,e),null===E(C)&&e===E(A)&&(L?i():L=!0,r(F,s-u))):(e.sortIndex=o,T(C,e),D||P||(D=!0,n(U))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();M(e);var n=E(C);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<R.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return ir},SDK_VERSION:function(){return vi},_DEFAULT_ENTRY_NAME:function(){return ni},_addComponent:function(){return oi},_addOrOverwriteComponent:function(){return ui},_apps:function(){return ii},_clearComponents:function(){return fi},_components:function(){return ai},_getProvider:function(){return ci},_registerComponent:function(){return si},_removeServiceInstance:function(){return li},deleteApp:function(){return ki},getApp:function(){return yi},getApps:function(){return gi},initializeApp:function(){return mi},onLog:function(){return _i},registerVersion:function(){return wi},setLogLevel:function(){return xi}});var t=n(791),r=n(164);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||o(e,t)||u()}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function h(e){return"/"===e.charAt(0)}function d(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var p=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&h(e),o=t&&h(t),u=a||o;if(e&&h(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var s=i[i.length-1];n="."===s||".."===s||""===s}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?d(i,l):".."===f?(d(i,l),c++):c&&(d(i,l),c--)}if(!u)for(;c--;c)i.unshift("..");!u||""===i[0]||i[0]&&h(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function v(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var m=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=v(t),i=v(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},y=!0,g="Invariant failed";function k(e,t){if(!e){if(y)throw new Error(g);var n="function"===typeof t?t():t,r=n?"".concat(g,": ").concat(n):g;throw new Error(r)}}function b(e){return"/"===e.charAt(0)?e:"/"+e}function w(e){return"/"===e.charAt(0)?e.substr(1):e}function _(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function x(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function T(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function E(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=f({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=p(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function I(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var S=!("undefined"===typeof window||!window.document||!window.document.createElement);function C(e,t){t(window.confirm(e))}var A="popstate",N="hashchange";function R(){try{return window.history.state||{}}catch(e){return{}}}function O(e){void 0===e&&{},S||k(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,u=i.getUserConfirmation,s=void 0===u?C:u,c=i.keyLength,l=void 0===c?6:c,h=e.basename?x(b(e.basename)):"";function d(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return h&&_(a,h),E(a,r,n)}function p(){return Math.random().toString(36).substr(2,l)}var v=I();function m(e){f(j,e),j.length=t.length,v.notifyListeners(j.location,j.action)}function y(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||O(d(e.state))}function g(){O(d(R()))}var w=!1;function O(e){if(w)!1,m();else{v.confirmTransitionTo(e,"POP",s,(function(t){t?m({action:"POP",location:e}):function(e){var t=j.location,n=D.indexOf(t.key);-1===n&&0;var r=D.indexOf(e.key);-1===r&&0;var i=n-r;i&&(!0,M(i))}(e)}))}}var P=d(R()),D=[P.key];function L(e){return h+T(e)}function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?(window.addEventListener(A,y),r&&window.addEventListener(N,g)):0===F&&(window.removeEventListener(A,y),r&&window.removeEventListener(N,g))}var V=!1;var j={length:t.length,action:"POP",location:P,createHref:L,push:function(e,r){var i="PUSH",a=E(e,r,p(),j.location);v.confirmTransitionTo(a,i,s,(function(e){if(e){var r=L(a),u=a.key,s=a.state;if(n)if(t.pushState({key:u,state:s},null,r),o)window.location.href=r;else{var c=D.indexOf(j.location.key),l=D.slice(0,c+1);l.push(a.key),l,m({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=E(e,r,p(),j.location);v.confirmTransitionTo(a,i,s,(function(e){if(e){var r=L(a),u=a.key,s=a.state;if(n)if(t.replaceState({key:u,state:s},null,r),o)window.location.replace(r);else{var c=D.indexOf(j.location.key);-1!==c&&(D[c]=a.key),m({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&!1;var t=v.setPrompt(e);return V||(U(1),!0),function(){return V&&(!1,U(-1)),t()}},listen:function(e){var t=v.appendListener(e);return U(1),function(){U(-1),t()}}};return j}var P="hashchange",D={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+w(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:w,decodePath:b},slash:{encodePath:b,decodePath:b}};function L(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function M(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function F(e){window.location.replace(L(window.location.href)+"#"+e)}function U(e){void 0===e&&(e={}),S||k(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?C:r,a=n.hashType,o=void 0===a?"slash":a,u=e.basename?x(b(e.basename)):"",s=D[o],c=s.encodePath,l=s.decodePath;function h(){var e=l(M());return u&&(e=_(e,u)),E(e)}var d=I();function p(e){f(j,e),j.length=t.length,d.notifyListeners(j.location,j.action)}var v=!1,m=null;function y(){var e=M(),t=c(e);if(e!==t)F(t);else{var n=h(),r=j.location;if(!v&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(m===T(n))return;m=null,function(e){if(v)v=!1,p();else{var t="POP";d.confirmTransitionTo(e,t,i,(function(n){n?p({action:t,location:e}):function(e){var t=j.location,n=N.lastIndexOf(T(t));-1===n&&(n=0);var r=N.lastIndexOf(T(e));-1===r&&(r=0);var i=n-r;i&&(v=!0,R(i))}(e)}))}}(n)}}var g=M(),w=c(g);g!==w&&F(w);var A=h(),N=[T(A)];function R(e){t.go(e)}var O=0;function U(e){1===(O+=e)&&1===e?window.addEventListener(P,y):0===O&&window.removeEventListener(P,y)}var V=!1;var j={length:t.length,action:"POP",location:A,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=L(window.location.href)),n+"#"+c(u+T(e))},push:function(e,t){var n="PUSH",r=E(e,void 0,void 0,j.location);d.confirmTransitionTo(r,n,i,(function(e){if(e){var t=T(r),i=c(u+t);if(M()!==i){m=t,function(e){window.location.hash=e}(i);var a=N.lastIndexOf(T(j.location)),o=N.slice(0,a+1);o.push(t),N=o,p({action:n,location:r})}else p()}}))},replace:function(e,t){var n="REPLACE",r=E(e,void 0,void 0,j.location);d.confirmTransitionTo(r,n,i,(function(e){if(e){var t=T(r),i=c(u+t);M()!==i&&(m=t,F(i));var a=N.indexOf(T(j.location));-1!==a&&(N[a]=t),p({action:n,location:r})}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&(e=!1);var t=d.setPrompt(e);return V||(U(1),V=!0),function(){return V&&(V=!1,U(-1)),t()}},listen:function(e){var t=d.appendListener(e);return U(1),function(){U(-1),t()}}};return j}function V(e,t,n){return Math.min(Math.max(e,t),n)}var j=n(7),B=n.n(j),z=1073741823,q="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var K=t.createContext||function(e,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return q[e]=(q[e]||0)+1}()+"__",o=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}l(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):z,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[a]=B().object.isRequired,r);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}l(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?z:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?z:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[a]=B().object,i),{Provider:o,Consumer:u}},G=K,W=n(239),H=n.n(W);n(228);function Q(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(110);var X=function(e){var t=G();return t.displayName=e,t},Y=X("Router-History"),$=X("Router"),J=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}l(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement($.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(Y.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;var Z=function(e){function t(){return e.apply(this,arguments)||this}l(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(t.Component);var ee={},te=1e4,ne=0;function re(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(ee[e])return ee[e];var t=H().compile(e);return ne<te&&(ee[e]=t,ne++),t}(e)(t,{pretty:!0})}function ie(e){var n=e.computedMatch,r=e.to,i=e.push,a=void 0!==i&&i;return t.createElement($.Consumer,null,(function(e){e||k(!1);var i=e.history,o=e.staticContext,u=a?i.push:i.replace,s=E(n?"string"===typeof r?re(r,n.params):f({},r,{pathname:re(r.pathname,n.params)}):r);return o?(u(s),null):t.createElement(Z,{onMount:function(){u(s)},onUpdate:function(e,t){var n=E(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&m(e.state,t.state)})(n,f({},s,{key:n.key}))||u(s)},to:r})}))}var ae={},oe=1e4,ue=0;function se(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=ae[n]||(ae[n]={});if(r[e])return r[e];var i=[],a={regexp:H()(e,i,t),keys:i};return ue<oe&&(r[e]=a,ue++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var ce=function(e){function n(){return e.apply(this,arguments)||this}return l(n,e),n.prototype.render=function(){var e=this;return t.createElement($.Consumer,null,(function(n){n||k(!1);var r=e.props.location||n.location,i=f({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?se(r.pathname,e.props):n.match}),a=e.props,o=a.children,u=a.component,s=a.render;return Array.isArray(o)&&function(e){return 0===t.Children.count(e)}(o)&&(o=null),t.createElement($.Provider,{value:i},i.match?o?"function"===typeof o?o(i):o:u?t.createElement(u,i):s?s(i):null:"function"===typeof o?o(i):null)}))},n}(t.Component);function le(e){return"/"===e.charAt(0)?e:"/"+e}function fe(e,t){if(!e)return t;var n=le(e);return 0!==t.pathname.indexOf(n)?t:f({},t,{pathname:t.pathname.substr(n.length)})}function he(e){return"string"===typeof e?e:T(e)}function de(e){return function(){k(!1)}}function pe(){}t.Component;var ve=function(e){function n(){return e.apply(this,arguments)||this}return l(n,e),n.prototype.render=function(){var e=this;return t.createElement($.Consumer,null,(function(n){n||k(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?se(a.pathname,f({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);var me=t.useContext;t.Component;var ye=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=U(t.props),t}return l(n,e),n.prototype.render=function(){return t.createElement(J,{history:this.history,children:this.props.children})},n}(t.Component);var ge=function(e,t){return"function"===typeof e?e(t):e},ke=function(e,t){return"string"===typeof e?E(e,null,null,t):e},be=function(e){return e},we=t.forwardRef;"undefined"===typeof we&&(we=be);var _e=we((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=Q(e,["innerRef","navigate","onClick"]),u=o.target,s=f({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return s.ref=be!==we&&n||r,t.createElement("a",s)}));var xe=we((function(e,n){var r=e.component,i=void 0===r?_e:r,a=e.replace,o=e.to,u=e.innerRef,s=Q(e,["component","replace","to","innerRef"]);return t.createElement($.Consumer,null,(function(e){e||k(!1);var r=e.history,c=ke(ge(o,e.location),e.location),l=c?r.createHref(c):"",h=f({},s,{href:l,navigate:function(){var t=ge(o,e.location),n=T(e.location)===T(ke(t));(a||n?r.replace:r.push)(t)}});return be!==we?h.ref=n||u:h.innerRef=u,t.createElement(i,h)}))})),Te=function(e){return e},Ee=t.forwardRef;"undefined"===typeof Ee&&(Ee=Te);Ee((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,u=e.activeStyle,s=e.className,c=e.exact,l=e.isActive,h=e.location,d=e.sensitive,p=e.strict,v=e.style,m=e.to,y=e.innerRef,g=Q(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement($.Consumer,null,(function(e){e||k(!1);var r=h||e.location,a=ke(ge(m,r),r),b=a.pathname,w=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),_=w?se(r.pathname,{path:w,exact:c,sensitive:d,strict:p}):null,x=!!(l?l(_,r):_),T="function"===typeof s?s(x):s,E="function"===typeof v?v(x):v;x&&(T=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(T,o),E=f({},E,u));var I=f({"aria-current":x&&i||null,className:T,style:E,to:a},g);return Te!==Ee?I.ref=n||y:I.innerRef=y,t.createElement(xe,I)}))}));function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Se(){Se=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new E(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(I([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==Ie(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(g),s(g,u,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Ce(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ce(a,r,i,o,u,"next",e)}function u(e){Ce(a,r,i,o,u,"throw",e)}o(void 0)}))}}function Ne(e){return Ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Oe(e,t,n[t])}))}return e}function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Le=function(){},Me={},Fe={},Ue={mark:Le,measure:Le};try{"undefined"!==typeof window&&(Me=window),"undefined"!==typeof document&&(Fe=document),"undefined"!==typeof MutationObserver&&MutationObserver,"undefined"!==typeof performance&&(Ue=performance)}catch(MR){}var Ve=(Me.navigator||{}).userAgent,je=void 0===Ve?"":Ve,Be=Me,ze=Fe,qe=Ue,Ke=(Be.document,!!ze.documentElement&&!!ze.head&&"function"===typeof ze.addEventListener&&"function"===typeof ze.createElement),Ge=(~je.indexOf("MSIE")||je.indexOf("Trident/"),"___FONT_AWESOME___"),We="fa",He="svg-inline--fa",Qe="data-fa-i2svg",Xe=(function(){try{return!0}catch(MR){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),Ye=Xe.concat([11,12,13,14,15,16,17,18,19,20]),$e={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Je=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",$e.GROUP,$e.SWAP_OPACITY,$e.PRIMARY,$e.SECONDARY].concat(Xe.map((function(e){return"".concat(e,"x")}))).concat(Ye.map((function(e){return"w-".concat(e)}))),Be.FontAwesomeConfig||{});if(ze&&"function"===typeof ze.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=De(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=ze.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(Je[r]=i)}))}var Ze=Pe({},{familyPrefix:We,replacementClass:He,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Je);Ze.autoReplaceSvg||(Ze.observeMutations=!1);var et=Pe({},Ze);Be.FontAwesomeConfig=et;var tt=Be||{};tt[Ge]||(tt[Ge]={}),tt[Ge].styles||(tt[Ge].styles={}),tt[Ge].hooks||(tt[Ge].hooks={}),tt[Ge].shims||(tt[Ge].shims=[]);var nt=tt[Ge],rt=[];Ke&&((ze.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ze.readyState)||ze.addEventListener("DOMContentLoaded",(function e(){ze.removeEventListener("DOMContentLoaded",e),1,rt.map((function(e){return e()}))})));var it,at="pending",ot="settled",ut="fulfilled",st="rejected",ct=function(){},lt="undefined"!==typeof n.g&&"undefined"!==typeof n.g.process&&"function"===typeof n.g.process.emit,ft="undefined"===typeof setImmediate?setTimeout:setImmediate,ht=[];function dt(){for(var e=0;e<ht.length;e++)ht[e][0](ht[e][1]);ht=[],it=!1}function pt(e,t){ht.push([e,t]),it||(it=!0,ft(dt,0))}function vt(e){var t=e.owner,n=t._state,r=t._data,i=e[n],a=e.then;if("function"===typeof i){n=ut;try{r=i(r)}catch(MR){kt(a,MR)}}mt(a,r)||(n===ut&&yt(a,r),n===st&&kt(a,r))}function mt(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"===typeof t||"object"===Ne(t))){var r=t.then;if("function"===typeof r)return r.call(t,(function(r){n||(n=!0,t===r?gt(e,r):yt(e,r))}),(function(t){n||(n=!0,kt(e,t))})),!0}}catch(MR){return n||kt(e,MR),!0}return!1}function yt(e,t){e!==t&&mt(e,t)||gt(e,t)}function gt(e,t){e._state===at&&(e._state=ot,e._data=t,pt(wt,e))}function kt(e,t){e._state===at&&(e._state=ot,e._data=t,pt(_t,e))}function bt(e){e._then=e._then.forEach(vt)}function wt(e){e._state=ut,bt(e)}function _t(e){e._state=st,bt(e),!e._handled&&lt&&n.g.process.emit("unhandledRejection",e._data,e)}function xt(e){n.g.process.emit("rejectionHandled",e)}function Tt(e){if("function"!==typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof Tt===!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){kt(t,e)}try{e((function(e){yt(t,e)}),n)}catch(MR){n(MR)}}(e,this)}Tt.prototype={constructor:Tt,_state:at,_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(ct),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===st&&lt&&pt(xt,this)),this._state===ut||this._state===st?pt(vt,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},Tt.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new Tt((function(t,n){var r=[],i=0;function a(e){return i++,function(n){r[e]=n,--i||t(r)}}for(var o,u=0;u<e.length;u++)(o=e[u])&&"function"===typeof o.then?o.then(a(u),n):r[u]=o;i||t(r)}))},Tt.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new Tt((function(t,n){for(var r,i=0;i<e.length;i++)(r=e[i])&&"function"===typeof r.then?r.then(t,n):t(r)}))},Tt.resolve=function(e){return e&&"object"===Ne(e)&&e.constructor===Tt?e:new Tt((function(t){t(e)}))},Tt.reject=function(e){return new Tt((function(t,n){n(e)}))};var Et={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function It(e){if(e&&Ke){var t=ze.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=ze.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}return ze.head.insertBefore(t,r),e}}var St="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ct(){for(var e=12,t="";e-- >0;)t+=St[62*Math.random()|0];return t}function At(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Nt(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n],";")}),"")}function Rt(e){return e.size!==Et.size||e.x!==Et.x||e.y!==Et.y||e.rotate!==Et.rotate||e.flipX||e.flipY}function Ot(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),u="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(u)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var Pt={x:0,y:0,width:"100%",height:"100%"};function Dt(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function Lt(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,u=e.symbol,s=e.title,c=e.maskId,l=e.titleId,f=e.extra,h=e.watchable,d=void 0!==h&&h,p=r.found?r:n,v=p.width,m=p.height,y="fak"===i,g=y?"":"fa-w-".concat(Math.ceil(v/m*16)),k=[et.replacementClass,a?"".concat(et.familyPrefix,"-").concat(a):"",g].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),b={children:[],attributes:Pe({},f.attributes,{"data-prefix":i,"data-icon":a,class:k,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(m)})},w=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(v/m*16*.0625,"em")}:{};d&&(b.attributes[Qe]=""),s&&b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(l||Ct())},children:[s]});var _=Pe({},b,{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:u,styles:Pe({},w,f.styles)}),x=r.found&&n.found?function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,u=e.transform,s=i.width,c=i.icon,l=a.width,f=a.icon,h=Ot({transform:u,containerWidth:l,iconWidth:s}),d={tag:"rect",attributes:Pe({},Pt,{fill:"white"})},p=c.children?{children:c.children.map(Dt)}:{},v={tag:"g",attributes:Pe({},h.inner),children:[Dt(Pe({tag:c.tag,attributes:Pe({},c.attributes,h.path)},p))]},m={tag:"g",attributes:Pe({},h.outer),children:[v]},y="mask-".concat(o||Ct()),g="clip-".concat(o||Ct()),k={tag:"mask",attributes:Pe({},Pt,{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(t=f,"g"===t.tag?t.children:[t])},k]};return n.push(b,{tag:"rect",attributes:Pe({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(y,")")},Pt)}),{children:n,attributes:r}}(_):function(e){var t=e.children,n=e.attributes,r=e.main,i=e.transform,a=Nt(e.styles);if(a.length>0&&(n.style=a),Rt(i)){var o=Ot({transform:i,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:Pe({},o.outer),children:[{tag:"g",attributes:Pe({},o.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Pe({},r.icon.attributes,o.path)}]}]})}else t.push(r.icon);return{children:t,attributes:n}}(_),T=x.children,E=x.attributes;return _.children=T,_.attributes=E,u?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Pe({},i,{id:!0===a?"".concat(t,"-").concat(et.familyPrefix,"-").concat(n):a}),children:r}]}]}(_):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(Rt(o)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=Nt(Pe({},a,{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(_)}var Mt=function(){},Ft=(et.measurePerformance&&qe&&qe.mark&&qe.measure,function(e,t,n,r){var i,a,o,u=Object.keys(e),s=u.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[u[0]]):(i=0,o=n);i<s;i++)o=c(o,e[a=u[i]],a,e);return o});function Ut(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=Object.keys(t).reduce((function(e,n){var r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e}),{});"function"!==typeof nt.hooks.addPack||r?nt.styles[e]=Pe({},nt.styles[e]||{},i):nt.hooks.addPack(e,i),"fas"===e&&Ut("fa",t)}var Vt=nt.styles,jt=nt.shims,Bt=function(){var e=function(e){return Ft(Vt,(function(t,n,r){return t[r]=Ft(n,e,{}),t}),{})};e((function(e,t,n){return t[3]&&(e[t[3]]=n),e})),e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in Vt;Ft(jt,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),e[r]={prefix:i,iconName:a},e}),{})};Bt();nt.styles;function zt(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function qt(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?At(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(At(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(qt).join(""),"</").concat(t,">")}var Kt=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),t):t};function Gt(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}Gt.prototype=Object.create(Error.prototype),Gt.prototype.constructor=Gt;var Wt={fill:"currentColor"},Ht={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Qt={tag:"path",attributes:Pe({},Wt,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},Xt=Pe({},Ht,{attributeName:"opacity"});Pe({},Wt,{cx:"256",cy:"364",r:"28"}),Pe({},Ht,{attributeName:"r",values:"28;14;28;28;14;28;"}),Pe({},Xt,{values:"1;0;1;1;0;1;"}),Pe({},Wt,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Pe({},Xt,{values:"1;0;0;0;0;1;"}),Pe({},Wt,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Pe({},Xt,{values:"0;0;1;1;0;0;"}),nt.styles;function Yt(e){var t=e[0],n=e[1],r=De(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(et.familyPrefix,"-").concat($e.GROUP)},children:[{tag:"path",attributes:{class:"".concat(et.familyPrefix,"-").concat($e.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(et.familyPrefix,"-").concat($e.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}nt.styles;var $t='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';function Jt(){var e=We,t=He,n=et.familyPrefix,r=et.replacementClass,i=$t;if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),u=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(u,".".concat(r))}return i}var Zt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=Pe({},e.definitions[t]||{},i[t]),Ut(t,i[t]),Bt()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon;e[i]||(e[i]={}),e[i][a]=o})),e}}],n&&Re(t.prototype,n),r&&Re(t,r),e}();function en(){et.autoAddCss&&!on&&(It(Jt()),on=!0)}function tn(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return qt(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(Ke){var t=ze.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function nn(e){var t=e.prefix,n=void 0===t?"fa":t,r=e.iconName;if(r)return zt(an.definitions,n,r)||zt(nt.styles,n,r)}var rn,an=new Zt,on=!1,un={transform:function(e){return Kt(e)}},sn=(rn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Et:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,u=void 0===o?null:o,s=t.maskId,c=void 0===s?null:s,l=t.title,f=void 0===l?null:l,h=t.titleId,d=void 0===h?null:h,p=t.classes,v=void 0===p?[]:p,m=t.attributes,y=void 0===m?{}:m,g=t.styles,k=void 0===g?{}:g;if(e){var b=e.prefix,w=e.iconName,_=e.icon;return tn(Pe({type:"icon"},e),(function(){return en(),et.autoA11y&&(f?y["aria-labelledby"]="".concat(et.replacementClass,"-title-").concat(d||Ct()):(y["aria-hidden"]="true",y.focusable="false")),Lt({icons:{main:Yt(_),mask:u?Yt(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:w,transform:Pe({},Et,r),symbol:a,title:f,maskId:c,titleId:d,extra:{attributes:y,styles:k,classes:v}})}))}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:nn(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:nn(r||{})),rn(n,Pe({},t,{mask:r}))});function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){hn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fn(e){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn(e)}function hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pn(e){return function(e){if(Array.isArray(e))return vn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mn(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var yn=["style"];var gn=!1;try{gn=!0}catch(MR){}function kn(e){return e&&"object"===fn(e)&&e.prefix&&e.iconName&&e.icon?e:un.icon?un.icon(e):null===e?null:e&&"object"===fn(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function bn(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?hn({},e,t):{}}var wn=["forwardedRef"];function _n(e){var t=e.forwardedRef,n=dn(e,wn),r=n.icon,i=n.mask,a=n.symbol,o=n.className,u=n.title,s=n.titleId,c=n.maskId,l=kn(r),f=bn("classes",[].concat(pn(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,u=e.flash,s=e.spin,c=e.spinPulse,l=e.spinReverse,f=e.pulse,h=e.fixedWidth,d=e.inverse,p=e.border,v=e.listItem,m=e.flip,y=e.size,g=e.rotation,k=e.pull,b=(hn(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":u,"fa-spin":s,"fa-spin-reverse":l,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":h,"fa-inverse":d,"fa-border":p,"fa-li":v,"fa-flip":!0===m,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(y),"undefined"!==typeof y&&null!==y),hn(t,"fa-rotate-".concat(g),"undefined"!==typeof g&&null!==g&&0!==g),hn(t,"fa-pull-".concat(k),"undefined"!==typeof k&&null!==k),hn(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(b).map((function(e){return b[e]?e:null})).filter((function(e){return e}))}(n)),pn(o.split(" ")))),h=bn("transform","string"===typeof n.transform?un.transform(n.transform):n.transform),d=bn("mask",kn(i)),p=sn(l,ln(ln(ln(ln({},f),h),d),{},{symbol:a,title:u,titleId:s,maskId:c}));if(!p)return function(){var e;!gn&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",l),null;var v=p.abstract,m={ref:t};return Object.keys(n).forEach((function(e){_n.defaultProps.hasOwnProperty(e)||(m[e]=n[e])})),xn(v[0],m)}_n.displayName="FontAwesomeIcon",_n.propTypes={beat:B().bool,border:B().bool,beatFade:B().bool,bounce:B().bool,className:B().string,fade:B().bool,flash:B().bool,mask:B().oneOfType([B().object,B().array,B().string]),maskId:B().string,fixedWidth:B().bool,inverse:B().bool,flip:B().oneOf([!0,!1,"horizontal","vertical","both"]),icon:B().oneOfType([B().object,B().array,B().string]),listItem:B().bool,pull:B().oneOf(["right","left"]),pulse:B().bool,rotation:B().oneOf([0,90,180,270]),shake:B().bool,size:B().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:B().bool,spinPulse:B().bool,spinReverse:B().bool,symbol:B().oneOfType([B().bool,B().string]),title:B().string,titleId:B().string,transform:B().oneOfType([B().string,B().object]),swapOpacity:B().bool},_n.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var xn=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=mn(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[mn(t)]=r}return e}),{attrs:{}}),o=r.style,u=void 0===o?{}:o,s=dn(r,yn);return a.attrs.style=ln(ln({},a.attrs.style),u),t.apply(void 0,[n.tag,ln(ln({},a.attrs),s)].concat(pn(i)))}.bind(null,t.createElement),Tn={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},En={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]},In={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"]};function Sn(e){var t=function(e,t){if("object"!==Ie(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ie(t)?t:String(t)}function Cn(e,t,n){return(t=Sn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function An(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sn(r.key),r)}}function Rn(e,t,n){return t&&Nn(e.prototype,t),n&&Nn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function On(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function Pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function Ln(e){return Ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ln(e)}function Mn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(MR){return!1}}function Fn(e){var t=Mn();return function(){var n,r=Ln(e);if(t){var i=Ln(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ie(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pn(e)}(this,n)}}function Un(e,t,n){return Un=Mn()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&c(i,n.prototype),i},Un.apply(null,arguments)}function Vn(e){var t="function"===typeof Map?new Map:void 0;return Vn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Un(e,arguments,Ln(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,e)},Vn(e)}var jn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Bn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(jn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new zn;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},zn=function(e){Dn(n,e);var t=Fn(n);function n(){var e;return An(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return Rn(n)}(Vn(Error)),qn=function(e){return function(e){var t=jn(e);return Bn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Kn=function(e){try{return Bn.decodeString(e,!0)}catch(MR){console.error("base64Decode failed: ",MR)}return null};function Gn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Wn(n)&&(e[n]=Gn(e[n],t[n]));return e}function Wn(e){return"__proto__"!==e}var Hn=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Qn=function(){try{return Hn()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/nwitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyD5I1yAoCRPK3iOi2NOY8uX4N-rEgaLXag",REACT_APP_APP_ID:"1:963520057463:web:b9138fba480493a9347672",REACT_APP_AUTH_DOMAIN:"nwitter-481da.firebaseapp.com",REACT_APP_MESSAGING_SENDER_ID:"963520057463",REACT_APP_PROJECT_ID:"nwitter-481da",REACT_APP_STORAGE_BUCKET:"nwitter-481da.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(MR){return}var t=e&&Kn(e[1]);return t&&JSON.parse(t)}}()}catch(MR){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(MR))}},Xn=function(){var e;return null===(e=Qn())||void 0===e?void 0:e.config},Yn=function(){function e(){var t=this;An(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Rn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function $n(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[qn(JSON.stringify({alg:"none",type:"JWT"})),qn(JSON.stringify(a)),""].join(".")}function Jn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Zn(){var e,t=null===(e=Qn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(MR){return!1}}function er(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function tr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function nr(){var e=Jn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function rr(){try{return"object"===typeof indexedDB}catch(MR){return!1}}var ir=function(e){Dn(n,e);var t=Fn(n);function n(e,r,i){var a;return An(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Pn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Pn(a),ar.prototype.create),a}return Rn(n)}(Vn(Error)),ar=function(){function e(t,n,r){An(this,e),this.service=t,this.serviceName=n,this.errors=r}return Rn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(or,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new ir(n,a,t)}}]),e}();var or=/\{\$([^}]+)}/g;function ur(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function sr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(cr(u)&&cr(s)){if(!sr(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function cr(e){return null!==e&&"object"===typeof e}function lr(e){for(var t=[],n=function(){var e=s(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function fr(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=s(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function hr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function dr(e,t){var n=new pr(e,t);return n.subscribe.bind(n)}var pr=function(){function e(t,n){var r=this;An(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Rn(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=On(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=vr),void 0===r.error&&(r.error=vr),void 0===r.complete&&(r.complete=vr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(MR){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(MR){"undefined"!==typeof console&&console.error&&console.error(MR)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function vr(){}function mr(e){return e&&e._delegate?e._delegate:e}function yr(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function gr(e){return function(e){if(Array.isArray(e))return a(e)}(e)||yr(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var kr=function(){function e(t,n,r){An(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Rn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),br="[DEFAULT]",wr=function(){function e(t,n){An(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Rn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Yn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(MR){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(MR){if(r)return null;throw MR}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:br})}catch(MR){}var t,n=On(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(MR){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ae(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(gr(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),gr(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=On(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),c=u[0],l=u[1];r===this.normalizeInstanceIdentifier(c)&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=On(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(_I){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===br?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(_I){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br;return this.component?this.component.multipleInstances?e:br:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var _r,xr,Tr=function(){function e(t){An(this,e),this.name=t,this.providers=new Map}return Rn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new wr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Er=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(xr||(xr={}));var Ir={debug:xr.DEBUG,verbose:xr.VERBOSE,info:xr.INFO,warn:xr.WARN,error:xr.ERROR,silent:xr.SILENT},Sr=xr.INFO,Cr=(Cn(_r={},xr.DEBUG,"log"),Cn(_r,xr.VERBOSE,"log"),Cn(_r,xr.INFO,"info"),Cn(_r,xr.WARN,"warn"),Cn(_r,xr.ERROR,"error"),_r),Ar=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Cr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Nr=function(){function e(t){An(this,e),this.name=t,this._logLevel=Sr,this._logHandler=Ar,this._userLogHandler=null,Er.push(this)}return Rn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in xr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ir[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xr.DEBUG].concat(t)),this._logHandler.apply(this,[this,xr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,xr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xr.INFO].concat(t)),this._logHandler.apply(this,[this,xr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xr.WARN].concat(t)),this._logHandler.apply(this,[this,xr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xr.ERROR].concat(t)),this._logHandler.apply(this,[this,xr.ERROR].concat(t))}}]),e}();function Rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(n),!0).forEach((function(t){Cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pr,Dr,Lr=function(e,t){return t.some((function(t){return e instanceof t}))};var Mr=new WeakMap,Fr=new WeakMap,Ur=new WeakMap,Vr=new WeakMap,jr=new WeakMap;var Br={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Fr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ur.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function zr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Dr||(Dr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Gr(this),n),Kr(Mr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Kr(e.apply(Gr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Gr(this),t].concat(r));return Ur.set(a,t.sort?t.sort():[t]),Kr(a)}}function qr(e){return"function"===typeof e?zr(e):(e instanceof IDBTransaction&&function(e){if(!Fr.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Fr.set(e,t)}}(e),Lr(e,Pr||(Pr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Br):e)}function Kr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Kr(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Mr.set(t,e)})).catch((function(){})),jr.set(t,e),t}(e);if(Vr.has(e))return Vr.get(e);var t=qr(e);return t!==e&&(Vr.set(e,t),jr.set(t,e)),t}var Gr=function(e){return jr.get(e)};var Wr,Hr,Qr=["get","getKey","getAll","getAllKeys","count"],Xr=["put","add","delete","clear"],Yr=new Map;function $r(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Yr.get(t))return Yr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Xr.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Qr.includes(n))){var a=function(){var e=Ae(Se().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Yr.set(t,a),a}}}Br=function(e){return Or(Or({},e),{},{get:function(t,n,r){return $r(t,n)||e.get(t,n,r)},has:function(t,n){return!!$r(t,n)||e.has(t,n)}})}(Br);var Jr=function(){function e(t){An(this,e),this.container=t}return Rn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Zr="@firebase/app",ei="0.9.4",ti=new Nr("@firebase/app"),ni="[DEFAULT]",ri=(Cn(Wr={},Zr,"fire-core"),Cn(Wr,"@firebase/app-compat","fire-core-compat"),Cn(Wr,"@firebase/analytics","fire-analytics"),Cn(Wr,"@firebase/analytics-compat","fire-analytics-compat"),Cn(Wr,"@firebase/app-check","fire-app-check"),Cn(Wr,"@firebase/app-check-compat","fire-app-check-compat"),Cn(Wr,"@firebase/auth","fire-auth"),Cn(Wr,"@firebase/auth-compat","fire-auth-compat"),Cn(Wr,"@firebase/database","fire-rtdb"),Cn(Wr,"@firebase/database-compat","fire-rtdb-compat"),Cn(Wr,"@firebase/functions","fire-fn"),Cn(Wr,"@firebase/functions-compat","fire-fn-compat"),Cn(Wr,"@firebase/installations","fire-iid"),Cn(Wr,"@firebase/installations-compat","fire-iid-compat"),Cn(Wr,"@firebase/messaging","fire-fcm"),Cn(Wr,"@firebase/messaging-compat","fire-fcm-compat"),Cn(Wr,"@firebase/performance","fire-perf"),Cn(Wr,"@firebase/performance-compat","fire-perf-compat"),Cn(Wr,"@firebase/remote-config","fire-rc"),Cn(Wr,"@firebase/remote-config-compat","fire-rc-compat"),Cn(Wr,"@firebase/storage","fire-gcs"),Cn(Wr,"@firebase/storage-compat","fire-gcs-compat"),Cn(Wr,"@firebase/firestore","fire-fst"),Cn(Wr,"@firebase/firestore-compat","fire-fst-compat"),Cn(Wr,"fire-js","fire-js"),Cn(Wr,"firebase","fire-js-all"),Wr),ii=new Map,ai=new Map;function oi(e,t){try{e.container.addComponent(t)}catch(MR){ti.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),MR)}}function ui(e,t){e.container.addOrOverwriteComponent(t)}function si(e){var t=e.name;if(ai.has(t))return ti.debug("There were multiple attempts to register component ".concat(t,".")),!1;ai.set(t,e);var n,r=On(ii.values());try{for(r.s();!(n=r.n()).done;){oi(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ci(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function li(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ni;ci(e,t).clearInstance(n)}function fi(){ai.clear()}var hi=(Cn(Hr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Cn(Hr,"bad-app-name","Illegal App name: '{$appName}"),Cn(Hr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Cn(Hr,"app-deleted","Firebase App named '{$appName}' already deleted"),Cn(Hr,"no-options","Need to provide options, when not being deployed to hosting via source."),Cn(Hr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Cn(Hr,"invalid-log-argument","First argument to `onLog` must be null or a function."),Cn(Hr,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Cn(Hr,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Cn(Hr,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Cn(Hr,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Hr),di=new ar("app","Firebase",hi),pi=function(){function e(t,n,r){var i=this;An(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kr("app",(function(){return i}),"PUBLIC"))}return Rn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}}]),e}(),vi="9.17.2";function mi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:ni,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw di.create("bad-app-name",{appName:String(i)});if(n||(n=Xn()),!n)throw di.create("no-options");var a=ii.get(i);if(a){if(sr(n,a.options)&&sr(r,a.config))return a;throw di.create("duplicate-app",{appName:i})}var o,u=new Tr(i),s=On(ai.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new pi(n,r,u);return ii.set(i,l),l}function yi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni,t=ii.get(e);if(!t&&e===ni)return mi();if(!t)throw di.create("no-app",{appName:e});return t}function gi(){return Array.from(ii.values())}function ki(e){return bi.apply(this,arguments)}function bi(){return(bi=Ae(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ii.has(n)){e.next=6;break}return ii.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wi(e,t,n){var r,i=null!==(r=ri[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ti.warn(u.join(" "))}si(new kr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function _i(e,t){if(null!==e&&"function"!==typeof e)throw di.create("invalid-log-argument");!function(e,t){var n,r=On(Er);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ir[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:xr[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function xi(e){var t;t=e,Er.forEach((function(e){e.setLogLevel(t)}))}var Ti="firebase-heartbeat-database",Ei=1,Ii="firebase-heartbeat-store",Si=null;function Ci(){return Si||(Si=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Kr(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Kr(u.result),e.oldVersion,e.newVersion,Kr(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}(Ti,Ei,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ii)}}).catch((function(e){throw di.create("idb-open",{originalErrorMessage:e.message})}))),Si}function Ai(e){return Ni.apply(this,arguments)}function Ni(){return Ni=Ae(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ci();case 3:return n=e.sent,e.abrupt("return",n.transaction(Ii).objectStore(Ii).get(Pi(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof ir?ti.warn(e.t0.message):(r=di.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ti.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ni.apply(this,arguments)}function Ri(e,t){return Oi.apply(this,arguments)}function Oi(){return Oi=Ae(Se().mark((function e(t,n){var r,i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ci();case 3:return r=e.sent,i=r.transaction(Ii,"readwrite"),a=i.objectStore(Ii),e.next=8,a.put(n,Pi(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof ir?ti.warn(e.t0.message):(o=di.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ti.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Oi.apply(this,arguments)}function Pi(e){return"".concat(e.name,"!").concat(e.options.appId)}var Di=1024,Li=function(){function e(t){var n=this;An(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ji(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Rn(e,[{key:"triggerHeartbeat",value:function(){var e=Ae(Se().mark((function e(){var t,n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Mi(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ae(Se().mark((function e(){var t,n,r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Mi(),n=Fi(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=qn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Mi(){return(new Date).toISOString().substring(0,10)}function Fi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Di,r=[],i=e.slice(),a=On(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Bi(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Bi(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ui,Vi,ji=function(){function e(t){An(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Rn(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rr()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ae(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ai(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ae(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ri(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ae(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ri(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(gr(r.heartbeats),gr(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Bi(e){return qn(JSON.stringify({version:2,heartbeats:e})).length}Ui="",si(new kr("platform-logger",(function(e){return new Jr(e)}),"PRIVATE")),si(new kr("heartbeat",(function(e){return new Li(e)}),"PRIVATE")),wi(Zr,ei,Ui),wi(Zr,ei,"esm2017"),wi("fire-js","");var zi=function(){function e(t,n){var r=this;An(this,e),this._delegate=t,this.firebase=n,oi(t,new kr("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Rn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ki(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ni;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ni;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){oi(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ui(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),qi=(Cn(Vi={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Cn(Vi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Vi),Ki=new ar("app-compat","Firebase",qi);var Gi=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=mi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ur(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:wi,setLogLevel:xi,onLog:_i,apps:null,SDK_VERSION:vi,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(si(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ki.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Gn(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ur(n,e=e||ni))throw Ki.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(zi);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Gn(n,e)},createSubscribe:dr,ErrorFactory:ar,deepExtend:Gn}),n}(),Wi=new Nr("@firebase/app-compat"),Hi="@firebase/app-compat",Qi="0.2.4";if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Wi.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Xi=self.firebase.SDK_VERSION;Xi&&Xi.indexOf("LITE")>=0&&Wi.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Yi=Gi;!function(e){wi(Hi,Qi,e)}();function $i(){return $i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ln(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},$i.apply(this,arguments)}Yi.registerVersion("firebase","9.17.2","app-compat");function Ji(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Zi;Object.create;var ea={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ta={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function na(){return Cn({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ra=function(){var e;return Cn(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Cn(e,"argument-error",""),Cn(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Cn(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Cn(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Cn(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Cn(e,"cordova-not-ready","Cordova framework is not ready."),Cn(e,"cors-unsupported","This browser is not supported."),Cn(e,"credential-already-in-use","This credential is already associated with a different user account."),Cn(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Cn(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Cn(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Cn(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Cn(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Cn(e,"email-already-in-use","The email address is already in use by another account."),Cn(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Cn(e,"expired-action-code","The action code has expired."),Cn(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Cn(e,"internal-error","An internal AuthError has occurred."),Cn(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Cn(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Cn(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Cn(e,"invalid-auth-event","An internal AuthError has occurred."),Cn(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Cn(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Cn(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Cn(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Cn(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Cn(e,"invalid-email","The email address is badly formatted."),Cn(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Cn(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Cn(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Cn(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Cn(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Cn(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Cn(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Cn(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Cn(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Cn(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Cn(e,"wrong-password","The password is invalid or the user does not have a password."),Cn(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Cn(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Cn(e,"invalid-provider-id","The specified provider ID is invalid."),Cn(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Cn(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Cn(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Cn(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Cn(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Cn(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Cn(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Cn(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Cn(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Cn(e,"missing-continue-uri","A continue URL must be provided in the request."),Cn(e,"missing-iframe-start","An internal AuthError has occurred."),Cn(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Cn(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Cn(e,"missing-multi-factor-info","No second factor identifier is provided."),Cn(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Cn(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Cn(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Cn(e,"app-deleted","This instance of FirebaseApp has been deleted."),Cn(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Cn(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Cn(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Cn(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Cn(e,"no-auth-event","An internal AuthError has occurred."),Cn(e,"no-such-provider","User was not linked to an account with the given provider."),Cn(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Cn(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Cn(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Cn(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Cn(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Cn(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Cn(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Cn(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Cn(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Cn(e,"rejected-credential","The request contains malformed or mismatching credentials."),Cn(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Cn(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Cn(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Cn(e,"timeout","The operation has timed out."),Cn(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Cn(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Cn(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Cn(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Cn(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Cn(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Cn(e,"unverified-email","The operation requires a verified email."),Cn(e,"user-cancelled","The user did not grant your application the permissions it requested."),Cn(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Cn(e,"user-disabled","The user account has been disabled by an administrator."),Cn(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Cn(e,"user-signed-out",""),Cn(e,"weak-password","The password must be 6 characters long or more."),Cn(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Cn(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},ia=na,aa=new ar("auth","Firebase",na()),oa=new Nr("@firebase/auth");function ua(e){if(oa.logLevel<=xr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];oa.error.apply(oa,["Auth (".concat(vi,"): ").concat(e)].concat(n))}}function sa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ha.apply(void 0,[e].concat(n))}function ca(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ha.apply(void 0,[e].concat(n))}function la(e,t,n){var r=Object.assign(Object.assign({},ia()),Cn({},t,n));return new ar("auth","Firebase",r).create(t,{appName:e.name})}function fa(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&sa(e,"argument-error"),la(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ha(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=gr(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(gr(o)))}return aa.create.apply(aa,[e].concat(n))}function da(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ha.apply(void 0,[t].concat(r))}}function pa(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ua(t),new Error(t)}function va(e,t){e||pa(t)}var ma=new Map;function ya(e){va(e instanceof Function,"Expected a class definition");var t=ma.get(e);return t?(va(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ma.set(e,t),t)}function ga(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ka(){return"http:"===ba()||"https:"===ba()}function ba(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var wa=function(){function e(t,n){An(this,e),this.shortDelay=t,this.longDelay=n,va(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jn())||tr()}return Rn(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ka()||er()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function _a(e,t){va(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var xa=function(){function e(){An(this,e)}return Rn(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void pa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void pa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void pa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ta=(Cn(Zi={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Cn(Zi,"MISSING_CUSTOM_TOKEN","internal-error"),Cn(Zi,"INVALID_IDENTIFIER","invalid-email"),Cn(Zi,"MISSING_CONTINUE_URI","internal-error"),Cn(Zi,"INVALID_PASSWORD","wrong-password"),Cn(Zi,"MISSING_PASSWORD","internal-error"),Cn(Zi,"EMAIL_EXISTS","email-already-in-use"),Cn(Zi,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Cn(Zi,"INVALID_IDP_RESPONSE","invalid-credential"),Cn(Zi,"INVALID_PENDING_TOKEN","invalid-credential"),Cn(Zi,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Cn(Zi,"MISSING_REQ_TYPE","internal-error"),Cn(Zi,"EMAIL_NOT_FOUND","user-not-found"),Cn(Zi,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Cn(Zi,"EXPIRED_OOB_CODE","expired-action-code"),Cn(Zi,"INVALID_OOB_CODE","invalid-action-code"),Cn(Zi,"MISSING_OOB_CODE","internal-error"),Cn(Zi,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Cn(Zi,"INVALID_ID_TOKEN","invalid-user-token"),Cn(Zi,"TOKEN_EXPIRED","user-token-expired"),Cn(Zi,"USER_NOT_FOUND","user-token-expired"),Cn(Zi,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Cn(Zi,"INVALID_CODE","invalid-verification-code"),Cn(Zi,"INVALID_SESSION_INFO","invalid-verification-id"),Cn(Zi,"INVALID_TEMPORARY_PROOF","invalid-credential"),Cn(Zi,"MISSING_SESSION_INFO","missing-verification-id"),Cn(Zi,"SESSION_EXPIRED","code-expired"),Cn(Zi,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Cn(Zi,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Cn(Zi,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Cn(Zi,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Cn(Zi,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Cn(Zi,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Cn(Zi,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Cn(Zi,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Cn(Zi,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Cn(Zi,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Cn(Zi,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Zi),Ea=new wa(3e4,6e4);function Ia(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Sa(e,t,n,r){return Ca.apply(this,arguments)}function Ca(){return Ca=Ae(Se().mark((function e(t,n,r,i){var a,o=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Aa(t,a,Ae(Se().mark((function e(){var a,o,u,s;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=lr(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",xa.fetch()(Pa(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Ca.apply(this,arguments)}function Aa(e,t,n){return Na.apply(this,arguments)}function Na(){return(Na=Ae(Se().mark((function e(t,n,r){var i,a,o,u,c,l,f,h,d,p;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ta),n),e.prev=2,a=new Da(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw La(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=o.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=s(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw La(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw La(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw La(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw la(t,p,d);case 34:sa(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof ir)){e.next=41;break}throw e.t0;case 41:sa(t,"internal-error",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function Ra(e,t,n,r){return Oa.apply(this,arguments)}function Oa(){return Oa=Ae(Se().mark((function e(t,n,r,i){var a,o,u=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Sa(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&sa(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Oa.apply(this,arguments)}function Pa(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?_a(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Da=function(){function e(t){var n=this;An(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ca(n.auth,"network-request-failed"))}),Ea.get())}))}return Rn(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function La(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ca(e,t,r);return i.customData._tokenResponse=n,i}function Ma(e,t){return Fa.apply(this,arguments)}function Fa(){return(Fa=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ua(e,t){return Va.apply(this,arguments)}function Va(){return(Va=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ja(e,t){return Ba.apply(this,arguments)}function Ba(){return(Ba=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function za(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(MR){}}function qa(){return qa=Ae(Se().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=mr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,da((a=Ga(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:za(Ka(a.auth_time)),issuedAtTime:za(Ka(a.iat)),expirationTime:za(Ka(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),qa.apply(this,arguments)}function Ka(e){return 1e3*Number(e)}function Ga(e){var t=s(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return ua("JWT malformed, contained fewer than 3 sections"),null;try{var a=Kn(r);return a?JSON.parse(a):(ua("Failed to decode base64 JWT payload"),null)}catch(MR){return ua("Caught error parsing JWT payload as JSON",null===MR||void 0===MR?void 0:MR.toString()),null}}function Wa(e,t){return Ha.apply(this,arguments)}function Ha(){return Ha=Ae(Se().mark((function e(t,n){var r=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ir&&Qa(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ha.apply(this,arguments)}function Qa(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Xa=function(){function e(t){An(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Rn(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ae(Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ya=function(){function e(t,n){An(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Rn(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=za(this.lastLoginAt),this.creationTime=za(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function $a(e){return Ja.apply(this,arguments)}function Ja(){return Ja=Ae(Se().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Wa(t,ja(r,{idToken:i}));case 6:da(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Ji(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=eo(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Ya(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Ja.apply(this,arguments)}function Za(){return(Za=Ae(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mr(t),e.next=3,$a(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eo(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(gr(n),gr(t))}function to(e,t){return no.apply(this,arguments)}function no(){return(no=Ae(Se().mark((function e(t,n){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Aa(t,{},Ae(Se().mark((function e(){var r,i,a,o,u,s;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Pa(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",xa.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ro=function(){function e(){An(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Rn(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){da(e.idToken,"internal-error"),da("undefined"!==typeof e.idToken,"internal-error"),da("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ga(e);return da(t,"internal-error"),da("undefined"!==typeof t.exp,"internal-error"),da("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ae(Se().mark((function e(t){var n,r=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],da(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ae(Se().mark((function e(t,n){var r,i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return pa("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(da("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(da("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(da("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function io(e,t){da("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ao=function(){function e(t){An(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ji(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?gr(a.providerData):[],this.metadata=new Ya(a.createdAt||void 0,a.lastLoginAt||void 0)}return Rn(e,[{key:"getIdToken",value:function(){var e=Ae(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wa(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(da(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return qa.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Za.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(da(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){da(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ae(Se().mark((function e(t){var n,r,i=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,$a(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ae(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Wa(this,Ma(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;da(k&&x,t,"internal-error");var T=ro.fromJSON(this.name,x);da("string"===typeof k,t,"internal-error"),io(f,t.name),io(h,t.name),da("boolean"===typeof b,t,"internal-error"),da("boolean"===typeof w,t,"internal-error"),io(d,t.name),io(p,t.name),io(v,t.name),io(m,t.name),io(y,t.name),io(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:T,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Ae(Se().mark((function t(n,r){var i,a,o,u=arguments;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new ro).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,$a(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),oo=function(){function e(){An(this,e),this.type="NONE",this.storage={}}return Rn(e,[{key:"_isAvailable",value:function(){var e=Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ae(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();oo.type="NONE";var uo=oo;function so(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var co=function(){function e(t,n,r){An(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=so(this.userKey,a.apiKey,o),this.fullPersistenceKey=so("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Rn(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ae(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ao._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ae(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ae(Se().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(ya(uo),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||ya(uo),u=so(i,n.config.apiKey,n.name),s=null,c=On(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=ao._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function lo(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fo(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yo(t))return"Blackberry";if(go(t))return"Webos";if(ho(t))return"Safari";if((t.includes("chrome/")||po(t))&&!t.includes("edge/"))return"Chrome";if(mo(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function fo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return/firefox\//i.test(e)}function ho(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function po(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return/crios\//i.test(e)}function vo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return/iemobile/i.test(e)}function mo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return/android/i.test(e)}function yo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return/blackberry/i.test(e)}function go(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return/webos/i.test(e)}function ko(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function bo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return ko(e)||mo(e)||go(e)||yo(e)||/windows phone/i.test(e)||vo(e)}function wo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=lo(Jn());break;case"Worker":t="".concat(lo(Jn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(vi,"/").concat(r)}var _o=function(){function e(t){An(this,e),this.auth=t,this.queue=[]}return Rn(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(MR){r(MR)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ae(Se().mark((function e(t){var n,r,i,a,o,u,s;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=On(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=On(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),xo=function(){function e(t,n,r){An(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eo(this),this.idTokenSubscription=new Eo(this),this.beforeStateQueue=new _o(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aa,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Rn(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=ya(t)),this._initializationPromise=this.queue(Ae(Se().mark((function r(){var i,a;return Se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,co.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ae(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ae(Se().mark((function e(t){var n,r,i,a,o,u,s;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return da(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ae(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$a(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ae(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?mr(t):null)&&da(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ae(Se().mark((function e(t){var n,r=this,i=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&da(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ae(Se().mark((function n(){return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(ya(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ar("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ae(Se().mark((function e(t,n){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ae(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return da(n=t&&ya(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,co.create(this,[ya(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ae(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ae(Se().mark((function e(t){var n=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return da(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return da(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wo(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ae(Se().mark((function e(){var t,n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cn({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function To(e){return mr(e)}var Eo=function(){function e(t){var n=this;An(this,e),this.auth=t,this.observer=null,this.addObserver=dr((function(e){return n.observer=e}))}return Rn(e,[{key:"next",get:function(){return da(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Io(e,t,n){var r=To(e);da(r._canInitEmulator,r,"emulator-config-failed"),da(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=So(t),o=function(e){var t=So(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Co(r.substr(a.length+1))}}var o=s(r.split(":"),2);return{host:o[0],port:Co(o[1])}}(t),u=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function So(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Co(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ao=function(){function e(t,n){An(this,e),this.providerId=t,this.signInMethod=n}return Rn(e,[{key:"toJSON",value:function(){return pa("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return pa("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return pa("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return pa("not implemented")}}]),e}();function No(e,t){return Ro.apply(this,arguments)}function Ro(){return(Ro=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:resetPassword",Ia(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oo(e,t){return Po.apply(this,arguments)}function Po(){return(Po=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Do(e,t){return Lo.apply(this,arguments)}function Lo(){return(Lo=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:update",Ia(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mo(e,t){return Fo.apply(this,arguments)}function Fo(){return(Fo=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ra(t,"POST","/v1/accounts:signInWithPassword",Ia(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uo(e,t){return Vo.apply(this,arguments)}function Vo(){return(Vo=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:sendOobCode",Ia(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jo(e,t){return Bo.apply(this,arguments)}function Bo(){return(Bo=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uo(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zo(e,t){return qo.apply(this,arguments)}function qo(){return(qo=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uo(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ko(e,t){return Go.apply(this,arguments)}function Go(){return(Go=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uo(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wo(e,t){return Ho.apply(this,arguments)}function Ho(){return(Ho=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uo(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qo(e,t){return Xo.apply(this,arguments)}function Xo(){return(Xo=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ra(t,"POST","/v1/accounts:signInWithEmailLink",Ia(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yo(e,t){return $o.apply(this,arguments)}function $o(){return($o=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ra(t,"POST","/v1/accounts:signInWithEmailLink",Ia(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jo=function(e){Dn(n,e);var t=Fn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return An(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Rn(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Mo(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Qo(t,{email:this._email,oobCode:this._password}));case 5:sa(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Oo(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Yo(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:sa(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ao);function Zo(e,t){return eu.apply(this,arguments)}function eu(){return(eu=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ra(t,"POST","/v1/accounts:signInWithIdp",Ia(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tu=function(e){Dn(n,e);var t=Fn(n);function n(){var e;return An(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Rn(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Zo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Zo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Zo(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=lr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):sa("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ji(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ao);function nu(e,t){return ru.apply(this,arguments)}function ru(){return(ru=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:sendVerificationCode",Ia(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iu(){return(iu=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ra(t,"POST","/v1/accounts:signInWithPhoneNumber",Ia(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function au(){return(au=Ae(Se().mark((function e(t,n){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ra(t,"POST","/v1/accounts:signInWithPhoneNumber",Ia(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw La(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ou=Cn({},"USER_NOT_FOUND","user-not-found");function uu(){return(uu=Ae(Se().mark((function e(t,n){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ra(t,"POST","/v1/accounts:signInWithPhoneNumber",Ia(t,r),ou));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var su=function(e){Dn(n,e);var t=Fn(n);function n(e){var r;return An(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Rn(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return iu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return au.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return uu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ao);var cu=function(){function e(t){var n,r,i,a,o,u;An(this,e);var s=fr(hr(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);da(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Rn(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=fr(hr(e)).link,n=t?fr(hr(t)).deep_link_id:null,r=fr(hr(e)).deep_link_id;return(r?fr(hr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(_I){return null}}}]),e}();var lu=function(){function e(){An(this,e),this.providerId=e.PROVIDER_ID}return Rn(e,null,[{key:"credential",value:function(e,t){return Jo._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=cu.parseLink(t);return da(n,"argument-error"),Jo._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();lu.PROVIDER_ID="password",lu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",lu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var fu=function(){function e(t){An(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Rn(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),hu=function(e){Dn(n,e);var t=Fn(n);function n(){var e;return An(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Rn(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return gr(this.scopes)}}]),n}(fu),du=function(e){Dn(n,e);var t=Fn(n);function n(){return An(this,n),t.apply(this,arguments)}return Rn(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return da(e.idToken||e.accessToken,"argument-error"),tu._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return da("providerId"in t&&"signInMethod"in t,"argument-error"),tu._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(MR){return null}}}]),n}(hu),pu=function(e){Dn(n,e);var t=Fn(n);function n(){return An(this,n),t.call(this,"facebook.com")}return Rn(n,null,[{key:"credential",value:function(e){return tu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(_I){return null}}}]),n}(hu);pu.FACEBOOK_SIGN_IN_METHOD="facebook.com",pu.PROVIDER_ID="facebook.com";var vu=function(e){Dn(n,e);var t=Fn(n);function n(){var e;return An(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Rn(n,null,[{key:"credential",value:function(e,t){return tu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(_I){return null}}}]),n}(hu);vu.GOOGLE_SIGN_IN_METHOD="google.com",vu.PROVIDER_ID="google.com";var mu=function(e){Dn(n,e);var t=Fn(n);function n(){return An(this,n),t.call(this,"github.com")}return Rn(n,null,[{key:"credential",value:function(e){return tu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(_I){return null}}}]),n}(hu);mu.GITHUB_SIGN_IN_METHOD="github.com",mu.PROVIDER_ID="github.com";var yu=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Rn(n,[{key:"_getIdTokenResponse",value:function(e){return Zo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Zo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Zo(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ao),gu=function(e){Dn(n,e);var t=Fn(n);function n(e){return An(this,n),da(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Rn(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=yu.fromJSON(e);return da(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return yu._create(r,n)}catch(MR){return null}}}]),n}(fu),ku=function(e){Dn(n,e);var t=Fn(n);function n(){return An(this,n),t.call(this,"twitter.com")}return Rn(n,null,[{key:"credential",value:function(e,t){return tu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(_I){return null}}}]),n}(hu);function bu(e,t){return wu.apply(this,arguments)}function wu(){return(wu=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ra(t,"POST","/v1/accounts:signUp",Ia(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}ku.TWITTER_SIGN_IN_METHOD="twitter.com",ku.PROVIDER_ID="twitter.com";var _u=function(){function e(t){An(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Rn(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ae(Se().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ao._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=xu(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ae(Se().mark((function t(n,r,i){var a;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=xu(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function xu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Tu(){return Tu=Ae(Se().mark((function e(t){var n,r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=To(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new _u({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,bu(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,_u._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Tu.apply(this,arguments)}var Eu=function(e){Dn(n,e);var t=Fn(n);function n(e,r,i,a){var o,u;return An(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Pn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Rn(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ir);function Iu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Eu._fromErrorAndOperation(e,n,t,r);throw n}))}function Su(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Cu(e,t){return Au.apply(this,arguments)}function Au(){return Au=Ae(Se().mark((function e(t,n){var r,i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mr(t),e.next=3,Ou(!0,r,n);case 3:return e.t0=Ua,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Su(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Au.apply(this,arguments)}function Nu(e,t){return Ru.apply(this,arguments)}function Ru(){return Ru=Ae(Se().mark((function e(t,n){var r,i,a=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Wa,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",_u._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ru.apply(this,arguments)}function Ou(e,t,n){return Pu.apply(this,arguments)}function Pu(){return(Pu=Ae(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$a(n);case 2:i=Su(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",da(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Du(e,t){return Lu.apply(this,arguments)}function Lu(){return Lu=Ae(Se().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Wa(t,Iu(i,a,n,t),r);case 6:return da((o=e.sent).idToken,i,"internal-error"),da(u=Ga(o.idToken),i,"internal-error"),s=u.sub,da(t.uid===s,i,"user-mismatch"),e.abrupt("return",_u._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&sa(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Lu.apply(this,arguments)}function Mu(e,t){return Fu.apply(this,arguments)}function Fu(){return Fu=Ae(Se().mark((function e(t,n){var r,i,a,o,u=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Iu(t,i,n);case 4:return a=e.sent,e.next=7,_u._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Fu.apply(this,arguments)}function Uu(e,t){return Vu.apply(this,arguments)}function Vu(){return(Vu=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mu(To(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ju(e,t){return Bu.apply(this,arguments)}function Bu(){return(Bu=Ae(Se().mark((function e(t,n){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mr(t),e.next=3,Ou(!1,r,n.providerId);case 3:return e.abrupt("return",Nu(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zu(e,t){return qu.apply(this,arguments)}function qu(){return(qu=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Du(mr(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ku(e,t){return Gu.apply(this,arguments)}function Gu(){return(Gu=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ra(t,"POST","/v1/accounts:signInWithCustomToken",Ia(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wu(){return(Wu=Ae(Se().mark((function e(t,n){var r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=To(t),e.next=3,Ku(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,_u._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hu=function(){function e(t,n){An(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Rn(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Qu._fromServerResponse(e,t):sa(e,"internal-error")}}]),e}(),Qu=function(e){Dn(n,e);var t=Fn(n);function n(e){var r;return An(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Rn(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Hu);function Xu(e,t,n){var r;da((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),da("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(da(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(da(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Yu(){return(Yu=Ae(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mr(t),a={requestType:"PASSWORD_RESET",email:n},r&&Xu(i,a,r),e.next=5,zo(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $u(){return($u=Ae(Se().mark((function e(t,n,r){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,No(mr(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ju(){return(Ju=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Do(mr(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zu(e,t){return es.apply(this,arguments)}function es(){return(es=Ae(Se().mark((function e(t,n){var r,i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mr(t),e.next=3,No(r,{oobCode:n});case 3:i=e.sent,da(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return da(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:da(i.mfaInfo,r,"internal-error");case 13:da(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Hu._fromServerResponse(To(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ts(){return(ts=Ae(Se().mark((function e(t,n){var r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zu(mr(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ns(e,t,n){return rs.apply(this,arguments)}function rs(){return(rs=Ae(Se().mark((function e(t,n,r){var i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=To(t),e.next=3,bu(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,_u._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function is(){return(is=Ae(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mr(t),a={requestType:"EMAIL_SIGNIN",email:n},da(r.handleCodeInApp,i,"argument-error"),r&&Xu(i,a,r),e.next=6,Ko(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function as(){return(as=Ae(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mr(t),da((a=lu.credentialWithLink(n,r||ga()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Uu(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function os(e,t){return us.apply(this,arguments)}function us(){return(us=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:createAuthUri",Ia(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ss(){return(ss=Ae(Se().mark((function e(t,n){var r,i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ka()?ga():"http://localhost",i={identifier:n,continueUri:r},e.next=4,os(mr(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cs(){return(cs=Ae(Se().mark((function e(t,n){var r,i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mr(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Xu(r.auth,a,n),e.next=8,jo(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ls(){return(ls=Ae(Se().mark((function e(t,n,r){var i,a,o,u;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mr(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Xu(i.auth,o,r),e.next=8,Wo(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fs(e,t){return hs.apply(this,arguments)}function hs(){return(hs=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ds(){return(ds=Ae(Se().mark((function e(t,n){var r,i,a,o,u,s,c;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=mr(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Wa(a,fs(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ps(e,t,n){return vs.apply(this,arguments)}function vs(){return(vs=Ae(Se().mark((function e(t,n,r){var i,a,o,u;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Wa(t,Oo(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ms=Rn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};An(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),ys=function(e){Dn(n,e);var t=Fn(n);function n(e,r,i,a){var o;return An(this,n),(o=t.call(this,e,r,i)).username=a,o}return Rn(n)}(ms),gs=function(e){Dn(n,e);var t=Fn(n);function n(e,r){return An(this,n),t.call(this,e,"facebook.com",r)}return Rn(n)}(ms),ks=function(e){Dn(n,e);var t=Fn(n);function n(e,r){return An(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Rn(n)}(ys),bs=function(e){Dn(n,e);var t=Fn(n);function n(e,r){return An(this,n),t.call(this,e,"google.com",r)}return Rn(n)}(ms),ws=function(e){Dn(n,e);var t=Fn(n);function n(e,r,i){return An(this,n),t.call(this,e,"twitter.com",r,i)}return Rn(n)}(ys);function _s(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ga(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new ms(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new gs(a,i);case"github.com":return new ks(a,i);case"google.com":return new bs(a,i);case"twitter.com":return new ws(a,i,e.screenName||null);case"custom":case"anonymous":return new ms(a,null);default:return new ms(a,r,i)}}(n)}var xs=function(){function e(t,n,r){An(this,e),this.type=t,this.credential=n,this.auth=r}return Rn(e,[{key:"toJSON",value:function(){return{multiFactorSession:Cn({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ts=function(){function e(t,n,r){An(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Rn(e,[{key:"resolveSignIn",value:function(){var e=Ae(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=To(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Hu._fromServerResponse(r,e)}));da(i.mfaPendingCredential,r,"internal-error");var o=xs._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ae(Se().mark((function e(t){var a,u,s;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,_u._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return da(n.user,r,"internal-error"),e.abrupt("return",_u._forOperation(n.user,n.operationType,u));case 17:sa(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Es(e,t){return Sa(e,"POST","/v2/accounts/mfaEnrollment:start",Ia(e,t))}var Is=function(){function e(t){var n=this;An(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Hu._fromServerResponse(t.auth,e)})))}))}return Rn(e,[{key:"getSession",value:function(){var e=Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=xs,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ae(Se().mark((function e(t,n){var r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Wa(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ae(Se().mark((function e(t){var n,r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Wa(this.user,Sa(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Ia(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Ss=new WeakMap;var Cs="__sak",As=function(){function e(t,n){An(this,e),this.storageRetriever=t,this.type=n}return Rn(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Cs,"1"),this.storage.removeItem(Cs),Promise.resolve(!0)):Promise.resolve(!1)}catch(_I){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ns=function(e){Dn(n,e);var t=Fn(n);function n(){var e;return An(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Jn();return ho(e)||ko(e)}()&&function(){try{return!(!window||window===window.top)}catch(MR){return!1}}(),e.fallbackToPolling=bo(),e._shouldAllowMigration=!0,e}return Rn(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);nr()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ae(Se().mark((function e(t,r){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$i(Ln(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ae(Se().mark((function e(t){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$i(Ln(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$i(Ln(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(As);Ns.type="LOCAL";var Rs=Ns,Os=function(e){Dn(n,e);var t=Fn(n);function n(){return An(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Rn(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(As);Os.type="SESSION";var Ps=Os;function Ds(e){return Promise.all(e.map(function(){var e=Ae(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ls=function(){function e(t){An(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Rn(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ae(Se().mark((function e(t){var n,r,i,a,o,u,s,c;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ds(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Ms(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ls.receivers=[];var Fs=function(){function e(t){An(this,e),this.target=t,this.handlers=new Set}return Rn(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ae(Se().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Ms("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Us(){return window}function Vs(){return"undefined"!==typeof Us().WorkerGlobalScope&&"function"===typeof Us().importScripts}function js(){return Bs.apply(this,arguments)}function Bs(){return(Bs=Ae(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function zs(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var qs="firebaseLocalStorageDb",Ks=1,Gs="firebaseLocalStorage",Ws="fbase_key",Hs=function(){function e(t){An(this,e),this.request=t}return Rn(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Qs(e,t){return e.transaction([Gs],t?"readwrite":"readonly").objectStore(Gs)}function Xs(){var e=indexedDB.deleteDatabase(qs);return new Hs(e).toPromise()}function Ys(){var e=indexedDB.open(qs,Ks);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Gs,{keyPath:Ws})}catch(MR){n(MR)}})),e.addEventListener("success",Ae(Se().mark((function n(){var r;return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Gs)){n.next=12;break}return r.close(),n.next=5,Xs();case 5:return n.t0=t,n.next=8,Ys();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function $s(e,t,n){return Js.apply(this,arguments)}function Js(){return Js=Ae(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Qs(t,!0).put((Cn(i={},Ws,n),Cn(i,"value",r),i)),e.abrupt("return",new Hs(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}function Zs(e,t){return ec.apply(this,arguments)}function ec(){return ec=Ae(Se().mark((function e(t,n){var r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qs(t,!1).get(n),e.next=3,new Hs(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ec.apply(this,arguments)}function tc(e,t){var n=Qs(e,!0).delete(t);return new Hs(n).toPromise()}var nc=function(){function e(){An(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Rn(e,[{key:"_openDb",value:function(){var e=Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ys();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ae(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vs()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ae(Se().mark((function e(){var t=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ls._getInstance(Vs()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ae(Se().mark((function e(n,r){var i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ae(Se().mark((function e(){var t,n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,js();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Fs(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&zs()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ae(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ys();case 5:return t=e.sent,e.next=8,$s(t,Cs,"1");case 8:return e.next=10,tc(t,Cs);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ae(Se().mark((function e(t,n){var r=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return $s(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ae(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Zs(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ae(Se().mark((function e(t){var n=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return tc(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ae(Se().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Qs(e,!1).getAll();return new Hs(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=On(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ae(Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();nc.type="LOCAL";var rc=nc;function ic(e,t){return Sa(e,"POST","/v2/accounts/mfaSignIn:start",Ia(e,t))}function ac(e){return oc.apply(this,arguments)}function oc(){return(oc=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sa(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uc(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ca("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function sc(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var cc=1e12,lc=function(){function e(t){An(this,e),this.auth=t,this.counter=cc,this._widgets=new Map}return Rn(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new fc(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||cc;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||cc;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ae(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||cc,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),fc=function(){function e(t,n,r){var i=this;An(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;da(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Rn(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(MR){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(MR){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var hc=sc("rcb"),dc=new wa(3e4,6e4),pc=function(){function e(){var t;An(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Us().grecaptcha)||void 0===t?void 0:t.render)}return Rn(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return da(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Us().grecaptcha):new Promise((function(r,i){var a=Us().setTimeout((function(){i(ca(e,"network-request-failed"))}),dc.get());Us()[hc]=function(){Us().clearTimeout(a),delete Us()[hc];var o=Us().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(ca(e,"internal-error"))},uc("".concat("https://www.google.com/recaptcha/api.js?","?").concat(lr({onload:hc,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(ca(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Us().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var vc=function(){function e(){An(this,e)}return Rn(e,[{key:"load",value:function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new lc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),mc="recaptcha",yc={theme:"light",type:"image"},gc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},yc),r=arguments.length>2?arguments[2]:void 0;An(this,e),this.parameters=n,this.type=mc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=To(r),this.isInvisible="invisible"===this.parameters.size,da("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;da(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vc:new pc,this.validateStartingState()}return Rn(e,[{key:"verify",value:function(){var e=Ae(Se().mark((function e(){var t,n,r,i=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(MR){return Promise.reject(MR)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){da(!this.parameters.sitekey,this.auth,"argument-error"),da(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),da("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Us()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){da(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ae(Se().mark((function e(){var t,n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ae(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return da(ka()&&!Vs(),this.auth,"internal-error"),e.next=3,kc();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ac(this.auth);case 8:da(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return da(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function kc(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var bc=function(){function e(t,n){An(this,e),this.verificationId=t,this.onConfirmation=n}return Rn(e,[{key:"confirm",value:function(e){var t=su._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function wc(){return(wc=Ae(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=To(t),e.next=3,Ec(i,n,mr(r));case 3:return a=e.sent,e.abrupt("return",new bc(a,(function(e){return Uu(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _c(e,t,n){return xc.apply(this,arguments)}function xc(){return(xc=Ae(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mr(t),e.next=3,Ou(!1,i,"phone");case 3:return e.next=5,Ec(i.auth,n,mr(r));case 5:return a=e.sent,e.abrupt("return",new bc(a,(function(e){return ju(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tc(){return(Tc=Ae(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mr(t),e.next=3,Ec(i.auth,n,mr(r));case 3:return a=e.sent,e.abrupt("return",new bc(a,(function(e){return zu(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ec(e,t,n){return Ic.apply(this,arguments)}function Ic(){return Ic=Ae(Se().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,da("string"===typeof a,t,"argument-error"),da(r.type===mc,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return da("enroll"===u.type,t,"internal-error"),e.next=13,Es(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return da("signin"===u.type,t,"internal-error"),da(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ic(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,nu(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ic.apply(this,arguments)}function Sc(){return(Sc=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nu(mr(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Cc=function(){function e(t){An(this,e),this.providerId=e.PROVIDER_ID,this.auth=To(t)}return Rn(e,[{key:"verifyPhoneNumber",value:function(e,t){return Ec(this.auth,e,mr(t))}}],[{key:"credential",value:function(e,t){return su._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?su._fromTokenResponse(n,r):null}}]),e}();function Ac(e,t){return t?ya(t):(da(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Cc.PROVIDER_ID="phone",Cc.PHONE_SIGN_IN_METHOD="phone";var Nc=function(e){Dn(n,e);var t=Fn(n);function n(e){var r;return An(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Rn(n,[{key:"_getIdTokenResponse",value:function(e){return Zo(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Zo(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Zo(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ao);function Rc(e){return Mu(e.auth,new Nc(e),e.bypassAuthState)}function Oc(e){var t=e.auth,n=e.user;return da(n,t,"internal-error"),Du(n,new Nc(e),e.bypassAuthState)}function Pc(e){return Dc.apply(this,arguments)}function Dc(){return(Dc=Ae(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,da(r=t.user,n,"internal-error"),e.abrupt("return",Nu(r,new Nc(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];An(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Rn(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ae(Se().mark((function t(n,r){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ae(Se().mark((function e(t){var n,r,i,a,o,u,s;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rc;case"linkViaPopup":case"linkViaRedirect":return Pc;case"reauthViaPopup":case"reauthViaRedirect":return Oc;default:sa(this.auth,"internal-error")}}},{key:"resolve",value:function(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Mc=new wa(2e3,1e4);function Fc(e,t,n){return Uc.apply(this,arguments)}function Uc(){return(Uc=Ae(Se().mark((function e(t,n,r){var i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=To(t),fa(t,n,fu),a=Ac(i,r),o=new zc(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vc(){return(Vc=Ae(Se().mark((function e(t,n,r){var i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fa((i=mr(t)).auth,n,fu),a=Ac(i.auth,r),o=new zc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jc(e,t,n){return Bc.apply(this,arguments)}function Bc(){return(Bc=Ae(Se().mark((function e(t,n,r){var i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fa((i=mr(t)).auth,n,fu),a=Ac(i.auth,r),o=new zc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zc=function(e){Dn(n,e);var t=Fn(n);function n(e,r,i,a,o){var u;return An(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Pn(u),u}return Rn(n,[{key:"executeNotNull",value:function(){var e=Ae(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return da(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ae(Se().mark((function e(){var t,n=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return va(1===this.filter.length,"Popup operations only handle one event"),t=Ms(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ca(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ca(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ca(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Mc.get())}()}}]),n}(Lc);zc.currentPopupAction=null;var qc="pendingRedirect",Kc=new Map,Gc=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return An(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Rn(n,[{key:"execute",value:function(){var e=Ae(Se().mark((function e(){var t,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Kc.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Wc(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,$i(Ln(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Kc.set(this.auth._key(),t);case 21:return this.bypassAuthState||Kc.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ae(Se().mark((function e(t){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",$i(Ln(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",$i(Ln(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Lc);function Wc(e,t){return Hc.apply(this,arguments)}function Hc(){return Hc=Ae(Se().mark((function e(t,n){var r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jc(n),i=$c(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Hc.apply(this,arguments)}function Qc(e,t){return Xc.apply(this,arguments)}function Xc(){return(Xc=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$c(t)._set(Jc(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yc(e,t){Kc.set(e._key(),t)}function $c(e){return ya(e._redirectPersistence)}function Jc(e){return so(qc,e.config.apiKey,e.name)}function Zc(e,t,n){return function(e,t,n){return el.apply(this,arguments)}(e,t,n)}function el(){return(el=Ae(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=To(t),fa(t,n,fu),e.next=4,i._initializationPromise;case 4:return a=Ac(i,r),e.next=7,Qc(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tl(e,t,n){return function(e,t,n){return nl.apply(this,arguments)}(e,t,n)}function nl(){return(nl=Ae(Se().mark((function e(t,n,r){var i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fa((i=mr(t)).auth,n,fu),e.next=4,i.auth._initializationPromise;case 4:return a=Ac(i.auth,r),e.next=7,Qc(a,i.auth);case 7:return e.next=9,cl(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rl(e,t,n){return function(e,t,n){return il.apply(this,arguments)}(e,t,n)}function il(){return(il=Ae(Se().mark((function e(t,n,r){var i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fa((i=mr(t)).auth,n,fu),e.next=4,i.auth._initializationPromise;case 4:return a=Ac(i.auth,r),e.next=7,Ou(!1,i,n.providerId);case 7:return e.next=9,Qc(a,i.auth);case 9:return e.next=11,cl(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function al(e,t){return ol.apply(this,arguments)}function ol(){return(ol=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,To(t)._initializationPromise;case 2:return e.abrupt("return",ul(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ul(e,t){return sl.apply(this,arguments)}function sl(){return sl=Ae(Se().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=To(t),a=Ac(i,n),o=new Gc(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),sl.apply(this,arguments)}function cl(e){return ll.apply(this,arguments)}function ll(){return(ll=Ae(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ms("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fl=function(){function e(t){An(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Rn(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!dl(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ca(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hl(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(hl(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function hl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function dl(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function pl(e){return vl.apply(this,arguments)}function vl(){return vl=Ae(Se().mark((function e(t){var n,r=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Sa(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),vl.apply(this,arguments)}var ml=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yl=/^https?/;function gl(){return(gl=Ae(Se().mark((function e(t){var n,r,i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,pl(t);case 4:n=e.sent,r=n.authorizedDomains,i=On(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!kl(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:sa(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function kl(e){var t=ga(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!yl.test(r))return!1;if(ml.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var bl=new wa(3e4,6e4);function wl(){var e=Us().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=gr(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var _l=null;function xl(e){return _l=_l||function(e){return new Promise((function(t,n){var r,i,a;function o(){wl(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){wl(),n(ca(e,"network-request-failed"))},timeout:bl.get()})}if(null===(i=null===(r=Us().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Us().gapi)||void 0===a?void 0:a.load)){var u=sc("iframefcb");return Us()[u]=function(){gapi.load?o():n(ca(e,"network-request-failed"))},uc("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw _l=null,e}))}(e),_l}var Tl=new wa(5e3,15e3),El="__/auth/iframe",Il="emulator/auth/iframe",Sl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Al(e){var t=e.config;da(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?_a(t,Il):"https://".concat(e.config.authDomain,"/").concat(El),r={apiKey:t.apiKey,appName:e.name,v:vi},i=Cl.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(lr(r).slice(1))}function Nl(e){return Rl.apply(this,arguments)}function Rl(){return Rl=Ae(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xl(t);case 2:return n=e.sent,da(r=Us().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Al(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sl,dontclear:!0},(function(e){return new Promise(function(){var n=Ae(Se().mark((function n(r,i){var a,o,u;return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Us().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ca(t,"network-request-failed"),o=Us().setTimeout((function(){i(a)}),Tl.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Rl.apply(this,arguments)}var Ol={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pl=500,Dl=600,Ll="_blank",Ml="http://localhost",Fl=function(){function e(t){An(this,e),this.window=t,this.associatedEvent=null}return Rn(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(MR){}}}]),e}();function Ul(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Pl,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Dl,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},Ol),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Jn().toLowerCase();n&&(u=po(l)?Ll:n),fo(l)&&(t=t||Ml,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=s(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return ko(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new Fl(null);var h=window.open(t||"",u,f);da(h,e,"popup-blocked");try{h.focus()}catch(MR){}return new Fl(h)}var Vl="__/auth/handler",jl="emulator/auth/handler";function Bl(e,t,n,r,i,a){da(e.config.authDomain,e,"auth-domain-config-required"),da(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:vi,eventId:i};if(t instanceof fu){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(a||{});u<c.length;u++){var l=s(c[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof hu){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Vl);return _a(t,jl)}(e),"?").concat(lr(p).slice(1))}var zl="webStorageSupport",ql=function(){function e(){An(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ps,this._completeRedirectFn=ul,this._overrideRedirectResult=Yc}return Rn(e,[{key:"_openPopup",value:function(){var e=Ae(Se().mark((function e(t,n,r,i){var a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return va(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Bl(t,n,r,ga(),i),e.abrupt("return",Ul(t,o,Ms()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ae(Se().mark((function e(t,n,r,i){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Bl(t,n,r,ga(),i),Us().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(va(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ae(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl(t);case 2:return n=e.sent,r=new fl(t),n.register("authEvent",(function(e){return da(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(zl,{type:zl},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[zl];void 0!==i&&t(!!i),sa(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return gl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return bo()||ho()||ko()}}]),e}(),Kl=ql,Gl=function(e){Dn(n,e);var t=Fn(n);function n(e){var r;return An(this,n),(r=t.call(this,"phone")).credential=e,r}return Rn(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Sa(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ia(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Sa(e,"POST","/v2/accounts/mfaSignIn:finalize",Ia(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){An(this,e),this.factorId=t}return Rn(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return pa("unexpected MultiFactorSessionType")}}}]),e}()),Wl=function(){function e(){An(this,e)}return Rn(e,null,[{key:"assertion",value:function(e){return Gl._fromCredential(e)}}]),e}();Wl.FACTOR_ID="phone";var Hl="@firebase/auth",Ql="0.21.4",Xl=function(){function e(t){An(this,e),this.auth=t,this.internalListeners=new Map}return Rn(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ae(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){da(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Yl;!function(e){var t;null===(t=Qn())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function $l(){return window}Yl="Browser",si(new kr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){da(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),da(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Yl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wo(Yl)},i=new xo(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ya);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),si(new kr("auth-internal",(function(e){return function(e){return new Xl(e)}(To(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),wi(Hl,Ql,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Yl)),wi(Hl,Ql,"esm2017");var Jl=2e3;function Zl(e,t,n){return ef.apply(this,arguments)}function ef(){return ef=Ae(Se().mark((function e(t,n,r){var i,a,o,u,s;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=$l(),o=a.BuildInfo,va(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,uf(n.sessionId);case 4:return u=e.sent,s={},ko()?s.ibi=o.packageName:mo()?s.apn=o.packageName:sa(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Bl(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),ef.apply(this,arguments)}function tf(){return(tf=Ae(Se().mark((function e(t){var n,r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$l(),r=n.BuildInfo,i={},ko()?i.iosBundleId=r.packageName:mo()?i.androidPackageName=r.packageName:sa(t,"operation-not-supported-in-this-environment"),e.next=5,pl(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nf(e){var t=$l().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function rf(e,t,n){return af.apply(this,arguments)}function af(){return af=Ae(Se().mark((function e(t,n,r){var i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$l(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(ca(t,"redirect-cancelled-by-user"))}),Jl))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),mo()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),af.apply(this,arguments)}function of(e){var t,n,r,i,a,o,u,s,c,l,f=$l();da("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),da("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),da("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),da("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),da("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function uf(e){return sf.apply(this,arguments)}function sf(){return(sf=Ae(Se().mark((function e(t){var n,r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cf(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cf(e){if(va(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var lf=20,ff=function(e){Dn(n,e);var t=Fn(n);function n(){var e;return An(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Rn(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),$i(Ln(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(fl);function hf(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:yf(),postBody:null,tenantId:e.tenantId,error:ca(e,"no-auth-event")}}function df(e,t){return gf()._set(kf(e),t)}function pf(e){return vf.apply(this,arguments)}function vf(){return(vf=Ae(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gf()._get(kf(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,gf()._remove(kf(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mf(e,t){var n,r,i=function(e){var t=bf(e),n=t.link?decodeURIComponent(t.link):void 0,r=bf(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return bf(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=bf(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(MR){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?ca(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function yf(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<lf;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function gf(){return ya(Rs)}function kf(e){return so("authEvent",e.config.apiKey,e.name)}function bf(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=i(t=n)||yr(t)||o(t)||u();r[0];return fr(r.slice(1).join("?"))}var wf=function(){function e(){An(this,e),this._redirectPersistence=Ps,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ul,this._overrideRedirectResult=Yc}return Rn(e,[{key:"_initialize",value:function(){var e=Ae(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new ff(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){sa(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ae(Se().mark((function e(t,n,r,i){var a,o,u,s;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return of(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Kc.clear(),e.next=10,this._originValidation(t);case 10:return o=hf(t,r,i),e.next=13,df(t,o);case 13:return e.next=15,Zl(t,o,n);case 15:return u=e.sent,e.next=18,nf(u);case 18:return s=e.sent,e.abrupt("return",rf(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return tf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=$l(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ae(Se().mark((function n(){return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,pf(e);case 2:t.onEvent(xf());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Ae(Se().mark((function n(r){var i,a;return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,pf(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=mf(i,r.url)),t.onEvent(a||xf());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");$l().handleOpenURL=function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(MR){console.error(MR)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),_f=wf;function xf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ca("no-auth-event")}}var Tf="@firebase/auth-compat",Ef="0.3.4",If=1e3;function Sf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Cf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return!("file:"!==Sf()&&"ionic:"!==Sf()&&"capacitor:"!==Sf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Af(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return nr()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn();return/Edge\/\d+/.test(e)}(e)}function Nf(){try{var e=self.localStorage,t=Ms();if(e)return e.setItem(t,"1"),e.removeItem(t),!Af()||rr()}catch(MR){return Rf()&&rr()}return!1}function Rf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Of(){return("http:"===Sf()||"https:"===Sf()||er()||Cf())&&!(tr()||Zn())&&Nf()&&!Rf()}function Pf(){return Cf()&&"undefined"!==typeof document}function Df(){return Lf.apply(this,arguments)}function Lf(){return Lf=Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pf()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),If);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)}))),Lf.apply(this,arguments)}var Mf={LOCAL:"local",NONE:"none",SESSION:"session"},Ff=da,Uf="persistence";function Vf(e,t){Ff(Object.values(Mf).includes(t),e,"invalid-persistence-type"),tr()?Ff(t!==Mf.SESSION,e,"unsupported-persistence-type"):Zn()?Ff(t===Mf.NONE,e,"unsupported-persistence-type"):Rf()?Ff(t===Mf.NONE||t===Mf.LOCAL&&rr(),e,"unsupported-persistence-type"):Ff(t===Mf.NONE||Nf(),e,"unsupported-persistence-type")}function jf(e){return Bf.apply(this,arguments)}function Bf(){return Bf=Ae(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=zf(),r=so(Uf,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Bf.apply(this,arguments)}function zf(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(MR){return null}}var qf=da,Kf=function(){function e(){An(this,e),this.browserResolver=ya(Kl),this.cordovaResolver=ya(_f),this.underlyingResolver=null,this._redirectPersistence=Ps,this._completeRedirectFn=ul,this._overrideRedirectResult=Yc}return Rn(e,[{key:"_initialize",value:function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ae(Se().mark((function e(t,n,r,i){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ae(Se().mark((function e(t,n,r,i){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Pf()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return qf(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ae(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Df();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Gf(e){return e.unwrap()}function Wf(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new $f(e,function(e,t){var n,r=mr(e),i=t;return da(t.customData.operationType,r,"argument-error"),da(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ts._fromError(r,i)}(e,t));else if(r){var i=Hf(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Hf(e){var t=(e instanceof ir?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ir)&&"temporaryProof"in t&&"phoneNumber"in t)return Cc.credentialFromResult(e);var n,r=t.providerId;if(!r||r===ea.PASSWORD)return null;switch(r){case ea.GOOGLE:n=vu;break;case ea.FACEBOOK:n=pu;break;case ea.GITHUB:n=mu;break;case ea.TWITTER:n=ku;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?yu._create(r,u):tu._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new du(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof ir?n.credentialFromError(e):n.credentialFromResult(e)}function Qf(e,t){return t.catch((function(t){throw t instanceof ir&&Wf(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Hf(t)),additionalUserInfo:_s(e),user:Jf.getOrCreate(r)}}))}function Xf(e,t){return Yf.apply(this,arguments)}function Yf(){return(Yf=Ae(Se().mark((function e(t,n){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Qf(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $f=function(){function e(t,n){An(this,e),this.resolver=n,this.auth=t.wrapped()}return Rn(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Qf(Gf(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Jf=function(){function e(t){An(this,e),this._delegate=t,this.multiFactor=function(e){var t=mr(e);return Ss.has(t)||Ss.set(t,Is._fromUser(t)),Ss.get(t)}(t)}return Rn(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qf(this.auth,ju(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xf(this.auth,_c(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qf(this.auth,jc(this._delegate,t,Kf)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jf(To(this.auth));case 2:return e.abrupt("return",rl(this._delegate,t,Kf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qf(this.auth,zu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Xf(this.auth,function(e,t,n){return Tc.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Qf(this.auth,function(e,t,n){return Vc.apply(this,arguments)}(this._delegate,e,Kf))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jf(To(this.auth));case 2:return e.abrupt("return",tl(this._delegate,t,Kf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return cs.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cu(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return ps(mr(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return ps(mr(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Sc.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return ds.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return ls.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Jf.USER_MAP=new WeakMap;var Zf=da,eh=function(){function e(t,n){if(An(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Zf(r,"invalid-api-key",{appName:t.name}),Zf(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Kf:void 0;this._delegate=n.initialize({options:{persistence:nh(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ra),this.linkUnderlyingAuth()}return Rn(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Jf.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Io(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Ju.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Zu(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return $u.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qf(this._delegate,ns(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return ss.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=cu.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ae(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zf(Of(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,al(this._delegate,Kf);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Qf(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){To(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=th(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=th(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return is.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Yu.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ae(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Vf(this._delegate,t),e.t0=t,e.next=e.t0===Mf.SESSION?4:e.t0===Mf.LOCAL?6:e.t0===Mf.NONE?11:13;break;case 4:return n=Ps,e.abrupt("break",14);case 6:return e.next=8,ya(rc)._isAvailable();case 8:return r=e.sent,n=r?rc:Rs,e.abrupt("break",14);case 11:return n=uo,e.abrupt("break",14);case 13:return e.abrupt("return",sa("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Qf(this._delegate,function(e){return Tu.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Qf(this._delegate,Uu(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Qf(this._delegate,function(e,t){return Wu.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Qf(this._delegate,function(e,t,n){return Uu(mr(e),lu.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Qf(this._delegate,function(e,t,n){return as.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Xf(this._delegate,function(e,t,n){return wc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zf(Of(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Qf(this._delegate,Fc(this._delegate,t,Kf)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zf(Of(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,jf(this._delegate);case 3:return e.abrupt("return",Zc(this._delegate,t,Kf));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return ts.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function th(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Jf.getOrCreate(e))},error:t,complete:n}}function nh(e,t){var n=function(e,t){var n=zf();if(!n)return[];var r=so(Uf,e,t);switch(n.getItem(r)){case Mf.NONE:return[uo];case Mf.LOCAL:return[rc,Ps];case Mf.SESSION:return[Ps];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(rc)||n.push(rc),"undefined"!==typeof window)for(var r=0,i=[Rs,Ps];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(uo)||n.push(uo),n}eh.Persistence=Mf;var rh=function(){function e(){An(this,e),this.providerId="phone",this._delegate=new Cc(Gf(Yi.auth()))}return Rn(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Cc.credential(e,t)}}]),e}();rh.PHONE_SIGN_IN_METHOD=Cc.PHONE_SIGN_IN_METHOD,rh.PROVIDER_ID=Cc.PROVIDER_ID;var ih,ah=da,oh=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yi.app();An(this,e),ah(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new gc(t,n,i.auth()),this.type=this._delegate.type}return Rn(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}(),uh="auth-compat";(ih=Yi).INTERNAL.registerComponent(new kr(uh,(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new eh(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ta.EMAIL_SIGNIN,PASSWORD_RESET:ta.PASSWORD_RESET,RECOVER_EMAIL:ta.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ta.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ta.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ta.VERIFY_EMAIL}},EmailAuthProvider:lu,FacebookAuthProvider:pu,GithubAuthProvider:mu,GoogleAuthProvider:vu,OAuthProvider:du,SAMLAuthProvider:gu,PhoneAuthProvider:rh,PhoneMultiFactorGenerator:Wl,RecaptchaVerifier:oh,TwitterAuthProvider:ku,Auth:eh,AuthCredential:Ao,Error:ir}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ih.registerVersion(Tf,Ef);var sh,ch="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},lh={},fh=fh||{},hh=ch||self;function dh(){}function ph(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function vh(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var mh="closure_uid_"+(1e9*Math.random()>>>0),yh=0;function gh(e,t,n){return e.call.apply(e.bind,arguments)}function kh(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function bh(e,t,n){return(bh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gh:kh).apply(null,arguments)}function wh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _h(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function xh(){this.s=this.s,this.o=this.o}xh.prototype.s=!1,xh.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,mh)&&e[mh]||(e[mh]=++yh))},xh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Th=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Eh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ih(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(ph(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Sh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Sh.prototype.h=function(){this.defaultPrevented=!0};var Ch=function(){if(!hh.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{hh.addEventListener("test",dh,t),hh.removeEventListener("test",dh,t)}catch(n){}return e}();function Ah(e){return/^[\s\xa0]*$/.test(e)}var Nh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Rh(e,t){return e<t?-1:e>t?1:0}function Oh(){var e=hh.navigator;return e&&(e=e.userAgent)?e:""}function Ph(e){return-1!=Oh().indexOf(e)}function Dh(e){return Dh[" "](e),e}Dh[" "]=dh;var Lh,Mh=Ph("Opera"),Fh=Ph("Trident")||Ph("MSIE"),Uh=Ph("Edge"),Vh=Uh||Fh,jh=Ph("Gecko")&&!(-1!=Oh().toLowerCase().indexOf("webkit")&&!Ph("Edge"))&&!(Ph("Trident")||Ph("MSIE"))&&!Ph("Edge"),Bh=-1!=Oh().toLowerCase().indexOf("webkit")&&!Ph("Edge");function zh(){var e=hh.document;return e?e.documentMode:void 0}e:{var qh="",Kh=function(){var e=Oh();return jh?/rv:([^\);]+)(\)|;)/.exec(e):Uh?/Edge\/([\d\.]+)/.exec(e):Fh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Bh?/WebKit\/(\S+)/.exec(e):Mh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Kh&&(qh=Kh?Kh[1]:""),Fh){var Gh=zh();if(null!=Gh&&Gh>parseFloat(qh)){Lh=String(Gh);break e}}Lh=qh}var Wh,Hh={};function Qh(){return function(e){var t=Hh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Nh(String(Lh)).split("."),n=Nh("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Rh(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Rh(0==a[2].length,0==o[2].length)||Rh(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(hh.document&&Fh){var Xh=zh();Wh=Xh||(parseInt(Lh,10)||void 0)}else Wh=void 0;var Yh=Wh;function $h(e,t){if(Sh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(jh){e:{try{Dh(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Jh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&$h.X.h.call(this)}}_h($h,Sh);var Jh={2:"touch",3:"pen",4:"mouse"};$h.prototype.h=function(){$h.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Zh="closure_listenable_"+(1e6*Math.random()|0),ed=0;function td(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++ed,this.ba=this.ea=!1}function nd(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function rd(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function id(e){var t={};for(var n in e)t[n]=e[n];return t}var ad="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function od(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ad.length;a++)n=ad[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ud(e){this.src=e,this.g={},this.h=0}function sd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Th(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(nd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function cd(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}ud.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=cd(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new td(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var ld="closure_lm_"+(1e6*Math.random()|0),fd={};function hd(e,t,n,r,i){if(r&&r.once)return pd(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)hd(e,t[a],n,r,i);return null}return n=wd(n),e&&e[Zh]?e.N(t,n,vh(r)?!!r.capture:!!r,i):dd(e,t,n,!1,r,i)}function dd(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=vh(i)?!!i.capture:!!i,u=kd(e);if(u||(e[ld]=u=new ud(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=gd;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ch||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(yd(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function pd(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)pd(e,t[a],n,r,i);return null}return n=wd(n),e&&e[Zh]?e.O(t,n,vh(r)?!!r.capture:!!r,i):dd(e,t,n,!0,r,i)}function vd(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)vd(e,t[a],n,r,i);else r=vh(r)?!!r.capture:!!r,n=wd(n),e&&e[Zh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=cd(a=e.g[t],n,r,i))&&(nd(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=kd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=cd(t,n,r,i)),(n=-1<e?t[e]:null)&&md(n))}function md(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Zh])sd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(yd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=kd(t))?(sd(n,e),0==n.h&&(n.src=null,t[ld]=null)):nd(e)}}}function yd(e){return e in fd?fd[e]:fd[e]="on"+e}function gd(e,t){if(e.ba)e=!0;else{t=new $h(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&md(e),e=n.call(r,t)}return e}function kd(e){return(e=e[ld])instanceof ud?e:null}var bd="__closure_events_fn_"+(1e9*Math.random()>>>0);function wd(e){return"function"===typeof e?e:(e[bd]||(e[bd]=function(t){return e.handleEvent(t)}),e[bd])}function _d(){xh.call(this),this.i=new ud(this),this.P=this,this.I=null}function xd(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Sh(t,e);else if(t instanceof Sh)t.target=t.target||e;else{var i=t;od(t=new Sh(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Td(o,r,!0,t)&&i}if(i=Td(o=t.g=e,r,!0,t)&&i,i=Td(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Td(o=t.g=n[a],r,!1,t)&&i}function Td(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&sd(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}_h(_d,xh),_d.prototype[Zh]=!0,_d.prototype.removeEventListener=function(e,t,n,r){vd(this,e,t,n,r)},_d.prototype.M=function(){if(_d.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)nd(n[r]);delete t.g[e],t.h--}}this.I=null},_d.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},_d.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ed=hh.JSON.stringify;function Id(){var e=Dd,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Sd,Cd=function(){function e(){An(this,e),this.h=this.g=null}return Rn(e,[{key:"add",value:function(e,t){var n=Ad.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ad=new(function(){function e(t,n){An(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Rn(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Nd}),(function(e){return e.reset()})),Nd=function(){function e(){An(this,e),this.next=this.g=this.h=null}return Rn(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Rd(e){hh.setTimeout((function(){throw e}),0)}function Od(e,t){Sd||function(){var e=hh.Promise.resolve(void 0);Sd=function(){e.then(Ld)}}(),Pd||(Sd(),Pd=!0),Dd.add(e,t)}var Pd=!1,Dd=new Cd;function Ld(){for(var e;e=Id();){try{e.h.call(e.g)}catch(n){Rd(n)}var t=Ad;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Pd=!1}function Md(e,t){_d.call(this),this.h=e||1,this.g=t||hh,this.j=bh(this.lb,this),this.l=Date.now()}function Fd(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Ud(e,t,n){if("function"===typeof e)n&&(e=bh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=bh(e.handleEvent,e)}return 2147483647<Number(t)?-1:hh.setTimeout(e,t||0)}function Vd(e){e.g=Ud((function(){e.g=null,e.i&&(e.i=!1,Vd(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}_h(Md,_d),(sh=Md.prototype).ca=!1,sh.R=null,sh.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),xd(this,"tick"),this.ca&&(Fd(this),this.start()))}},sh.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},sh.M=function(){Md.X.M.call(this),Fd(this),delete this.g};var jd=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i;return An(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Rn(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Vd(this)}},{key:"M",value:function(){$i(Ln(n.prototype),"M",this).call(this),this.g&&(hh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(xh);function Bd(e){xh.call(this),this.h=e,this.g={}}_h(Bd,xh);var zd=[];function qd(e,t,n,r){Array.isArray(n)||(n&&(zd[0]=n.toString()),n=zd);for(var i=0;i<n.length;i++){var a=hd(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Kd(e){rd(e.g,(function(e,t){this.g.hasOwnProperty(t)&&md(e)}),e),e.g={}}function Gd(){this.g=!0}function Wd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ed(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Bd.prototype.M=function(){Bd.X.M.call(this),Kd(this)},Bd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gd.prototype.Aa=function(){this.g=!1},Gd.prototype.info=function(){};var Hd={},Qd=null;function Xd(){return Qd=Qd||new _d}function Yd(e){Sh.call(this,Hd.Pa,e)}function $d(e){var t=Xd();xd(t,new Yd(t))}function Jd(e,t){Sh.call(this,Hd.STAT_EVENT,e),this.stat=t}function Zd(e){var t=Xd();xd(t,new Jd(t,e))}function ep(e,t){Sh.call(this,Hd.Qa,e),this.size=t}function tp(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return hh.setTimeout((function(){e()}),t)}Hd.Pa="serverreachability",_h(Yd,Sh),Hd.STAT_EVENT="statevent",_h(Jd,Sh),Hd.Qa="timingevent",_h(ep,Sh);var np={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},rp={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ip(){}function ap(e){return e.h||(e.h=e.i())}function op(){}ip.prototype.h=null;var up,sp={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function cp(){Sh.call(this,"d")}function lp(){Sh.call(this,"c")}function fp(){}function hp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Bd(this),this.O=pp,e=Vh?125:void 0,this.T=new Md(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new dp}function dp(){this.i=null,this.g="",this.h=!1}_h(cp,Sh),_h(lp,Sh),_h(fp,ip),fp.prototype.g=function(){return new XMLHttpRequest},fp.prototype.i=function(){return{}},up=new fp;var pp=45e3,vp={},mp={};function yp(e,t,n){e.K=1,e.v=Mp(Rp(t)),e.s=n,e.P=!0,gp(e,null)}function gp(e,t){e.F=Date.now(),_p(e),e.A=Rp(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Xp(n.i,"t",r),e.C=0,n=e.l.H,e.h=new dp,e.g=Yv(e.l,n?t:null,!e.s),0<e.N&&(e.L=new jd(bh(e.La,e,e.g),e.N)),qd(e.S,e.g,"readystatechange",e.ib),t=e.H?id(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),$d(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function kp(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function bp(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=wp(e,n))==mp){4==t&&(e.o=4,Zd(14),i=!1),Wd(e.j,e.m,null,"[Incomplete Response]");break}if(r==vp){e.o=4,Zd(15),Wd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Wd(e.j,e.m,r,null),Sp(e,r)}kp(e)&&r!=mp&&r!=vp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Zd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),zv(t),t.K=!0,Zd(11))):(Wd(e.j,e.m,n,"[Invalid Chunked Response]"),Ip(e),Ep(e))}function wp(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?mp:(n=Number(t.substring(n,r)),isNaN(n)?vp:(r+=1)+n>t.length?mp:(t=t.substr(r,n),e.C=r+n,t))}function _p(e){e.V=Date.now()+e.O,xp(e,e.O)}function xp(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=tp(bh(e.gb,e),t)}function Tp(e){e.B&&(hh.clearTimeout(e.B),e.B=null)}function Ep(e){0==e.l.G||e.I||Gv(e.l,e)}function Ip(e){Tp(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Fd(e.T),Kd(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Sp(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||rv(n.h,e)))if(!e.J&&rv(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Kv(n),Dv(n)}Bv(n),Zd(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=tp(bh(n.cb,n),6e3));if(1>=nv(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Hv(n,11)}else if((e.J||n.g==e)&&Kv(n),!Ah(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(iv(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Lp(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Xv(r,r.H?r.ka:null,r.V),d.J){av(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Tp(p),_p(p)),r.g=d}else jv(r);0<n.i.length&&Mv(n)}else"stop"!=a[0]&&"close"!=a[0]||Hv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Hv(n,7):Pv(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}$d()}catch(a){}}function Cp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ph(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ph(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ph(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(sh=hp.prototype).setTimeout=function(e){this.O=e},sh.ib=function(e){e=e.target;var t=this.L;t&&3==Sv(e)?t.l():this.La(e)},sh.La=function(e){try{if(e==this.g)e:{var t=Sv(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Vh||this.g&&(this.h.h||this.g.fa()||Cv(this.g)))){this.I||4!=t||7==n||$d(),Tp(this);var r=this.g.aa();this.Y=r;t:if(kp(this)){var i=Cv(this.g);e="";var a=i.length,o=4==Sv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ip(this),Ep(this);var u="";break t}this.h.i=new hh.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ah(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Zd(12),Ip(this),Ep(this);break e}Wd(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Sp(this,r)}this.P?(bp(this,t,u),Vh&&this.i&&3==t&&(qd(this.S,this.T,"tick",this.hb),this.T.start())):(Wd(this.j,this.m,u,null),Sp(this,u)),4==t&&Ip(this),this.i&&!this.I&&(4==t?Gv(this.l,this):(this.i=!1,_p(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Zd(12)):(this.o=0,Zd(13)),Ip(this),Ep(this)}}}catch(t){}},sh.hb=function(){if(this.g){var e=Sv(this.g),t=this.g.fa();this.C<t.length&&(Tp(this),bp(this,e,t),this.i&&4!=e&&_p(this))}},sh.cancel=function(){this.I=!0,Ip(this)},sh.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&($d(),Zd(17)),Ip(this),this.o=2,Ep(this)):xp(this,this.V-e)};var Ap=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Np(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Np){this.h=void 0!==t?t:e.h,Op(this,e.j),this.s=e.s,this.g=e.g,Pp(this,e.m),this.l=e.l,t=e.i;var n=new Gp;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Dp(this,n),this.o=e.o}else e&&(n=String(e).match(Ap))?(this.h=!!t,Op(this,n[1]||"",!0),this.s=Fp(n[2]||""),this.g=Fp(n[3]||"",!0),Pp(this,n[4]),this.l=Fp(n[5]||"",!0),Dp(this,n[6]||"",!0),this.o=Fp(n[7]||"")):(this.h=!!t,this.i=new Gp(null,this.h))}function Rp(e){return new Np(e)}function Op(e,t,n){e.j=n?Fp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Pp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Dp(e,t,n){t instanceof Gp?(e.i=t,function(e,t){t&&!e.j&&(Wp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Hp(this,t),Xp(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Up(t,qp)),e.i=new Gp(t,e.h))}function Lp(e,t,n){e.i.set(t,n)}function Mp(e){return Lp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Fp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Up(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Vp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Vp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Np.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Up(t,jp,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Up(t,jp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Up(n,"/"==n.charAt(0)?zp:Bp,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Up(n,Kp)),e.join("")};var jp=/[#\/\?@]/g,Bp=/[#\?:]/g,zp=/[#\?]/g,qp=/[#\?@]/g,Kp=/#/g;function Gp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Wp(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Hp(e,t){Wp(e),t=Yp(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Qp(e,t){return Wp(e),t=Yp(e,t),e.g.has(t)}function Xp(e,t,n){Hp(e,t),0<n.length&&(e.i=null,e.g.set(Yp(e,t),Eh(n)),e.h+=n.length)}function Yp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(sh=Gp.prototype).add=function(e,t){Wp(this),this.i=null,e=Yp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},sh.forEach=function(e,t){Wp(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},sh.oa=function(){Wp(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},sh.W=function(e){Wp(this);var t=[];if("string"===typeof e)Qp(this,e)&&(t=t.concat(this.g.get(Yp(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},sh.set=function(e,t){return Wp(this),this.i=null,Qp(this,e=Yp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},sh.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},sh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var $p=Rn((function e(t,n){An(this,e),this.h=t,this.g=n}));function Jp(e){this.l=e||ev,hh.PerformanceNavigationTiming?e=0<(e=hh.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(hh.g&&hh.g.Ga&&hh.g.Ga()&&hh.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Zp,ev=10;function tv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function nv(e){return e.h?1:e.g?e.g.size:0}function rv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function iv(e,t){e.g?e.g.add(t):e.h=t}function av(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ov(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=On(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Eh(e.i)}function uv(){}function sv(){this.g=new uv}function cv(e,t,n){var r=n||"";try{Cp(e,(function(e,n){var i=e;vh(e)&&(i=Ed(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(MR){throw t.push(r+"type="+encodeURIComponent("_badmap")),MR}}function lv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function fv(e){this.l=e.ac||null,this.j=e.jb||!1}function hv(e,t){_d.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=dv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jp.prototype.cancel=function(){if(this.i=ov(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=On(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},uv.prototype.stringify=function(e){return hh.JSON.stringify(e,void 0)},uv.prototype.parse=function(e){return hh.JSON.parse(e,void 0)},_h(fv,ip),fv.prototype.g=function(){return new hv(this.l,this.j)},fv.prototype.i=(Zp={},function(){return Zp}),_h(hv,_d);var dv=0;function pv(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function vv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,mv(e)}function mv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(sh=hv.prototype).open=function(e,t){if(this.readyState!=dv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,mv(this)},sh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||hh).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},sh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vv(this)),this.readyState=dv},sh.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,mv(this)),this.g&&(this.readyState=3,mv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof hh.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pv(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},sh.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?vv(this):mv(this),3==this.readyState&&pv(this)}},sh.Va=function(e){this.g&&(this.response=this.responseText=e,vv(this))},sh.Ua=function(e){this.g&&(this.response=e,vv(this))},sh.ga=function(){this.g&&vv(this)},sh.setRequestHeader=function(e,t){this.v.append(e,t)},sh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},sh.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(hv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var yv=hh.JSON.parse;function gv(e){_d.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kv,this.K=this.L=!1}_h(gv,_d);var kv="",bv=/^https?$/i,wv=["POST","PUT"];function _v(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,xv(e),Ev(e)}function xv(e){e.D||(e.D=!0,xd(e,"complete"),xd(e,"error"))}function Tv(e){if(e.h&&"undefined"!=typeof fh&&(!e.C[1]||4!=Sv(e)||2!=e.aa()))if(e.v&&4==Sv(e))Ud(e.Ha,0,e);else if(xd(e,"readystatechange"),4==Sv(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ap)[1]||null;if(!a&&hh.self&&hh.self.location){var o=hh.self.location.protocol;a=o.substr(0,o.length-1)}i=!bv.test(a?a.toLowerCase():"")}t=i}if(t)xd(e,"complete"),xd(e,"success");else{e.m=6;try{var u=2<Sv(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",xv(e)}}finally{Ev(e)}}}function Ev(e,t){if(e.g){Iv(e);var n=e.g,r=e.C[0]?dh:null;e.g=null,e.C=null,t||xd(e,"ready");try{n.onreadystatechange=r}catch(MR){}}}function Iv(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(hh.clearTimeout(e.A),e.A=null)}function Sv(e){return e.g?e.g.readyState:0}function Cv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case kv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(hm){return null}}function Av(e){var t="";return rd(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Nv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Av(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Lp(e,t,n))}function Rv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ov(e){this.Ca=0,this.i=[],this.j=new Gd,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Rv("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Rv("baseRetryDelayMs",5e3,e),this.bb=Rv("retryDelaySeedMs",1e4,e),this.$a=Rv("forwardChannelMaxRetries",2,e),this.ta=Rv("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Jp(e&&e.concurrentRequestLimit),this.Fa=new sv,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Pv(e){if(Lv(e),3==e.G){var t=e.U++,n=Rp(e.F);Lp(n,"SID",e.I),Lp(n,"RID",t),Lp(n,"TYPE","terminate"),Uv(e,n),(t=new hp(e,e.j,t,void 0)).K=2,t.v=Mp(Rp(n)),n=!1,hh.navigator&&hh.navigator.sendBeacon&&(n=hh.navigator.sendBeacon(t.v.toString(),"")),!n&&hh.Image&&((new Image).src=t.v,n=!0),n||(t.g=Yv(t.l,null),t.g.da(t.v)),t.F=Date.now(),_p(t)}Qv(e)}function Dv(e){e.g&&(zv(e),e.g.cancel(),e.g=null)}function Lv(e){Dv(e),e.u&&(hh.clearTimeout(e.u),e.u=null),Kv(e),e.h.cancel(),e.m&&("number"===typeof e.m&&hh.clearTimeout(e.m),e.m=null)}function Mv(e){tv(e.h)||e.m||(e.m=!0,Od(e.Ja,e),e.C=0)}function Fv(e,t){var n;n=t?t.m:e.U++;var r=Rp(e.F);Lp(r,"SID",e.I),Lp(r,"RID",n),Lp(r,"AID",e.T),Uv(e,r),e.o&&e.s&&Nv(r,e.o,e.s),n=new hp(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Vv(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),iv(e.h,n),yp(n,r,t)}function Uv(e,t){e.ia&&rd(e.ia,(function(e,n){Lp(t,n,e)})),e.l&&Cp({},(function(e,n){Lp(t,n,e)}))}function Vv(e,t,n){n=Math.min(e.i.length,n);var r=e.l?bh(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{cv(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function jv(e){e.g||e.u||(e.Z=1,Od(e.Ia,e),e.A=0)}function Bv(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=tp(bh(e.Ia,e),Wv(e,e.A)),e.A++,!0)}function zv(e){null!=e.B&&(hh.clearTimeout(e.B),e.B=null)}function qv(e){e.g=new hp(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Rp(e.sa);Lp(t,"RID","rpc"),Lp(t,"SID",e.I),Lp(t,"CI",e.L?"0":"1"),Lp(t,"AID",e.T),Lp(t,"TYPE","xmlhttp"),Uv(e,t),e.o&&e.s&&Nv(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Mp(Rp(t)),n.s=null,n.P=!0,gp(n,e)}function Kv(e){null!=e.v&&(hh.clearTimeout(e.v),e.v=null)}function Gv(e,t){var n=null;if(e.g==t){Kv(e),zv(e),e.g=null;var r=2}else{if(!rv(e.h,t))return;n=t.D,av(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;xd(r=Xd(),new ep(r,n)),Mv(e)}else jv(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(nv(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=tp(bh(e.Ja,e,t),Wv(e,e.C)),e.C++,!0))}(e,t)||2==r&&Bv(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Hv(e,5);break;case 4:Hv(e,10);break;case 3:Hv(e,6);break;default:Hv(e,2)}}function Wv(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Hv(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=bh(e.kb,e);n||(n=new Np("//www.google.com/images/cleardot.gif"),hh.location&&"http"==hh.location.protocol||Op(n,"https"),Mp(n)),function(e,t){var n=new Gd;if(hh.Image){var r=new Image;r.onload=wh(lv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=wh(lv,n,r,"TestLoadImage: error",!1,t),r.onabort=wh(lv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=wh(lv,n,r,"TestLoadImage: timeout",!1,t),hh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Zd(2);e.G=0,e.l&&e.l.va(t),Qv(e),Lv(e)}function Qv(e){if(e.G=0,e.la=[],e.l){var t=ov(e.h);0==t.length&&0==e.i.length||(Ih(e.la,t),Ih(e.la,e.i),e.h.i.length=0,Eh(e.i),e.i.length=0),e.l.ua()}}function Xv(e,t,n){var r=n instanceof Np?Rp(n):new Np(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Pp(r,r.m);else{var i=hh.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Np(null,void 0);r&&Op(a,r),t&&(a.g=t),i&&Pp(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Lp(r,n,t),Lp(r,"VER",e.ma),Uv(e,r),r}function Yv(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new gv(new fv({jb:!0})):new gv(e.ra)).Ka(e.H),t}function $v(){}function Jv(){if(Fh&&!(10<=Number(Yh)))throw Error("Environmental error: no available transport.")}function Zv(e,t){_d.call(this),this.g=new Ov(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Ah(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ah(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new nm(this)}function em(e){cp.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function tm(){lp.call(this),this.status=1}function nm(e){this.g=e}(sh=gv.prototype).Ka=function(e){this.L=e},sh.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():up.g(),this.C=this.u?ap(this.u):ap(up),this.g.onreadystatechange=bh(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void _v(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=On(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=hh.FormData&&e instanceof hh.FormData,!(0<=Th(wv,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=On(n);try{for(l.s();!(c=l.n()).done;){var f=s(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Iv(this),0<this.B&&((this.K=function(e){return Fh&&Qh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bh(this.qa,this)):this.A=Ud(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){_v(this,u)}},sh.qa=function(){"undefined"!=typeof fh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xd(this,"timeout"),this.abort(8))},sh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,xd(this,"complete"),xd(this,"abort"),Ev(this))},sh.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ev(this,!0)),gv.X.M.call(this)},sh.Ha=function(){this.s||(this.F||this.v||this.l?Tv(this):this.fb())},sh.fb=function(){Tv(this)},sh.aa=function(){try{return 2<Sv(this)?this.g.status:-1}catch(Zp){return-1}},sh.fa=function(){try{return this.g?this.g.responseText:""}catch(Zp){return""}},sh.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),yv(t)}},sh.Ea=function(){return this.m},sh.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(sh=Ov.prototype).ma=8,sh.G=1,sh.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new hp(this,this.j,e,void 0),n=this.s;if(this.S&&(n?od(n=id(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Vv(this,t,r),Lp(i=Rp(this.F),"RID",e),Lp(i,"CVER",22),this.D&&Lp(i,"X-HTTP-Session-Id",this.D),Uv(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Av(n)))+"&"+r:this.o&&Nv(i,this.o,n)),iv(this.h,t),this.Ya&&Lp(i,"TYPE","init"),this.O?(Lp(i,"$req",r),Lp(i,"SID","null"),t.Z=!0,yp(t,i,null)):yp(t,i,r),this.G=2}}else 3==this.G&&(e?Fv(this,e):0==this.i.length||tv(this.h)||Fv(this))},sh.Ia=function(){if(this.u=null,qv(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=tp(bh(this.eb,this),e)}},sh.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Zd(10),Dv(this),qv(this))},sh.cb=function(){null!=this.v&&(this.v=null,Dv(this),Bv(this),Zd(19))},sh.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Zd(2)):(this.j.info("Failed to ping google.com"),Zd(1))},(sh=$v.prototype).xa=function(){},sh.wa=function(){},sh.va=function(){},sh.ua=function(){},sh.Ra=function(){},Jv.prototype.g=function(e,t){return new Zv(e,t)},_h(Zv,_d),Zv.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Zd(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Xv(e,null,e.V),Mv(e)},Zv.prototype.close=function(){Pv(this.g)},Zv.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ed(e),e=n);t.i.push(new $p(t.ab++,e)),3==t.G&&Mv(t)},Zv.prototype.M=function(){this.g.l=null,delete this.j,Pv(this.g),delete this.g,Zv.X.M.call(this)},_h(em,cp),_h(tm,lp),_h(nm,$v),nm.prototype.xa=function(){xd(this.g,"a")},nm.prototype.wa=function(e){xd(this.g,new em(e))},nm.prototype.va=function(e){xd(this.g,new tm)},nm.prototype.ua=function(){xd(this.g,"b")},Jv.prototype.createWebChannel=Jv.prototype.g,Zv.prototype.send=Zv.prototype.u,Zv.prototype.open=Zv.prototype.m,Zv.prototype.close=Zv.prototype.close,np.NO_ERROR=0,np.TIMEOUT=8,np.HTTP_ERROR=6,rp.COMPLETE="complete",op.EventType=sp,sp.OPEN="a",sp.CLOSE="b",sp.ERROR="c",sp.MESSAGE="d",_d.prototype.listen=_d.prototype.N,gv.prototype.listenOnce=gv.prototype.O,gv.prototype.getLastError=gv.prototype.Oa,gv.prototype.getLastErrorCode=gv.prototype.Ea,gv.prototype.getStatus=gv.prototype.aa,gv.prototype.getResponseJson=gv.prototype.Sa,gv.prototype.getResponseText=gv.prototype.fa,gv.prototype.send=gv.prototype.da,gv.prototype.setWithCredentials=gv.prototype.Ka;var rm=lh.createWebChannelTransport=function(){return new Jv},im=lh.getStatEventTarget=function(){return Xd()},am=lh.ErrorCode=np,om=lh.EventType=rp,um=lh.Event=Hd,sm=lh.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},cm=lh.FetchXmlHttpFactory=fv,lm=lh.WebChannel=op,fm=lh.XhrIo=gv,hm="@firebase/firestore",dm=function(){function e(t){An(this,e),this.uid=t}return Rn(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();dm.UNAUTHENTICATED=new dm(null),dm.GOOGLE_CREDENTIALS=new dm("google-credentials-uid"),dm.FIRST_PARTY=new dm("first-party-uid"),dm.MOCK_USER=new dm("mock-user");var pm="9.17.2",vm=new Nr("@firebase/firestore");function mm(){return vm.logLevel}function ym(e){if(vm.logLevel<=xr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bm);vm.debug.apply(vm,["Firestore (".concat(pm,"): ").concat(e)].concat(gr(i)))}}function gm(e){if(vm.logLevel<=xr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bm);vm.error.apply(vm,["Firestore (".concat(pm,"): ").concat(e)].concat(gr(i)))}}function km(e){if(vm.logLevel<=xr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bm);vm.warn.apply(vm,["Firestore (".concat(pm,"): ").concat(e)].concat(gr(i)))}}function bm(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function wm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(pm,") INTERNAL ASSERTION FAILED: ")+e;throw gm(t),new Error(t)}function _m(e,t){e||wm()}function xm(e,t){return e}var Tm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Em=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Rn(n)}(ir),Im=Rn((function e(){var t=this;An(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Sm=Rn((function e(t,n){An(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Cm=function(){function e(){An(this,e)}return Rn(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(dm.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Am=function(){function e(t){An(this,e),this.token=t,this.changeListener=null}return Rn(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Nm=function(){function e(t){An(this,e),this.t=t,this.currentUser=dm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Rn(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Im;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Im,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){ym("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(ym("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Im)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ym("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(_m("string"==typeof n.accessToken),new Sm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return _m(null===e||"string"==typeof e),new dm(e)}}]),e}(),Rm=function(){function e(t,n,r,i){An(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=dm.FIRST_PARTY,this.p=new Map}return Rn(e,[{key:"I",value:function(){return this.g?this.g():(_m(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Om=function(){function e(t,n,r,i){An(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Rn(e,[{key:"getToken",value:function(){return Promise.resolve(new Rm(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(dm.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Pm=Rn((function e(t){An(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Dm=function(){function e(t){An(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Rn(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&ym("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,ym("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){ym("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):ym("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(_m("string"==typeof t.token),e.A=t.token,new Pm(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Lm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Mm=function(){function e(){An(this,e)}return Rn(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Lm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Fm(e,t){return e<t?-1:e>t?1:0}function Um(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Vm(e){return e+"\0"}var jm=function(){function e(t,n){if(An(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Em(Tm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Em(Tm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Em(Tm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Em(Tm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Rn(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Fm(this.nanoseconds,e.nanoseconds):Fm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Bm=function(){function e(t){An(this,e),this.timestamp=t}return Rn(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new jm(0,0))}},{key:"max",value:function(){return new e(new jm(253402300799,999999999))}}]),e}(),zm=function(){function e(t,n,r){An(this,e),void 0===n?n=0:n>t.length&&wm(),void 0===r?r=t.length-n:r>t.length-n&&wm(),this.segments=t,this.offset=n,this.len=r}return Rn(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),qm=function(e){Dn(n,e);var t=Fn(n);function n(){return An(this,n),t.apply(this,arguments)}return Rn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Em(Tm.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,gr(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(zm),Km=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gm=function(e){Dn(n,e);var t=Fn(n);function n(){return An(this,n),t.apply(this,arguments)}return Rn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Km.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Em(Tm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Em(Tm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Em(Tm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Em(Tm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(zm),Wm=function(){function e(t){An(this,e),this.path=t}return Rn(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===qm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(qm.fromString(t))}},{key:"fromName",value:function(t){return new e(qm.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(qm.emptyPath())}},{key:"comparator",value:function(e,t){return qm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new qm(t.slice()))}}]),e}(),Hm=Rn((function e(t,n,r,i){An(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Qm(e){return e.fields.find((function(e){return 2===e.kind}))}function Xm(e){return e.fields.filter((function(e){return 2!==e.kind}))}Hm.UNKNOWN_ID=-1;var Ym=Rn((function e(t,n){An(this,e),this.fieldPath=t,this.kind=n}));var $m=function(){function e(t,n){An(this,e),this.sequenceNumber=t,this.offset=n}return Rn(e,null,[{key:"empty",value:function(){return new e(0,ey.min())}}]),e}();function Jm(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Bm.fromTimestamp(1e9===r?new jm(n+1,0):new jm(n,r));return new ey(i,Wm.empty(),t)}function Zm(e){return new ey(e.readTime,e.key,-1)}var ey=function(){function e(t,n,r){An(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Rn(e,null,[{key:"min",value:function(){return new e(Bm.min(),Wm.empty(),-1)}},{key:"max",value:function(){return new e(Bm.max(),Wm.empty(),-1)}}]),e}();function ty(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Wm.comparator(e.documentKey,t.documentKey))?n:Fm(e.largestBatchId,t.largestBatchId)}var ny="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ry=function(){function e(){An(this,e),this.onCommittedListeners=[]}return Rn(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function iy(e){return ay.apply(this,arguments)}function ay(){return ay=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Tm.FAILED_PRECONDITION&&t.message===ny){e.next=2;break}throw t;case 2:ym("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ay.apply(this,arguments)}var oy=function(){function e(t){var n=this;An(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Rn(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&wm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=On(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),uy=function(){function e(t,n){var r=this;An(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new Im,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new ly(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=vy(e.target.error);r.v.reject(new ly(t,n))}}return Rn(e,[{key:"P",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(ym("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new hy(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ly(n,t)}}}]),e}(),sy=function(){function e(t,n,r){An(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Jn())&&gm("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Rn(e,[{key:"F",value:function(){var e=Ae(Se().mark((function e(t){var n=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return ym("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ly(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Em(Tm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Em(Tm.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ly(t,n))},i.onupgradeneeded=function(e){ym("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){ym("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ae(Se().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=Se().mark((function e(){var n,u,s,l;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.F(t);case 4:return c.db=e.sent,n=uy.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),oy.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.P;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,ym("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return ym("SimpleDb","Removing database:",e),dy(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!rr())return!1;if(e.N())return!0;var t=Jn(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/nwitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyD5I1yAoCRPK3iOi2NOY8uX4N-rEgaLXag",REACT_APP_APP_ID:"1:963520057463:web:b9138fba480493a9347672",REACT_APP_AUTH_DOMAIN:"nwitter-481da.firebaseapp.com",REACT_APP_MESSAGING_SENDER_ID:"963520057463",REACT_APP_PROJECT_ID:"nwitter-481da",REACT_APP_STORAGE_BUCKET:"nwitter-481da.appspot.com"})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),cy=function(){function e(t){An(this,e),this.q=t,this.U=!1,this.K=null}return Rn(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return dy(this.q.delete())}}]),e}(),ly=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,Tm.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Rn(n)}(Em);function fy(e){return"IndexedDbTransactionError"===e.name}var hy=function(){function e(t){An(this,e),this.store=t}return Rn(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(ym("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ym("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),dy(n)}},{key:"add",value:function(e){return ym("SimpleDb","ADD",this.store.name,e,e),dy(this.store.add(e))}},{key:"get",value:function(e){var t=this;return dy(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ym("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return ym("SimpleDb","DELETE",this.store.name,e),dy(this.store.delete(e))}},{key:"count",value:function(){return ym("SimpleDb","COUNT",this.store.name),dy(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new oy((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new oy((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){ym("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Z=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new oy((function(n,r){t.onerror=function(e){var t=vy(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new oy((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new cy(i),o=t(i.primaryKey,i.value,a);if(o instanceof oy){var u=o.catch((function(e){return a.done(),oy.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return oy.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Z?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function dy(e){return new oy((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=vy(e.target.error);n(t)}}))}var py=!1;function vy(e){var t=sy.D(Jn());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Em("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return py||(py=!0,setTimeout((function(){throw r}),0)),r}}return e}var my=function(){function e(t,n){An(this,e),this.asyncQueue=t,this.et=n,this.task=null}return Rn(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;ym("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=ym,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!fy(e.t4)){e.next=17;break}ym("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,iy(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),yy=function(){function e(t,n){An(this,e),this.localStore=t,this.persistence=n}return Rn(e,[{key:"st",value:function(){var e=Ae(Se().mark((function e(){var t,n=this,r=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return oy.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return ym("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return ym("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Zm(t);ty(r,n)>0&&(n=r)})),new ey(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),gy=function(){function e(t,n){var r=this;An(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Rn(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();gy.at=-1;var ky=Rn((function e(t,n,r,i,a,o,u,s){An(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),by=function(){function e(t,n){An(this,e),this.projectId=t,this.database=n||"(default)"}return Rn(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function wy(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _y(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function xy(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ty(e){return null==e}function Ey(e){return 0===e&&1/e==-1/0}function Iy(e){return"number"==typeof e&&Number.isInteger(e)&&!Ey(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Sy=function(e){Dn(n,e);var t=Fn(n);function n(){var e;return An(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return Rn(n)}(Vn(Error));var Cy=function(e){function t(e){An(this,t),this.binaryString=e}return Rn(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Fm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw e instanceof DOMException?new Sy("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Cy.EMPTY_BYTE_STRING=new Cy("");var Ay=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ny(e){if(_m(!!e),"string"==typeof e){var t=0,n=Ay.exec(e);if(_m(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ry(e.seconds),nanos:Ry(e.nanos)}}function Ry(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Oy(e){return"string"==typeof e?Cy.fromBase64String(e):Cy.fromUint8Array(e)}function Py(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Dy(e){var t=e.mapValue.fields.__previous_value__;return Py(t)?Dy(t):t}function Ly(e){var t=Ny(e.mapValue.fields.__local_write_time__.timestampValue);return new jm(t.seconds,t.nanos)}var My={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fy={nullValue:"NULL_VALUE"};function Uy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Py(e)?4:Jy(e)?9007199254740991:10:wm()}function Vy(e,t){if(e===t)return!0;var n=Uy(e);if(n!==Uy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ly(e).isEqual(Ly(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ny(e.timestampValue),r=Ny(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Oy(e.bytesValue).isEqual(Oy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ry(e.geoPointValue.latitude)===Ry(t.geoPointValue.latitude)&&Ry(e.geoPointValue.longitude)===Ry(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ry(e.integerValue)===Ry(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ry(e.doubleValue),r=Ry(t.doubleValue);return n===r?Ey(n)===Ey(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Um(e.arrayValue.values||[],t.arrayValue.values||[],Vy);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(wy(n)!==wy(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vy(n[i],r[i])))return!1;return!0}(e,t);default:return wm()}}function jy(e,t){return void 0!==(e.values||[]).find((function(e){return Vy(e,t)}))}function By(e,t){if(e===t)return 0;var n=Uy(e),r=Uy(t);if(n!==r)return Fm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ry(e.integerValue||e.doubleValue),r=Ry(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return zy(e.timestampValue,t.timestampValue);case 4:return zy(Ly(e),Ly(t));case 5:return Fm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Oy(e),r=Oy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Fm(n[i],r[i]);if(0!==a)return a}return Fm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Fm(Ry(e.latitude),Ry(t.latitude));return 0!==n?n:Fm(Ry(e.longitude),Ry(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=By(n[i],r[i]);if(a)return a}return Fm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===My.mapValue&&t===My.mapValue)return 0;if(e===My.mapValue)return 1;if(t===My.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Fm(r[o],a[o]);if(0!==u)return u;var s=By(n[r[o]],i[a[o]]);if(0!==s)return s}return Fm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw wm()}}function zy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Fm(e,t);var n=Ny(e),r=Ny(t),i=Fm(n.seconds,r.seconds);return 0!==i?i:Fm(n.nanos,r.nanos)}function qy(e){return Ky(e)}function Ky(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ny(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Oy(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Wm.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=On(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ky(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=On(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Ky(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):wm();var t,n}function Gy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Wy(e){return!!e&&"integerValue"in e}function Hy(e){return!!e&&"arrayValue"in e}function Qy(e){return!!e&&"nullValue"in e}function Xy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Yy(e){return!!e&&"mapValue"in e}function $y(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return _y(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=$y(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=$y(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Jy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Zy(e){return"nullValue"in e?Fy:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Gy(by.empty(),Wm.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:wm()}function eg(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Gy(by.empty(),Wm.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?My:wm()}function tg(e,t){var n=By(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ng(e,t){var n=By(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var rg=Rn((function e(t,n){An(this,e),this.position=t,this.inclusive=n}));function ig(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Wm.comparator(Wm.fromName(o.referenceValue),n.key):By(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ag(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Vy(e.position[n],t.position[n]))return!1;return!0}var og=Rn((function e(){An(this,e)})),ug=function(e){Dn(n,e);var t=Fn(n);function n(e,r,i){var a;return An(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Rn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(By(t,this.value)):null!==t&&Uy(this.value)===Uy(t)&&this.matchesComparison(By(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wm()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new yg(e,t,r):"array-contains"===t?new wg(e,r):"in"===t?new _g(e,r):"not-in"===t?new xg(e,r):"array-contains-any"===t?new Tg(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new gg(e,n):new kg(e,n)}}]),n}(og),sg=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i;return An(this,n),(i=t.call(this)).filters=e,i.op=r,i.ft=null,i}return Rn(n,[{key:"matches",value:function(e){return cg(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ft||(this.ft=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ft}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.dt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"dt",value:function(e){var t,n=On(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(og);function cg(e){return"and"===e.op}function lg(e){return"or"===e.op}function fg(e){return hg(e)&&cg(e)}function hg(e){var t,n=On(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof sg)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function dg(e){if(e instanceof ug)return e.field.canonicalString()+e.op.toString()+qy(e.value);if(fg(e))return e.filters.map((function(e){return dg(e)})).join(",");var t=e.filters.map((function(e){return dg(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function pg(e,t){return e instanceof ug?function(e,t){return t instanceof ug&&e.op===t.op&&e.field.isEqual(t.field)&&Vy(e.value,t.value)}(e,t):e instanceof sg?function(e,t){return t instanceof sg&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&pg(n,t.filters[r])}),!0)}(e,t):void wm()}function vg(e,t){var n=e.filters.concat(t);return sg.create(n,e.op)}function mg(e){return e instanceof ug?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(qy(e.value))}(e):e instanceof sg?function(e){return e.op.toString()+" {"+e.getFilters().map(mg).join(" ,")+"}"}(e):"Filter"}var yg=function(e){Dn(n,e);var t=Fn(n);function n(e,r,i){var a;return An(this,n),(a=t.call(this,e,r,i)).key=Wm.fromName(i.referenceValue),a}return Rn(n,[{key:"matches",value:function(e){var t=Wm.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(ug),gg=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,e,"in",r)).keys=bg("in",r),i}return Rn(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ug),kg=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,e,"not-in",r)).keys=bg("not-in",r),i}return Rn(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ug);function bg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Wm.fromName(e.referenceValue)}))}var wg=function(e){Dn(n,e);var t=Fn(n);function n(e,r){return An(this,n),t.call(this,e,"array-contains",r)}return Rn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Hy(t)&&jy(t.arrayValue,this.value)}}]),n}(ug),_g=function(e){Dn(n,e);var t=Fn(n);function n(e,r){return An(this,n),t.call(this,e,"in",r)}return Rn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&jy(this.value.arrayValue,t)}}]),n}(ug),xg=function(e){Dn(n,e);var t=Fn(n);function n(e,r){return An(this,n),t.call(this,e,"not-in",r)}return Rn(n,[{key:"matches",value:function(e){if(jy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!jy(this.value.arrayValue,t)}}]),n}(ug),Tg=function(e){Dn(n,e);var t=Fn(n);function n(e,r){return An(this,n),t.call(this,e,"array-contains-any",r)}return Rn(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Hy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return jy(t.value.arrayValue,e)}))}}]),n}(ug),Eg=Rn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";An(this,e),this.field=t,this.dir=n}));function Ig(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Sg=function(){function e(t,n){An(this,e),this.comparator=t,this.root=n||Ag.EMPTY}return Rn(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ag.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ag.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Cg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Cg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Cg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Cg(this.root,e,this.comparator,!0)}}]),e}(),Cg=function(){function e(t,n,r,i){An(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Rn(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Ag=function(){function e(t,n,r,i,a){An(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Rn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw wm();if(this.right.isRed())throw wm();var e=this.left.check();if(e!==this.right.check())throw wm();return e+(this.isRed()?0:1)}}]),e}();Ag.EMPTY=null,Ag.RED=!0,Ag.BLACK=!1,Ag.EMPTY=new(function(){function e(){An(this,e),this.size=0}return Rn(e,[{key:"key",get:function(){throw wm()}},{key:"value",get:function(){throw wm()}},{key:"color",get:function(){throw wm()}},{key:"left",get:function(){throw wm()}},{key:"right",get:function(){throw wm()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Ag(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ng=function(){function e(t){An(this,e),this.comparator=t,this.data=new Sg(this.comparator)}return Rn(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Rg(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Rg(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Rg=function(){function e(t){An(this,e),this.iter=t}return Rn(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Og(e){return e.hasNext()?e.getNext():void 0}var Pg=function(){function e(t){An(this,e),this.fields=t,t.sort(Gm.comparator)}return Rn(e,[{key:"unionWith",value:function(t){var n,r=new Ng(Gm.comparator),i=On(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=On(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=On(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Um(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Dg=function(){function e(t){An(this,e),this.value=t}return Rn(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Yy(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$y(t)}},{key:"setAll",value:function(e){var t=this,n=Gm.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=$y(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Yy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Vy(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Yy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){_y(t,(function(t,n){return e[t]=n}));var r,i=On(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e($y(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Lg(e){var t=[];return _y(e.fields,(function(e,n){var r=new Gm([e]);if(Yy(n)){var i=Lg(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=On(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Pg(t)}var Mg=function(){function e(t,n,r,i,a,o,u){An(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return Rn(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Bm.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Dg.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Dg.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Bm.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Bm.min(),Bm.min(),Bm.min(),Dg.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Bm.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Bm.min(),Bm.min(),Dg.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Bm.min(),Bm.min(),Dg.empty(),2)}}]),e}(),Fg=Rn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;An(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this._t=null}));function Ug(e){return new Fg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Vg(e){var t=xm(e);if(null===t._t){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return dg(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ty(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return qy(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return qy(e)})).join(",")),t._t=n}return t._t}function jg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ig(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!pg(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ag(e.startAt,t.startAt)&&ag(e.endAt,t.endAt)}function Bg(e){return Wm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function zg(e,t){return e.filters.filter((function(e){return e instanceof ug&&e.field.isEqual(t)}))}function qg(e,t,n){var r,i=Fy,a=!0,o=On(zg(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Fy,c=!0;switch(u.op){case"<":case"<=":s=Zy(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Fy}tg({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];tg({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Kg(e,t,n){var r,i=My,a=!0,o=On(zg(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=My,c=!0;switch(u.op){case">=":case">":s=eg(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=My}ng({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ng({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Gg=Rn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;An(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.wt=null,this.gt=null,this.startAt,this.endAt}));function Wg(e,t,n,r,i,a,o,u){return new Gg(e,t,n,r,i,a,o,u)}function Hg(e){return new Gg(e)}function Qg(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Xg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Yg(e){var t,n=On(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function $g(e){return null!==e.collectionGroup}function Jg(e){var t=xm(e);if(null===t.wt){t.wt=[];var n=Yg(t),r=Xg(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new Eg(n)),t.wt.push(new Eg(Gm.keyField(),"asc"));else{var i,a=!1,o=On(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.wt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Eg(Gm.keyField(),s))}}}return t.wt}function Zg(e){var t=xm(e);if(!t.gt)if("F"===t.limitType)t.gt=Ug(t.path,t.collectionGroup,Jg(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=On(Jg(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Eg(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new rg(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new rg(t.startAt.position,t.startAt.inclusive):null;t.gt=Ug(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.gt}function ek(e,t){t.getFirstInequalityField(),Yg(e);var n=e.filters.concat([t]);return new Gg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function tk(e,t,n){return new Gg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function nk(e,t){return jg(Zg(e),Zg(t))&&e.limitType===t.limitType}function rk(e){return"".concat(Vg(Zg(e)),"|lt:").concat(e.limitType)}function ik(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return mg(e)})).join(", "),"]")),Ty(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return qy(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return qy(e)})).join(",")),"Target(".concat(t,")")}(Zg(e)),"; limitType=").concat(e.limitType,")")}function ak(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Wm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=On(Jg(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=On(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=ig(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Jg(e),t))&&!(e.endAt&&!function(e,t,n){var r=ig(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Jg(e),t))}(e,t)}function ok(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function uk(e){return function(t,n){var r,i=!1,a=On(Jg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=sk(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function sk(e,t,n){var r=e.field.isKeyField()?Wm.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?By(r,i):wm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wm()}}function ck(e,t){if(e.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ey(t)?"-0":t}}function lk(e){return{integerValue:""+e}}function fk(e,t){return Iy(t)?lk(t):ck(e,t)}var hk=Rn((function e(){An(this,e),this._=void 0}));function dk(e,t,n){return e instanceof mk?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof yk?gk(e,t):e instanceof kk?bk(e,t):function(e,t){var n=vk(e,t),r=_k(n)+_k(e.It);return Wy(n)&&Wy(e.It)?lk(r):ck(e.Tt,r)}(e,t)}function pk(e,t,n){return e instanceof yk?gk(e,t):e instanceof kk?bk(e,t):n}function vk(e,t){return e instanceof wk?Wy(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var mk=function(e){Dn(n,e);var t=Fn(n);function n(){return An(this,n),t.apply(this,arguments)}return Rn(n)}(hk),yk=function(e){Dn(n,e);var t=Fn(n);function n(e){var r;return An(this,n),(r=t.call(this)).elements=e,r}return Rn(n)}(hk);function gk(e,t){var n,r=xk(t),i=On(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Vy(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var kk=function(e){Dn(n,e);var t=Fn(n);function n(e){var r;return An(this,n),(r=t.call(this)).elements=e,r}return Rn(n)}(hk);function bk(e,t){var n,r=xk(t),i=On(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Vy(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var wk=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i;return An(this,n),(i=t.call(this)).Tt=e,i.It=r,i}return Rn(n)}(hk);function _k(e){return Ry(e.integerValue||e.doubleValue)}function xk(e){return Hy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Tk=Rn((function e(t,n){An(this,e),this.field=t,this.transform=n}));var Ek=Rn((function e(t,n){An(this,e),this.version=t,this.transformResults=n})),Ik=function(){function e(t,n){An(this,e),this.updateTime=t,this.exists=n}return Rn(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Sk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ck=Rn((function e(){An(this,e)}));function Ak(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Bk(e.key,Ik.none()):new Dk(e.key,e.data,Ik.none());var n,r=e.data,i=Dg.empty(),a=new Ng(Gm.comparator),o=On(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Lk(e.key,i,new Pg(a.toArray()),Ik.none())}function Nk(e,t,n){e instanceof Dk?function(e,t,n){var r=e.value.clone(),i=Fk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Lk?function(e,t,n){if(Sk(e.precondition,t)){var r=Fk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Mk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Rk(e,t,n,r){return e instanceof Dk?function(e,t,n,r){if(!Sk(e.precondition,t))return n;var i=e.value.clone(),a=Uk(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Lk?function(e,t,n,r){if(!Sk(e.precondition,t))return n;var i=Uk(e.fieldTransforms,r,t),a=t.data;return a.setAll(Mk(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Sk(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ok(e,t){var n,r=null,i=On(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=vk(a.transform,o||null);null!=u&&(null===r&&(r=Dg.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Pk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Um(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof yk&&t instanceof yk||e instanceof kk&&t instanceof kk?Um(e.elements,t.elements,Vy):e instanceof wk&&t instanceof wk?Vy(e.It,t.It):e instanceof mk&&t instanceof mk}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Dk=function(e){Dn(n,e);var t=Fn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return An(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Rn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ck),Lk=function(e){Dn(n,e);var t=Fn(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return An(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Rn(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Ck);function Mk(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Fk(e,t,n){var r=new Map;_m(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,pk(o,u,n[i]))}return r}function Uk(e,t,n){var r,i=new Map,a=On(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,dk(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Vk,jk,Bk=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i;return An(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Rn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ck),zk=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i;return An(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Rn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ck),qk=Rn((function e(t){An(this,e),this.count=t}));function Kk(e){switch(e){default:return wm();case Tm.CANCELLED:case Tm.UNKNOWN:case Tm.DEADLINE_EXCEEDED:case Tm.RESOURCE_EXHAUSTED:case Tm.INTERNAL:case Tm.UNAVAILABLE:case Tm.UNAUTHENTICATED:return!1;case Tm.INVALID_ARGUMENT:case Tm.NOT_FOUND:case Tm.ALREADY_EXISTS:case Tm.PERMISSION_DENIED:case Tm.FAILED_PRECONDITION:case Tm.ABORTED:case Tm.OUT_OF_RANGE:case Tm.UNIMPLEMENTED:case Tm.DATA_LOSS:return!0}}function Gk(e){if(void 0===e)return gm("GRPC error has no .code"),Tm.UNKNOWN;switch(e){case Vk.OK:return Tm.OK;case Vk.CANCELLED:return Tm.CANCELLED;case Vk.UNKNOWN:return Tm.UNKNOWN;case Vk.DEADLINE_EXCEEDED:return Tm.DEADLINE_EXCEEDED;case Vk.RESOURCE_EXHAUSTED:return Tm.RESOURCE_EXHAUSTED;case Vk.INTERNAL:return Tm.INTERNAL;case Vk.UNAVAILABLE:return Tm.UNAVAILABLE;case Vk.UNAUTHENTICATED:return Tm.UNAUTHENTICATED;case Vk.INVALID_ARGUMENT:return Tm.INVALID_ARGUMENT;case Vk.NOT_FOUND:return Tm.NOT_FOUND;case Vk.ALREADY_EXISTS:return Tm.ALREADY_EXISTS;case Vk.PERMISSION_DENIED:return Tm.PERMISSION_DENIED;case Vk.FAILED_PRECONDITION:return Tm.FAILED_PRECONDITION;case Vk.ABORTED:return Tm.ABORTED;case Vk.OUT_OF_RANGE:return Tm.OUT_OF_RANGE;case Vk.UNIMPLEMENTED:return Tm.UNIMPLEMENTED;case Vk.DATA_LOSS:return Tm.DATA_LOSS;default:return wm()}}(jk=Vk||(Vk={}))[jk.OK=0]="OK",jk[jk.CANCELLED=1]="CANCELLED",jk[jk.UNKNOWN=2]="UNKNOWN",jk[jk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jk[jk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jk[jk.NOT_FOUND=5]="NOT_FOUND",jk[jk.ALREADY_EXISTS=6]="ALREADY_EXISTS",jk[jk.PERMISSION_DENIED=7]="PERMISSION_DENIED",jk[jk.UNAUTHENTICATED=16]="UNAUTHENTICATED",jk[jk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jk[jk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jk[jk.ABORTED=10]="ABORTED",jk[jk.OUT_OF_RANGE=11]="OUT_OF_RANGE",jk[jk.UNIMPLEMENTED=12]="UNIMPLEMENTED",jk[jk.INTERNAL=13]="INTERNAL",jk[jk.UNAVAILABLE=14]="UNAVAILABLE",jk[jk.DATA_LOSS=15]="DATA_LOSS";var Wk=function(){function e(t,n){An(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Rn(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=On(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){_y(this.inner,(function(t,n){var r,i=On(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return xy(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Hk=new Sg(Wm.comparator);function Qk(){return Hk}var Xk=new Sg(Wm.comparator);function Yk(){for(var e=Xk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function $k(e){var t=Xk;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Jk(){return eb()}function Zk(){return eb()}function eb(){return new Wk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var tb=new Sg(Wm.comparator),nb=new Ng(Wm.comparator);function rb(){for(var e=nb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ib=new Ng(Fm);function ab(){return ib}var ob=function(){function e(t,n,r,i,a){An(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Rn(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,ub.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Bm.min(),i,ab(),Qk(),rb())}}]),e}(),ub=function(){function e(t,n,r,i,a){An(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Rn(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,rb(),rb(),rb())}}]),e}(),sb=Rn((function e(t,n,r,i){An(this,e),this.Et=t,this.removedTargetIds=n,this.key=r,this.At=i})),cb=Rn((function e(t,n){An(this,e),this.targetId=t,this.Rt=n})),lb=Rn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cy.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;An(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),fb=function(){function e(){An(this,e),this.bt=0,this.vt=pb(),this.Pt=Cy.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}return Rn(e,[{key:"current",get:function(){return this.Vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"Dt",get:function(){return 0!==this.bt}},{key:"Ct",get:function(){return this.St}},{key:"xt",value:function(e){e.approximateByteSize()>0&&(this.St=!0,this.Pt=e)}},{key:"Nt",value:function(){var e=rb(),t=rb(),n=rb();return this.vt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:wm()}})),new ub(this.Pt,this.Vt,e,t,n)}},{key:"kt",value:function(){this.St=!1,this.vt=pb()}},{key:"Ot",value:function(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}},{key:"Mt",value:function(e){this.St=!0,this.vt=this.vt.remove(e)}},{key:"Ft",value:function(){this.bt+=1}},{key:"$t",value:function(){this.bt-=1}},{key:"Bt",value:function(){this.St=!0,this.Vt=!0}}]),e}(),hb=function(){function e(t){An(this,e),this.Lt=t,this.qt=new Map,this.Ut=Qk(),this.Kt=db(),this.Gt=new Ng(Fm)}return Rn(e,[{key:"Qt",value:function(e){var t,n=On(e.Et);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.At&&e.At.isFoundDocument()?this.jt(r,e.At):this.zt(r,e.key,e.At)}}catch(u){n.e(u)}finally{n.f()}var i,a=On(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.zt(o,e.key,e.At)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Ht(n);switch(e.state){case 0:t.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.$t(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.$t(),r.Dt||t.removeTarget(n);break;case 3:t.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:t.Jt(n)&&(t.Yt(n),r.xt(e.resumeToken));break;default:wm()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((function(e,r){n.Jt(r)&&t(r)}))}},{key:"Zt",value:function(e){var t=e.targetId,n=e.Rt.count,r=this.Xt(t);if(r){var i=r.target;if(Bg(i))if(0===n){var a=new Wm(i.path);this.zt(t,a,Mg.newNoDocument(a,Bm.min()))}else _m(1===n);else this.te(t)!==n&&(this.Yt(t),this.Gt=this.Gt.add(t))}}},{key:"ee",value:function(e){var t=this,n=new Map;this.qt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&Bg(a.target)){var o=new Wm(a.target.path);null!==t.Ut.get(o)||t.ne(i,o)||t.zt(i,o,Mg.newNoDocument(o,e))}r.Ct&&(n.set(i,r.Nt()),r.kt())}}));var r=rb();this.Kt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new ob(e,n,this.Gt,this.Ut,r);return this.Ut=Qk(),this.Kt=db(),this.Gt=new Ng(Fm),i}},{key:"jt",value:function(e,t){if(this.Jt(e)){var n=this.ne(e,t.key)?2:0;this.Ht(e).Ot(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}}},{key:"zt",value:function(e,t,n){if(this.Jt(e)){var r=this.Ht(e);this.ne(e,t)?r.Ot(t,1):r.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.qt.delete(e)}},{key:"te",value:function(e){var t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ft",value:function(e){this.Ht(e).Ft()}},{key:"Ht",value:function(e){var t=this.qt.get(e);return t||(t=new fb,this.qt.set(e,t)),t}},{key:"se",value:function(e){var t=this.Kt.get(e);return t||(t=new Ng(Fm),this.Kt=this.Kt.insert(e,t)),t}},{key:"Jt",value:function(e){var t=null!==this.Xt(e);return t||ym("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}},{key:"Yt",value:function(e){var t=this;this.qt.set(e,new fb),this.Lt.getRemoteKeysForTarget(e).forEach((function(n){t.zt(e,n,null)}))}},{key:"ne",value:function(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}]),e}();function db(){return new Sg(Wm.comparator)}function pb(){return new Sg(Wm.comparator)}var vb={asc:"ASCENDING",desc:"DESCENDING"},mb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yb={and:"AND",or:"OR"},gb=Rn((function e(t,n){An(this,e),this.databaseId=t,this.yt=n}));function kb(e,t){return e.yt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function bb(e,t){return e.yt?t.toBase64():t.toUint8Array()}function wb(e,t){return kb(e,t.toTimestamp())}function _b(e){return _m(!!e),Bm.fromTimestamp(function(e){var t=Ny(e);return new jm(t.seconds,t.nanos)}(e))}function xb(e,t){return function(e){return new qm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Tb(e){var t=qm.fromString(e);return _m(Hb(t)),t}function Eb(e,t){return xb(e.databaseId,t.path)}function Ib(e,t){var n=Tb(t);if(n.get(1)!==e.databaseId.projectId)throw new Em(Tm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Em(Tm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Wm(Nb(n))}function Sb(e,t){return xb(e.databaseId,t)}function Cb(e){var t=Tb(e);return 4===t.length?qm.emptyPath():Nb(t)}function Ab(e){return new qm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Nb(e){return _m(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Rb(e,t,n){return{name:Eb(e,t),fields:n.value.mapValue.fields}}function Ob(e,t,n){var r=Ib(e,t.name),i=_b(t.updateTime),a=t.createTime?_b(t.createTime):Bm.min(),o=new Dg({mapValue:{fields:t.fields}}),u=Mg.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Pb(e,t){return"found"in t?function(e,t){_m(!!t.found),t.found.name,t.found.updateTime;var n=Ib(e,t.found.name),r=_b(t.found.updateTime),i=t.found.createTime?_b(t.found.createTime):Bm.min(),a=new Dg({mapValue:{fields:t.found.fields}});return Mg.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){_m(!!t.missing),_m(!!t.readTime);var n=Ib(e,t.missing),r=_b(t.readTime);return Mg.newNoDocument(n,r)}(e,t):wm()}function Db(e,t){var n;if(t instanceof Dk)n={update:Rb(e,t.key,t.value)};else if(t instanceof Bk)n={delete:Eb(e,t.key)};else if(t instanceof Lk)n={update:Rb(e,t.key,t.data),updateMask:Wb(t.fieldMask)};else{if(!(t instanceof zk))return wm();n={verify:Eb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof mk)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof yk)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof kk)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof wk)return{fieldPath:t.field.canonicalString(),increment:n.It};throw wm()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:wb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:wm()}(e,t.precondition)),n}function Lb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Ik.updateTime(_b(e.updateTime)):void 0!==e.exists?Ik.exists(e.exists):Ik.none()}(t.currentDocument):Ik.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)_m("REQUEST_TIME"===t.setToServerValue),n=new mk;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new yk(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new kk(i)}else"increment"in t?n=new wk(e,t.increment):wm();var a=Gm.fromServerFormat(t.fieldPath);return new Tk(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Ib(e,t.update.name),a=new Dg({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Pg(t.map((function(e){return Gm.fromServerFormat(e)})))}(t.updateMask);return new Lk(i,a,o,n,r)}return new Dk(i,a,n,r)}if(t.delete){var u=Ib(e,t.delete);return new Bk(u,n)}if(t.verify){var s=Ib(e,t.verify);return new zk(s,n)}return wm()}function Mb(e,t){return{documents:[Sb(e,t.path)]}}function Fb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Sb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Sb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Gb(sg.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:qb(e.field),direction:jb(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.yt||Ty(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Ub(e){var t=Cb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_m(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Vb(e);return t instanceof sg&&fg(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Eg(Kb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ty(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new rg(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new rg(n,t)}(n.endAt)),Wg(t,i,u,o,s,"F",c,l)}function Vb(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Kb(e.unaryFilter.field);return ug.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Kb(e.unaryFilter.field);return ug.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Kb(e.unaryFilter.field);return ug.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Kb(e.unaryFilter.field);return ug.create(i,"!=",{nullValue:"NULL_VALUE"});default:return wm()}}(e):void 0!==e.fieldFilter?function(e){return ug.create(Kb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wm()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return sg.create(e.compositeFilter.filters.map((function(e){return Vb(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return wm()}}(e.compositeFilter.op))}(e):wm()}function jb(e){return vb[e]}function Bb(e){return mb[e]}function zb(e){return yb[e]}function qb(e){return{fieldPath:e.canonicalString()}}function Kb(e){return Gm.fromServerFormat(e.fieldPath)}function Gb(e){return e instanceof ug?function(e){if("=="===e.op){if(Xy(e.value))return{unaryFilter:{field:qb(e.field),op:"IS_NAN"}};if(Qy(e.value))return{unaryFilter:{field:qb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Xy(e.value))return{unaryFilter:{field:qb(e.field),op:"IS_NOT_NAN"}};if(Qy(e.value))return{unaryFilter:{field:qb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qb(e.field),op:Bb(e.op),value:e.value}}}(e):e instanceof sg?function(e){var t=e.getFilters().map((function(e){return Gb(e)}));return 1===t.length?t[0]:{compositeFilter:{op:zb(e.op),filters:t}}}(e):wm()}function Wb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Hb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Qb(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Yb(t)),t=Xb(e.get(n),t);return Yb(t)}function Xb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Yb(e){return e+"\x01\x01"}function $b(e){var t=e.length;if(_m(t>=2),2===t)return _m("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),qm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&wm(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:wm()}a=o+2}return new qm(r)}var Jb=["userId","batchId"];function Zb(e,t){return[e,Qb(t)]}function ew(e,t,n){return[e,Qb(t),n]}var tw={},nw=["prefixPath","collectionGroup","readTime","documentId"],rw=["prefixPath","collectionGroup","documentId"],iw=["collectionGroup","readTime","prefixPath","documentId"],aw=["canonicalId","targetId"],ow=["targetId","path"],uw=["path","targetId"],sw=["collectionId","parent"],cw=["indexId","uid"],lw=["uid","sequenceNumber"],fw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hw=["indexId","uid","orderedDocumentKey"],dw=["userId","collectionPath","documentId"],pw=["userId","collectionPath","largestBatchId"],vw=["userId","collectionGroup","largestBatchId"],mw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),yw=[].concat(gr(mw),["documentOverlays"]),gw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kw=gw,bw=[].concat(kw,["indexConfiguration","indexState","indexEntries"]),ww=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i;return An(this,n),(i=t.call(this)).re=e,i.currentSequenceNumber=r,i}return Rn(n)}(ry);function _w(e,t){var n=xm(e);return sy.M(n.re,t)}var xw=function(){function e(t,n,r,i){An(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Rn(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Nk(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=On(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Rk(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=On(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Rk(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Zk();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Ak(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Bm.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),rb())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Um(this.mutations,e.mutations,(function(e,t){return Pk(e,t)}))&&Um(this.baseMutations,e.baseMutations,(function(e,t){return Pk(e,t)}))}}]),e}(),Tw=function(){function e(t,n,r,i){An(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Rn(e,null,[{key:"from",value:function(t,n,r){_m(t.mutations.length===r.length);for(var i=tb,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Ew=function(){function e(t,n){An(this,e),this.largestBatchId=t,this.mutation=n}return Rn(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Iw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Bm.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Bm.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Cy.EMPTY_BYTE_STRING;An(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Rn(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Sw=Rn((function e(t){An(this,e),this.oe=t}));function Cw(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Aw(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Eb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:kb(e,t.version.toTimestamp()),createTime:kb(e,t.createTime.toTimestamp())}}(e.oe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Nw(t.version)};else{if(!t.isUnknownDocument())return wm();r.unknownDocument={path:n.path.toArray(),version:Nw(t.version)}}return r}function Aw(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Nw(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Rw(e){var t=new jm(e.seconds,e.nanoseconds);return Bm.fromTimestamp(t)}function Ow(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Lb(e.oe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Lb(e.oe,t)})),u=jm.fromMillis(t.localWriteTimeMs);return new xw(t.batchId,u,n,o)}function Pw(e){var t,n,r=Rw(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Rw(e.lastLimboFreeSnapshotVersion):Bm.min();return void 0!==e.query.documents?(_m(1===(n=e.query).documents.length),t=Zg(Hg(Cb(n.documents[0])))):t=function(e){return Zg(Ub(e))}(e.query),new Iw(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Cy.fromBase64String(e.resumeToken))}function Dw(e,t){var n,r=Nw(t.snapshotVersion),i=Nw(t.lastLimboFreeSnapshotVersion);n=Bg(t.target)?Mb(e.oe,t.target):Fb(e.oe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Vg(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Lw(e){var t=Ub({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?tk(t,t.limit,"L"):t}function Mw(e,t){return new Ew(t.largestBatchId,Lb(e.oe,t.overlayMutation))}function Fw(e,t){var n=t.path.lastSegment();return[e,Qb(t.path.popLast()),n]}function Uw(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Nw(r.readTime),documentKey:Qb(r.documentKey.path),largestBatchId:r.largestBatchId}}var Vw=function(){function e(){An(this,e)}return Rn(e,[{key:"getBundleMetadata",value:function(e,t){return jw(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Rw(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return jw(e).put({bundleId:(n=t).id,createTime:Nw(_b(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Bw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Lw(t.bundledQuery),readTime:Rw(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Bw(e).put(function(e){return{name:e.name,readTime:Nw(_b(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function jw(e){return _w(e,"bundles")}function Bw(e){return _w(e,"namedQueries")}var zw=function(){function e(t,n){An(this,e),this.Tt=t,this.userId=n}return Rn(e,[{key:"getOverlay",value:function(e,t){var n=this;return qw(e).get(Fw(this.userId,t)).next((function(e){return e?Mw(n.Tt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Jk();return oy.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Ew(t,a);i.push(r.ce(e,o))})),oy.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Qb(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(qw(e).Y("collectionPathOverlayIndex",i))})),oy.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Jk(),a=Qb(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return qw(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=On(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Mw(r.Tt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Jk(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return qw(e).X({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Mw(a.Tt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ce",value:function(e,t){return qw(e).put(function(e,t,n){var r=s(Fw(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Db(e.oe,n.mutation)}}(this.Tt,this.userId,t))}}],[{key:"ue",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function qw(e){return _w(e,"documentOverlays")}var Kw=function(){function e(){An(this,e)}return Rn(e,[{key:"ae",value:function(e,t){this.he(e,t),t.le()}},{key:"he",value:function(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Ry(e.integerValue));else if("doubleValue"in e){var n=Ry(e.doubleValue);isNaN(n)?this.fe(t,13):(this.fe(t,15),Ey(n)?t.de(0):t.de(n))}else if("timestampValue"in e){var r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e("".concat(r.seconds||"")),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(Oy(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.fe(t,45),t.de(i.latitude||0),t.de(i.longitude||0)}else"mapValue"in e?Jy(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):wm()}},{key:"we",value:function(e,t){this.fe(t,25),this.Te(e,t)}},{key:"Te",value:function(e,t){t._e(e)}},{key:"pe",value:function(e,t){var n=e.fields||{};this.fe(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.we(a,t),this.he(n[a],t)}}},{key:"Ie",value:function(e,t){var n=e.values||[];this.fe(t,50);var r,i=On(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.he(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ye",value:function(e,t){var n=this;this.fe(t,37),Wm.fromName(e).path.forEach((function(e){n.fe(t,60),n.Te(e,t)}))}},{key:"fe",value:function(e,t){e.de(t)}},{key:"me",value:function(e){e.de(2)}}]),e}();function Gw(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Ww(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Gw(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Kw.Ee=new Kw;var Hw=function(){function e(){An(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Rn(e,[{key:"Ae",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Re(n.value),n=t.next();this.be()}},{key:"ve",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.Ve()}},{key:"Se",value:function(e){var t,n=On(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{var a=r.codePointAt(0);this.Re(240|a>>>18),this.Re(128|63&a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.be()}},{key:"De",value:function(e){var t,n=On(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ve()}},{key:"Ce",value:function(e){var t=this.xe(e),n=Ww(t);this.Ne(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"ke",value:function(e){var t=this.xe(e),n=Ww(t);this.Ne(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"Fe",value:function(){this.$e(255),this.$e(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Be",value:function(){return this.buffer.slice(0,this.position)}},{key:"xe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Re",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.$e(0),this.$e(255)):255===t?(this.$e(255),this.$e(0)):this.$e(e)}},{key:"be",value:function(){this.Me(0),this.Me(1)}},{key:"Ve",value:function(){this.$e(0),this.$e(1)}},{key:"Me",value:function(e){this.Ne(1),this.buffer[this.position++]=e}},{key:"$e",value:function(e){this.Ne(1),this.buffer[this.position++]=~e}},{key:"Ne",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Qw=function(){function e(t){An(this,e),this.Le=t}return Rn(e,[{key:"ge",value:function(e){this.Le.Ae(e)}},{key:"_e",value:function(e){this.Le.Se(e)}},{key:"de",value:function(e){this.Le.Ce(e)}},{key:"le",value:function(){this.Le.Oe()}}]),e}(),Xw=function(){function e(t){An(this,e),this.Le=t}return Rn(e,[{key:"ge",value:function(e){this.Le.ve(e)}},{key:"_e",value:function(e){this.Le.De(e)}},{key:"de",value:function(e){this.Le.ke(e)}},{key:"le",value:function(){this.Le.Fe()}}]),e}(),Yw=function(){function e(){An(this,e),this.Le=new Hw,this.qe=new Qw(this.Le),this.Ue=new Xw(this.Le)}return Rn(e,[{key:"seed",value:function(e){this.Le.seed(e)}},{key:"Ke",value:function(e){return 0===e?this.qe:this.Ue}},{key:"Be",value:function(){return this.Le.Be()}},{key:"reset",value:function(){this.Le.reset()}}]),e}(),$w=function(){function e(t,n,r,i){An(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Rn(e,[{key:"Ge",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Jw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Zw(e.arrayValue,t.arrayValue))?n:0!==(n=Zw(e.directionalValue,t.directionalValue))?n:Wm.comparator(e.documentKey,t.documentKey)}function Zw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var e_=function(){function e(t){An(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Qe=t.orderBy,this.je=[];var n,r=On(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.ze=i:this.je.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Rn(e,[{key:"We",value:function(e){_m(e.collectionGroup===this.collectionId);var t=Qm(e);if(void 0!==t&&!this.He(t))return!1;for(var n=Xm(e),r=0,i=0;r<n.length&&this.He(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.ze){var a=n[r];if(!this.Je(this.ze,a)||!this.Ye(this.Qe[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Qe.length||!this.Ye(this.Qe[i++],o))return!1}return!0}},{key:"He",value:function(e){var t,n=On(this.je);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ye",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function t_(e){var t,n;if(_m(e instanceof ug||e instanceof sg),e instanceof ug){if(e instanceof _g){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return ug.create(e.field,"==",t)})))||[];return sg.create(r,"or")}return e}var i=e.filters.map((function(e){return t_(e)}));return sg.create(i,e.op)}function n_(e){if(0===e.getFilters().length)return[];var t=o_(t_(e));return _m(a_(t)),r_(t)||i_(t)?[t]:t.getFilters()}function r_(e){return e instanceof ug}function i_(e){return e instanceof sg&&fg(e)}function a_(e){return r_(e)||i_(e)||function(e){if(e instanceof sg&&lg(e)){var t,n=On(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!r_(r)&&!i_(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function o_(e){if(_m(e instanceof ug||e instanceof sg),e instanceof ug)return e;if(1===e.filters.length)return o_(e.filters[0]);var t=e.filters.map((function(e){return o_(e)})),n=sg.create(t,e.op);return a_(n=c_(n))?n:(_m(n instanceof sg),_m(cg(n)),_m(n.filters.length>1),n.filters.reduce((function(e,t){return u_(e,t)})))}function u_(e,t){var n;return _m(e instanceof ug||e instanceof sg),_m(t instanceof ug||t instanceof sg),n=e instanceof ug?t instanceof ug?function(e,t){return sg.create([e,t],"and")}(e,t):s_(e,t):t instanceof ug?s_(t,e):function(e,t){if(_m(e.filters.length>0&&t.filters.length>0),cg(e)&&cg(t))return vg(e,t.getFilters());var n=lg(e)?e:t,r=lg(e)?t:e,i=n.filters.map((function(e){return u_(e,r)}));return sg.create(i,"or")}(e,t),c_(n)}function s_(e,t){if(cg(t))return vg(t,e.getFilters());var n=t.filters.map((function(t){return u_(e,t)}));return sg.create(n,"or")}function c_(e){if(_m(e instanceof ug||e instanceof sg),e instanceof ug)return e;var t=e.getFilters();if(1===t.length)return c_(t[0]);if(hg(e))return e;var n=t.map((function(e){return c_(e)})),r=[];return n.forEach((function(t){t instanceof ug?r.push(t):t instanceof sg&&(t.op===e.op?r.push.apply(r,gr(t.filters)):r.push(t))})),1===r.length?r[0]:sg.create(r,e.op)}var l_=function(){function e(){An(this,e),this.Ze=new f_}return Rn(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ze.add(t),oy.resolve()}},{key:"getCollectionParents",value:function(e,t){return oy.resolve(this.Ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return oy.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return oy.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return oy.resolve(null)}},{key:"getIndexType",value:function(e,t){return oy.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return oy.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return oy.resolve(null)}},{key:"getMinOffset",value:function(e,t){return oy.resolve(ey.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return oy.resolve(ey.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return oy.resolve()}},{key:"updateIndexEntries",value:function(e,t){return oy.resolve()}}]),e}(),f_=function(){function e(){An(this,e),this.index={}}return Rn(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ng(qm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ng(qm.comparator)).toArray()}}]),e}(),h_=new Uint8Array(0),d_=function(){function e(t,n){An(this,e),this.user=t,this.databaseId=n,this.Xe=new f_,this.tn=new Wk((function(e){return Vg(e)}),(function(e,t){return jg(e,t)})),this.uid=t.uid||""}return Rn(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:Qb(i)};return p_(e).put(a)}return oy.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Vm(t),""],!1,!0);return p_(e).W(r).next((function(e){var r,i=On(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push($b(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=m_(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=y_(e);return a.next((function(e){o.put(Uw(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=m_(e),r=y_(e),i=v_(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=v_(e),i=!0,a=new Map;return oy.forEach(this.en(t),(function(t){return n.nn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=rb(),o=[];return oy.forEach(a,(function(i,a){var u;ym("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Vg(t)));var s=function(e,t){var n=Qm(t);if(void 0===n)return null;var r,i=On(zg(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=On(Xm(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=On(zg(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=On(Xm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?qg(e,o.fieldPath,e.startAt):Kg(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new rg(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=On(Xm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Kg(e,o.fieldPath,e.endAt):qg(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new rg(r,i)}(a,i),h=n.sn(i,a,l),d=n.sn(i,a,f),p=n.rn(i,a,c),v=n.on(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return oy.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Wm.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return oy.resolve(null)}))}},{key:"en",value:function(e){var t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:n_(sg.create(e.filters,"and")).map((function(t){return Ug(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.tn.set(e,t),t)}},{key:"on",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.un(t[h/c]):h_,f=u.cn(e,s,n[h%c],r),d=u.an(e,s,i[h%c],a),p=o.map((function(t){return u.cn(e,s,t,!0)}));l.push.apply(l,gr(u.createRange(f,d,p)))},h=0;h<s;++h)f();return l}},{key:"cn",value:function(e,t,n,r){var i=new $w(e,Wm.empty(),t,n);return r?i:i.Ge()}},{key:"an",value:function(e,t,n,r){var i=new $w(e,Wm.empty(),t,n);return r?i.Ge():i}},{key:"nn",value:function(e,t){var n=new e_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=On(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.en(t);return oy.forEach(i,(function(t){return n.nn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Ng(Gm.comparator),r=!1,i=On(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=On(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=On(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"hn",value:function(e,t){var n,r=new Yw,i=On(Xm(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ke(a.kind);Kw.Ee.ae(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Be()}},{key:"un",value:function(e){var t=new Yw;return Kw.Ee.ae(e,t.Ke(0)),t.Be()}},{key:"ln",value:function(e,t){var n=new Yw;return Kw.Ee.ae(Gy(this.databaseId,t),n.Ke(function(e){var t=Xm(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Be()}},{key:"rn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Yw);var i,a=0,o=On(Xm(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=On(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.fn(t,s.fieldPath)&&Hy(c))r=this.dn(r,s,c);else{var h=f.Ke(s.kind);Kw.Ee.ae(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this._n(r)}},{key:"sn",value:function(e,t,n){return this.rn(e,t,n.position)}},{key:"_n",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Be();return t}},{key:"dn",value:function(e,t,n){var r,i=gr(e),a=[],o=On(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=On(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Yw;f.seed(l.Be()),Kw.Ee.ae(s,f.Ke(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"fn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof ug&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=m_(e),i=y_(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return oy.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new $m(t.sequenceNumber,new ey(Rw(t.readTime),new Wm($b(t.documentKey)),t.largestBatchId)):$m.empty(),r=e.fields.map((function(e){var t=s(e,2),n=t[0],r=t[1];return new Ym(Gm.fromServerFormat(n),r)}));return new Hm(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Fm(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=m_(e),a=y_(e);return this.wn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return oy.forEach(t,(function(t){return a.put(Uw(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return oy.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?oy.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),oy.forEach(a,(function(r){return n.mn(e,t,r).next((function(t){var a=n.gn(i,r);return t.isEqual(a)?oy.resolve():n.yn(e,i,r,t,a)}))}))}))}))}},{key:"pn",value:function(e,t,n,r){return v_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.ln(n,t.key),documentKey:t.key.path.toArray()})}},{key:"In",value:function(e,t,n,r){return v_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.ln(n,t.key),t.key.path.toArray()])}},{key:"mn",value:function(e,t,n){var r=v_(e),i=new Ng(Jw);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.ln(n,t)])},(function(e,r){i=i.add(new $w(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"gn",value:function(e,t){var n=new Ng(Jw),r=this.hn(t,e);if(null==r)return n;var i=Qm(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Hy(a)){var o,u=On(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new $w(t.indexId,e.key,this.un(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new $w(t.indexId,e.key,h_,r));return n}},{key:"yn",value:function(e,t,n,r,i){var a=this;ym("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Og(a),s=Og(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Og(o)):l?(i(u),u=Og(a)):(u=Og(a),s=Og(o))}}(r,i,Jw,(function(r){o.push(a.pn(e,t,n,r))}),(function(r){o.push(a.In(e,t,n,r))})),oy.waitFor(o)}},{key:"wn",value:function(e){var t=1;return y_(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Jw(e,t)})).filter((function(e,t,n){return!t||0!==Jw(e,n[t-1])}));var r=[];r.push(e);var i,a=On(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Jw(o,e),s=Jw(o,t);if(0===u)r[0]=e.Ge();else if(u>0&&s<0)r.push(o),r.push(o.Ge());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Tn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,h_,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,h_,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Tn",value:function(e,t){return Jw(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(g_)}},{key:"getMinOffset",value:function(e,t){var n=this;return oy.mapArray(this.en(t),(function(t){return n.nn(e,t).next((function(e){return e||wm()}))})).next(g_)}}]),e}();function p_(e){return _w(e,"collectionParents")}function v_(e){return _w(e,"indexEntries")}function m_(e){return _w(e,"indexConfiguration")}function y_(e){return _w(e,"indexState")}function g_(e){_m(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;ty(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ey(t.readTime,t.documentKey,n)}var k_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},b_=function(){function e(t,n,r){An(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Rn(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function w_(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.X({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){_m(1===u)})));var c,l=[],f=On(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=ew(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return oy.waitFor(a).next((function(){return l}))}function __(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw wm();t=e.noDocument}return JSON.stringify(t).length}b_.DEFAULT_COLLECTION_PERCENTILE=10,b_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,b_.DEFAULT=new b_(41943040,b_.DEFAULT_COLLECTION_PERCENTILE,b_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),b_.DISABLED=new b_(-1,0,0);var x_=function(){function e(t,n,r,i){An(this,e),this.userId=t,this.Tt=n,this.indexManager=r,this.referenceDelegate=i,this.En={}}return Rn(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return E_(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=I_(e),o=E_(e);return o.add({}).next((function(u){_m("number"==typeof u);var s,c=new xw(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Db(e.oe,t)})),i=n.mutations.map((function(t){return Db(e.oe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.Tt,i.userId,c),f=[],h=new Ng((function(e,t){return Fm(e.canonicalString(),t.canonicalString())})),d=On(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=ew(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,tw))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.En[u]=c.keys()})),oy.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return E_(e).get(t).next((function(e){return e?(_m(e.userId===n.userId),Ow(n.Tt,e)):null}))}},{key:"An",value:function(e,t){var n=this;return this.En[t]?oy.resolve(this.En[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.En[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return E_(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(_m(t.batchId>=r),a=Ow(n.Tt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return E_(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return E_(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Ow(t.Tt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Zb(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return I_(e).X({range:i},(function(r,i,o){var u=s(r,3),c=u[0],l=u[1],f=u[2],h=$b(l);if(c===n.userId&&t.path.isEqual(h))return E_(e).get(f).next((function(e){if(!e)throw wm();_m(e.userId===n.userId),a.push(Ow(n.Tt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ng(Fm),i=[];return t.forEach((function(t){var a=Zb(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=I_(e).X({range:o},(function(e,i,a){var o=s(e,3),u=o[0],c=o[1],l=o[2],f=$b(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),oy.waitFor(i).next((function(){return n.Rn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Zb(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Ng(Fm);return I_(e).X({range:o},(function(e,t,a){var o=s(e,3),c=o[0],l=o[1],f=o[2],h=$b(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.Rn(e,u)}))}},{key:"Rn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(E_(e).get(t).next((function(e){if(null===e)throw wm();_m(e.userId===n.userId),r.push(Ow(n.Tt,e))})))})),oy.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return w_(e.re,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.bn(t.batchId)})),oy.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"bn",value:function(e){delete this.En[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return oy.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return I_(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=$b(e[1]);i.push(a)}else r.done()})).next((function(){_m(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return T_(e,this.userId,t)}},{key:"vn",value:function(e){var t=this;return S_(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ue",value:function(t,n,r,i){return _m(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function T_(e,t,n){var r=Zb(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return I_(e).X({range:a,Z:!0},(function(e,n,r){var a=s(e,3),u=a[0],c=a[1];a[2];u===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function E_(e){return _w(e,"mutations")}function I_(e){return _w(e,"documentMutations")}function S_(e){return _w(e,"mutationQueues")}var C_=function(){function e(t){An(this,e),this.Pn=t}return Rn(e,[{key:"next",value:function(){return this.Pn+=2,this.Pn}}],[{key:"Vn",value:function(){return new e(0)}},{key:"Sn",value:function(){return new e(-1)}}]),e}(),A_=function(){function e(t,n){An(this,e),this.referenceDelegate=t,this.Tt=n}return Rn(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Dn(e).next((function(n){var r=new C_(n.highestTargetId);return n.highestTargetId=r.next(),t.Cn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Dn(e).next((function(e){return Bm.fromTimestamp(new jm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Dn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Dn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Cn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.xn(e,t).next((function(){return n.Dn(e).next((function(r){return r.targetCount+=1,n.Nn(t,r),n.Cn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.xn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return N_(e).delete(t.targetId)})).next((function(){return n.Dn(e)})).next((function(t){return _m(t.targetCount>0),t.targetCount-=1,n.Cn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return N_(e).X((function(o,u){var s=Pw(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return oy.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return N_(e).X((function(e,n){var r=Pw(n);t(r)}))}},{key:"Dn",value:function(e){return R_(e).get("targetGlobalKey").next((function(e){return _m(null!==e),e}))}},{key:"Cn",value:function(e,t){return R_(e).put("targetGlobalKey",t)}},{key:"xn",value:function(e,t){return N_(e).put(Dw(this.Tt,t))}},{key:"Nn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Dn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Vg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return N_(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Pw(n);jg(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=O_(e);return t.forEach((function(t){var o=Qb(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),oy.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=O_(e);return oy.forEach(t,(function(t){var a=Qb(t.path);return oy.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=O_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=O_(e),i=rb();return r.X({range:n,Z:!0},(function(e,t,n){var r=$b(e[1]),a=new Wm(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Qb(t.path),r=IDBKeyRange.bound([n],[Vm(n)],!1,!0),i=0;return O_(e).X({index:"documentTargetsIndex",Z:!0,range:r},(function(e,t,n){var r=s(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ie",value:function(e,t){return N_(e).get(t).next((function(e){return e?Pw(e):null}))}}]),e}();function N_(e){return _w(e,"targets")}function R_(e){return _w(e,"targetGlobal")}function O_(e){return _w(e,"targetDocuments")}function P_(e,t){var n=s(e,2),r=n[0],i=n[1],a=s(t,2),o=a[0],u=a[1],c=Fm(r,o);return 0===c?Fm(i,u):c}var D_=function(){function e(t){An(this,e),this.kn=t,this.buffer=new Ng(P_),this.On=0}return Rn(e,[{key:"Mn",value:function(){return++this.On}},{key:"Fn",value:function(e){var t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();P_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),L_=function(){function e(t,n,r){An(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.$n=null}return Rn(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}},{key:"stop",value:function(){this.$n&&(this.$n.cancel(),this.$n=null)}},{key:"started",get:function(){return null!==this.$n}},{key:"Bn",value:function(e){var t=this;ym("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.$n=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$n=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!fy(e.t0)){e.next=12;break}ym("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,iy(e.t0);case 14:return e.next=16,t.Bn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),M_=function(){function e(t,n){An(this,e),this.Ln=t,this.params=n}return Rn(e,[{key:"calculateTargetCount",value:function(e,t){return this.Ln.qn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return oy.resolve(gy.at);var r=new D_(t);return this.Ln.forEachTarget(e,(function(e){return r.Fn(e.sequenceNumber)})).next((function(){return n.Ln.Un(e,(function(e){return r.Fn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Ln.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Ln.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ym("LruGarbageCollector","Garbage collection skipped; disabled"),oy.resolve(k_)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ym("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),k_):n.Kn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Ln.getCacheSize(e)}},{key:"Kn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(ym("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),mm()<=xr.DEBUG&&ym("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),oy.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),F_=function(){function e(t,n){An(this,e),this.db=t,this.garbageCollector=function(e,t){return new M_(e,t)}(this,n)}return Rn(e,[{key:"qn",value:function(e){var t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Gn",value:function(e){var t=0;return this.Un(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Un",value:function(e,t){return this.Qn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return U_(e,n)}},{key:"removeReference",value:function(e,t,n){return U_(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return U_(e,t)}},{key:"jn",value:function(e,t){return function(e,t){var n=!1;return S_(e).tt((function(r){return T_(e,r,t).next((function(e){return e&&(n=!0),oy.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Qn(e,(function(o,u){if(u<=t){var s=n.jn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Bm.min()),O_(e).delete([0,Qb(o.path)])}))}));i.push(s)}})).next((function(){return oy.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return U_(e,t)}},{key:"Qn",value:function(e,t){var n,r=O_(e),i=gy.at;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=s(e,2),o=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==gy.at&&t(new Wm($b(n)),i),i=c,n=u):i=gy.at})).next((function(){i!==gy.at&&t(new Wm($b(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function U_(e,t){return O_(e).put(function(e,t){return{targetId:0,path:Qb(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var V_=function(){function e(){An(this,e),this.changes=new Wk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Rn(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Mg.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?oy.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),j_=function(){function e(t){An(this,e),this.Tt=t}return Rn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return K_(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return K_(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Aw(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Mg.newInvalidDocument(t);return K_(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(G_(t))},(function(e,i){r=n.Wn(t,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r={size:0,document:Mg.newInvalidDocument(t)};return K_(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(G_(t))},(function(e,i){r={document:n.Wn(t,i),size:__(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Qk();return this.Jn(e,t,(function(e,t){var i=n.Wn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Yn",value:function(e,t){var n=this,r=Qk(),i=new Sg(Wm.comparator);return this.Jn(e,t,(function(e,t){var a=n.Wn(e,t);r=r.insert(e,a),i=i.insert(e,__(t))})).next((function(){return{documents:r,Zn:i}}))}},{key:"Jn",value:function(e,t,n){if(t.isEmpty())return oy.resolve();var r=new Ng(H_);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(G_(r.first()),G_(r.last())),a=r.getIterator(),o=a.getNext();return K_(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Wm.fromSegments([].concat(gr(t.prefixPath),[t.collectionGroup,t.documentId]));o&&H_(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(G_(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),Aw(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return K_(e).W(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=Qk(),o=On(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.Wn(Wm.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(ak(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Qk(),o=W_(t,n),u=W_(t,ey.max());return K_(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Wn(Wm.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new z_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return q_(e).get("remoteDocumentGlobalKey").next((function(e){return _m(!!e),e}))}},{key:"zn",value:function(e,t){return q_(e).put("remoteDocumentGlobalKey",t)}},{key:"Wn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Ob(e.oe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Wm.fromSegments(t.noDocument.path),i=Rw(t.noDocument.readTime);n=Mg.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return wm();var a=Wm.fromSegments(t.unknownDocument.path),o=Rw(t.unknownDocument.version);n=Mg.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new jm(e[0],e[1]);return Bm.fromTimestamp(t)}(t.readTime)),n}(this.Tt,t);if(!n.isNoDocument()||!n.version.isEqual(Bm.min()))return n}return Mg.newInvalidDocument(e)}}]),e}();function B_(e){return new j_(e)}var z_=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i;return An(this,n),(i=t.call(this)).Xn=e,i.trackRemovals=r,i.ts=new Wk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Rn(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Ng((function(e,t){return Fm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.ts.get(a);if(n.push(t.Xn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Cw(t.Xn.Tt,o);i=i.add(a.path.popLast());var c=__(s);r+=c-u.size,n.push(t.Xn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Cw(t.Xn.Tt,o.convertToNoDocument(Bm.min()));n.push(t.Xn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Xn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Xn.updateMetadata(e,r)),oy.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Xn.Hn(e,t).next((function(e){return n.ts.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Xn.Yn(e,t).next((function(e){var t=e.documents;return e.Zn.forEach((function(e,r){n.ts.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(V_);function q_(e){return _w(e,"remoteDocumentGlobal")}function K_(e){return _w(e,"remoteDocumentsV14")}function G_(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function W_(e,t){var n=t.documentKey.path.toArray();return[e,Aw(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function H_(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Fm(n[a],r[a]))return i;return(i=Fm(n.length,r.length))||((i=Fm(n[n.length-2],r[r.length-2]))||Fm(n[n.length-1],r[r.length-1]))}var Q_=Rn((function e(t,n){An(this,e),this.overlayedDocument=t,this.mutatedFields=n})),X_=function(){function e(t,n,r,i){An(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Rn(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Rk(r.mutation,e,Pg.empty(),jm.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,rb()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rb(),i=Jk();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Yk();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Jk();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,rb())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Qk(),a=eb(),o=eb();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Lk)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Rk(o.mutation,t,o.mutation.getFieldMask(),jm.now())):a.set(t.key,Pg.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Q_(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=eb(),i=new Sg((function(e,t){return e-t})),a=rb();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=On(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Pg.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||rb()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Zk();c.forEach((function(e){if(!a.has(e)){var n=Ak(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return oy.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Wm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$g(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):oy.resolve(Jk()),u=-1,s=a;return o.next((function(t){return oy.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?oy.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,rb())})).next((function(e){return{batchId:u,changes:$k(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Wm(t)).next((function(e){var t=Yk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Yk();return this.indexManager.getCollectionParents(e,i).next((function(o){return oy.forEach(o,(function(o){var u=function(e,t){return new Gg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Mg.newInvalidDocument(r)))}));var n=Yk();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Rk(a.mutation,i,Pg.empty(),jm.now()),ak(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Y_=function(){function e(t){An(this,e),this.Tt=t,this.es=new Map,this.ns=new Map}return Rn(e,[{key:"getBundleMetadata",value:function(e,t){return oy.resolve(this.es.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.es.set(t.id,{id:(n=t).id,version:n.version,createTime:_b(n.createTime)}),oy.resolve()}},{key:"getNamedQuery",value:function(e,t){return oy.resolve(this.ns.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ns.set(t.name,function(e){return{name:e.name,query:Lw(e.bundledQuery),readTime:_b(e.readTime)}}(t)),oy.resolve()}}]),e}(),$_=function(){function e(){An(this,e),this.overlays=new Sg(Wm.comparator),this.ss=new Map}return Rn(e,[{key:"getOverlay",value:function(e,t){return oy.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Jk();return oy.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ce(e,t,i)})),oy.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ss.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ss.delete(n)),oy.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Jk(),i=t.length+1,a=new Wm(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return oy.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Sg((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Jk(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Jk(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return oy.resolve(s)}},{key:"ce",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ss.get(r.largestBatchId).delete(n.key);this.ss.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Ew(t,n));var a=this.ss.get(t);void 0===a&&(a=rb(),this.ss.set(t,a)),this.ss.set(t,a.add(n.key))}}]),e}(),J_=function(){function e(){An(this,e),this.rs=new Ng(Z_.os),this.us=new Ng(Z_.cs)}return Rn(e,[{key:"isEmpty",value:function(){return this.rs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Z_(e,t);this.rs=this.rs.add(n),this.us=this.us.add(n)}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ls(new Z_(e,t))}},{key:"fs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ds",value:function(e){var t=this,n=new Wm(new qm([])),r=new Z_(n,e),i=new Z_(n,e+1),a=[];return this.us.forEachInRange([r,i],(function(e){t.ls(e),a.push(e.key)})),a}},{key:"_s",value:function(){var e=this;this.rs.forEach((function(t){return e.ls(t)}))}},{key:"ls",value:function(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}},{key:"ws",value:function(e){var t=new Wm(new qm([])),n=new Z_(t,e),r=new Z_(t,e+1),i=rb();return this.us.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Z_(e,0),n=this.rs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Z_=function(){function e(t,n){An(this,e),this.key=t,this.gs=n}return Rn(e,null,[{key:"os",value:function(e,t){return Wm.comparator(e.key,t.key)||Fm(e.gs,t.gs)}},{key:"cs",value:function(e,t){return Fm(e.gs,t.gs)||Wm.comparator(e.key,t.key)}}]),e}(),ex=function(){function e(t,n){An(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new Ng(Z_.os)}return Rn(e,[{key:"checkEmpty",value:function(e){return oy.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new xw(i,t,n,r);this.mutationQueue.push(a);var o,u=On(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ps=this.ps.add(new Z_(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return oy.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return oy.resolve(this.Is(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ts(n),i=r<0?0:r;return oy.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return oy.resolve(0===this.mutationQueue.length?-1:this.ys-1)}},{key:"getAllMutationBatches",value:function(e){return oy.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Z_(t,0),i=new Z_(t,Number.POSITIVE_INFINITY),a=[];return this.ps.forEachInRange([r,i],(function(e){var t=n.Is(e.gs);a.push(t)})),oy.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ng(Fm);return t.forEach((function(e){var t=new Z_(e,0),i=new Z_(e,Number.POSITIVE_INFINITY);n.ps.forEachInRange([t,i],(function(e){r=r.add(e.gs)}))})),oy.resolve(this.Es(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Wm.isDocumentKey(i)||(i=i.child(""));var a=new Z_(new Wm(i),0),o=new Ng(Fm);return this.ps.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gs)),!0)}),a),oy.resolve(this.Es(o))}},{key:"Es",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Is(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;_m(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ps;return oy.forEach(t.mutations,(function(i){var a=new Z_(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ps=r}))}},{key:"bn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Z_(t,0),r=this.ps.firstAfterOrEqual(n);return oy.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,oy.resolve()}},{key:"As",value:function(e,t){return this.Ts(e)}},{key:"Ts",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Is",value:function(e){var t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),tx=function(){function e(t){An(this,e),this.Rs=t,this.docs=new Sg(Wm.comparator),this.size=0}return Rn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Rs(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return oy.resolve(n?n.document.mutableCopy():Mg.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Qk();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Mg.newInvalidDocument(e))})),oy.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Qk(),a=t.path,o=new Wm(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||ty(Zm(l),n)<=0||(r.has(l.key)||ak(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return oy.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){wm()}},{key:"bs",value:function(e,t){return oy.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new nx(this)}},{key:"getSize",value:function(e){return oy.resolve(this.size)}}]),e}(),nx=function(e){Dn(n,e);var t=Fn(n);function n(e){var r;return An(this,n),(r=t.call(this)).Xn=e,r}return Rn(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Xn.addEntry(e,i)):t.Xn.removeEntry(r)})),oy.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Xn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Xn.getEntries(e,t)}}]),n}(V_),rx=function(){function e(t){An(this,e),this.persistence=t,this.vs=new Wk((function(e){return Vg(e)}),jg),this.lastRemoteSnapshotVersion=Bm.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new J_,this.targetCount=0,this.Ss=C_.Vn()}return Rn(e,[{key:"forEachTarget",value:function(e,t){return this.vs.forEach((function(e,n){return t(n)})),oy.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return oy.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return oy.resolve(this.Ps)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ss.next(),oy.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ps&&(this.Ps=t),oy.resolve()}},{key:"xn",value:function(e){this.vs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ss=new C_(t),this.highestTargetId=t),e.sequenceNumber>this.Ps&&(this.Ps=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.xn(t),this.targetCount+=1,oy.resolve()}},{key:"updateTargetData",value:function(e,t){return this.xn(t),oy.resolve()}},{key:"removeTargetData",value:function(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,oy.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.vs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.vs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),oy.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return oy.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.vs.get(t)||null;return oy.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Vs.hs(t,n),oy.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Vs.fs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),oy.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Vs.ds(t),oy.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Vs.ws(t);return oy.resolve(n)}},{key:"containsKey",value:function(e,t){return oy.resolve(this.Vs.containsKey(t))}}]),e}(),ix=function(){function e(t,n){var r=this;An(this,e),this.Ds={},this.overlays={},this.Cs=new gy(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new rx(this),this.indexManager=new l_,this.remoteDocumentCache=new tx((function(e){return r.referenceDelegate.ks(e)})),this.Tt=new Sw(n),this.Os=new Y_(this.Tt)}return Rn(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xs=!1,Promise.resolve()}},{key:"started",get:function(){return this.xs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new $_,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ds[e.toKey()];return n||(n=new ex(t,this.referenceDelegate),this.Ds[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Os}},{key:"runTransaction",value:function(e,t,n){var r=this;ym("MemoryPersistence","Starting transaction:",e);var i=new ax(this.Cs.next());return this.referenceDelegate.Ms(),n(i).next((function(e){return r.referenceDelegate.Fs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e,t){return oy.or(Object.values(this.Ds).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),ax=function(e){Dn(n,e);var t=Fn(n);function n(e){var r;return An(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Rn(n)}(ry),ox=function(){function e(t){An(this,e),this.persistence=t,this.Bs=new J_,this.Ls=null}return Rn(e,[{key:"Us",get:function(){if(this.Ls)return this.Ls;throw wm()}},{key:"addReference",value:function(e,t,n){return this.Bs.addReference(n,t),this.Us.delete(n.toString()),oy.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Bs.removeReference(n,t),this.Us.add(n.toString()),oy.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Us.add(t.toString()),oy.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Bs.ds(t.targetId).forEach((function(e){return n.Us.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Us.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ms",value:function(){this.Ls=new Set}},{key:"Fs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oy.forEach(this.Us,(function(r){var i=Wm.fromPath(r);return t.Ks(e,i).next((function(e){e||n.removeEntry(i,Bm.min())}))})).next((function(){return t.Ls=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ks(e,t).next((function(e){e?n.Us.delete(t.toString()):n.Us.add(t.toString())}))}},{key:"ks",value:function(e){return 0}},{key:"Ks",value:function(e,t){var n=this;return oy.or([function(){return oy.resolve(n.Bs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.$s(e,t)}])}}],[{key:"qs",value:function(t){return new e(t)}}]),e}(),ux=function(){function e(t){An(this,e),this.Tt=t}return Rn(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new uy("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jb,{unique:!0}),e.createObjectStore("documentMutations")}(e),sx(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=oy.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),sx(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bm.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jb,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return oy.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Gs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.js(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ws(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:dw});t.createIndex("collectionPathOverlayIndex",pw,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",vw,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:nw});t.createIndex("documentKeyIndex",rw),t.createIndex("collectionGroupIndex",iw)}(e)})).next((function(){return i.Hs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Js(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:cw}).createIndex("sequenceNumberIndex",lw,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:fw}).createIndex("documentKeyIndex",hw,{unique:!1})}(e)}))),o}},{key:"Qs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=__(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Gs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return oy.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return oy.forEach(r,(function(r){_m(r.userId===n.userId);var i=Ow(t.Tt,r);return w_(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"js",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new qm(n),o=function(e){return[0,Qb(e)]}(a);r.push(t.get(o).next((function(n){return n?oy.resolve():function(n){return t.put({targetId:0,path:Qb(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return oy.waitFor(r)}))}))}},{key:"zs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:sw});var n=t.store("collectionParents"),r=new f_,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Qb(i)})}};return t.store("remoteDocuments").X({Z:!0},(function(e,t){var n=new qm(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Z:!0},(function(e,t){var n=s(e,3),r=(n[0],n[1]),a=(n[2],$b(r));return i(a.popLast())}))}))}},{key:"Ws",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=Pw(r),a=Dw(t.Tt,i);return n.put(a)}))}},{key:"Hs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Wm(qm.fromString(i.document.name).popFirst(5)):i.noDocument?Wm.fromSegments(i.noDocument.path):i.unknownDocument?Wm.fromSegments(i.unknownDocument.path):wm()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return oy.waitFor(r)}))}},{key:"Js",value:function(e,t){var n=this,r=t.store("mutations"),i=B_(this.Tt),a=new ix(ox.qs,this.Tt.oe);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:rb();Ow(n.Tt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),oy.forEach(r,(function(e,r){var o=new dm(r),u=zw.ue(n.Tt,o),s=a.getIndexManager(o),c=x_.ue(o,n.Tt,s,a.referenceDelegate);return new X_(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new ww(t,gy.at),e).next()}))}))}}]),e}();function sx(e){e.createObjectStore("targetDocuments",{keyPath:ow}).createIndex("documentTargetsIndex",uw,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",aw,{unique:!0}),e.createObjectStore("targetGlobal")}var cx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",lx=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(An(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ys=a,this.window=o,this.document=u,this.Zs=c,this.Xs=l,this.ti=f,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=function(e){return Promise.resolve()},!e.C())throw new Em(Tm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new F_(this,i),this.oi=n+"main",this.Tt=new Sw(s),this.ui=new sy(this.oi,this.ti,new ux(this.Tt)),this.Ns=new A_(this.referenceDelegate,this.Tt),this.remoteDocumentCache=B_(this.Tt),this.Os=new Vw,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===l&&gm("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Rn(e,[{key:"start",value:function(){var e=this;return this.ai().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Em(Tm.FAILED_PRECONDITION,cx);return e.hi(),e.li(),e.fi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ns.getHighestSequenceNumber(t)}))})).then((function(t){e.Cs=new gy(t,e.Zs)})).then((function(){e.xs=!0})).catch((function(t){return e.ui&&e.ui.close(),Promise.reject(t)}))}},{key:"di",value:function(e){var t=this;return this.ri=function(){var n=Ae(Se().mark((function n(r){return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ui.L(function(){var t=Ae(Se().mark((function t(n){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget(Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ai();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ai",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return hx(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e._i(t).next((function(t){t||(e.isPrimary=!1,e.Ys.enqueueRetryable((function(){return e.ri(!1)})))}))})).next((function(){return e.wi(t)})).next((function(n){return e.isPrimary&&!n?e.mi(t).next((function(){return!1})):!!n&&e.gi(t).next((function(){return!0}))}))})).catch((function(t){if(fy(t))return ym("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ym("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Ys.enqueueRetryable((function(){return e.ri(t)})),e.isPrimary=t}))}},{key:"_i",value:function(e){var t=this;return fx(e).get("owner").next((function(e){return oy.resolve(t.yi(e))}))}},{key:"pi",value:function(e){return hx(e).delete(this.clientId)}},{key:"Ii",value:function(){var e=Ae(Se().mark((function e(){var t,n,r,i,a=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ti(this.ii,18e5)){e.next=6;break}return this.ii=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=_w(e,"clientMetadata");return t.W().next((function(e){var n=a.Ei(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return oy.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ci){n=On(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ci.removeItem(this.Ai(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fi",value:function(){var e=this;this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ai().then((function(){return e.Ii()})).then((function(){return e.fi()}))}))}},{key:"yi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"wi",value:function(e){var t=this;return this.Xs?oy.resolve(!0):fx(e).get("owner").next((function(n){if(null!==n&&t.Ti(n.leaseTimestampMs,5e3)&&!t.Ri(n.ownerId)){if(t.yi(n)&&t.networkEnabled)return!0;if(!t.yi(n)){if(!n.allowTabSynchronization)throw new Em(Tm.FAILED_PRECONDITION,cx);return!1}}return!(!t.networkEnabled||!t.inForeground)||hx(e).W().next((function(e){return void 0===t.Ei(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ym("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ae(Se().mark((function e(){var t=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xs=!1,this.bi(),this.si&&(this.si.cancel(),this.si=null),this.vi(),this.Pi(),e.next=7,this.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new ww(e,gy.at);return t.mi(n).next((function(){return t.pi(n)}))}));case 7:this.ui.close(),this.Vi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ei",value:function(e,t){var n=this;return e.filter((function(e){return n.Ti(e.updateTimeMs,t)&&!n.Ri(e.clientId)}))}},{key:"Si",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return hx(t).W().next((function(t){return e.Ei(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xs}},{key:"getMutationQueue",value:function(e,t){return x_.ue(e,this.Tt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new d_(e,this.Tt.oe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return zw.ue(this.Tt,e)}},{key:"getBundleCache",value:function(){return this.Os}},{key:"runTransaction",value:function(e,t,n){var r=this;ym("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.ti)?bw:14===i?kw:13===i?gw:12===i?yw:11===i?mw:void wm();return this.ui.runTransaction(e,o,u,(function(i){return a=new ww(i,r.Cs?r.Cs.next():gy.at),"readwrite-primary"===t?r._i(a).next((function(e){return!!e||r.wi(a)})).next((function(t){if(!t)throw gm("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Ys.enqueueRetryable((function(){return r.ri(!1)})),new Em(Tm.FAILED_PRECONDITION,ny);return n(a)})).next((function(e){return r.gi(a).next((function(){return e}))})):r.Di(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Di",value:function(e){var t=this;return fx(e).get("owner").next((function(e){if(null!==e&&t.Ti(e.leaseTimestampMs,5e3)&&!t.Ri(e.ownerId)&&!t.yi(e)&&!(t.Xs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Em(Tm.FAILED_PRECONDITION,cx)}))}},{key:"gi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fx(e).put("owner",t)}},{key:"mi",value:function(e){var t=this,n=fx(e);return n.get("owner").next((function(e){return t.yi(e)?(ym("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):oy.resolve()}))}},{key:"Ti",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(gm("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"hi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=function(){e.Ys.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ai()}))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}},{key:"vi",value:function(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}},{key:"li",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=function(){t.bi(),!Zn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Ys.enterRestrictedMode(!0),t.Ys.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ei))}},{key:"Pi",value:function(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}},{key:"Ri",value:function(e){var t;try{var n=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return ym("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return gm("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"bi",value:function(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(_h){gm("Failed to set zombie client id.",_h)}}},{key:"Vi",value:function(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch(_h){}}},{key:"Ai",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return sy.C()}}]),e}();function fx(e){return _w(e,"owner")}function hx(e){return _w(e,"clientMetadata")}function dx(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var px=function(){function e(t,n,r,i){An(this,e),this.targetId=t,this.fromCache=n,this.Ci=r,this.xi=i}return Rn(e,null,[{key:"Ni",value:function(t,n){var r,i=rb(),a=rb(),o=On(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),vx=function(){function e(){An(this,e),this.ki=!1}return Rn(e,[{key:"initialize",value:function(e,t){this.Oi=e,this.indexManager=t,this.ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Mi(e,t).next((function(a){return a||i.Fi(e,t,r,n)})).next((function(n){return n||i.$i(e,t)}))}},{key:"Mi",value:function(e,t){var n=this;if(Qg(t))return oy.resolve(null);var r=Zg(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=tk(t,null,"F"),r=Zg(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=rb.apply(void 0,gr(i));return n.Oi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Bi(t,i);return n.Li(t,o,a,r.readTime)?n.Mi(e,tk(t,null,"F")):n.qi(e,o,t,r)}))}))})))}))}},{key:"Fi",value:function(e,t,n,r){var i=this;return Qg(t)||r.isEqual(Bm.min())?this.$i(e,t):this.Oi.getDocuments(e,n).next((function(a){var o=i.Bi(t,a);return i.Li(t,o,n,r)?i.$i(e,t):(mm()<=xr.DEBUG&&ym("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ik(t)),i.qi(e,o,t,Jm(r,-1)))}))}},{key:"Bi",value:function(e,t){var n=new Ng(uk(e));return t.forEach((function(t,r){ak(e,r)&&(n=n.add(r))})),n}},{key:"Li",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"$i",value:function(e,t){return mm()<=xr.DEBUG&&ym("QueryEngine","Using full collection scan to execute query:",ik(t)),this.Oi.getDocumentsMatchingQuery(e,t,ey.min())}},{key:"qi",value:function(e,t,n,r){return this.Oi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),mx=function(){function e(t,n,r,i){An(this,e),this.persistence=t,this.Ui=n,this.Tt=i,this.Ki=new Sg(Fm),this.Gi=new Wk((function(e){return Vg(e)}),jg),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.Os=t.getBundleCache(),this.zi(r)}return Rn(e,[{key:"zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new X_(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ki)}))}}]),e}();function yx(e,t,n,r){return new mx(e,t,n,r)}function gx(e,t){return kx.apply(this,arguments)}function kx(){return kx=Ae(Se().mark((function e(t,n){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xm(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=rb(),s=On(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=On(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=On(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=On(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Wi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),kx.apply(this,arguments)}function bx(e,t){var n=xm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ji.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=oy.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);_m(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=rb(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function wx(e){var t=xm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ns.getLastRemoteSnapshotVersion(e)}))}function _x(e,t){var n=xm(e),r=t.snapshotVersion,i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Ns.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Ns.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Cy.EMPTY_BYTE_STRING,Bm.min()).withLastLimboFreeSnapshotVersion(Bm.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Ns.updateTargetData(e,c))}}));var u=Qk(),s=rb();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(xx(e,a,t.documentUpdates).next((function(e){u=e.Hi,s=e.Ji}))),!r.isEqual(Bm.min())){var c=n.Ns.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ns.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return oy.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ki=i,e}))}function xx(e,t,n){var r=rb(),i=rb();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Qk();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Bm.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):ym("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Hi:r,Ji:i}}))}function Tx(e,t){var n=xm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Ex(e,t){var n=xm(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ns.getTargetData(e,t).next((function(i){return i?(r=i,oy.resolve(r)):n.Ns.allocateTargetId(e).next((function(i){return r=new Iw(t,i,0,e.currentSequenceNumber),n.Ns.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ki.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(e.targetId,e),n.Gi.set(t,e.targetId)),e}))}function Ix(e,t,n){return Sx.apply(this,arguments)}function Sx(){return Sx=Ae(Se().mark((function e(t,n,r){var i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=xm(t),a=i.Ki.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),fy(e.t1)){e.next=12;break}throw e.t1;case 12:ym("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ki=i.Ki.remove(n),i.Gi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Sx.apply(this,arguments)}function Cx(e,t,n){var r=xm(e),i=Bm.min(),a=rb();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=xm(e),i=r.Gi.get(n);return void 0!==i?oy.resolve(r.Ki.get(i)):r.Ns.getTargetData(t,n)}(r,e,Zg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Ui.getDocumentsMatchingQuery(e,t,n?i:Bm.min(),n?a:rb())})).next((function(e){return Rx(r,ok(t),e),{documents:e,Yi:a}}))}))}function Ax(e,t){var n=xm(e),r=xm(n.Ns),i=n.Ki.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ie(e,t).next((function(e){return e?e.target:null}))}))}function Nx(e,t){var n=xm(e),r=n.Qi.get(t)||Bm.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ji.getAllFromCollectionGroup(e,t,Jm(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Rx(n,t,e),e}))}function Rx(e,t,n){var r=e.Qi.get(t)||Bm.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Qi.set(t,r)}function Ox(e,t,n,r){return Px.apply(this,arguments)}function Px(){return Px=Ae(Se().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=xm(t),o=rb(),u=Qk(),s=On(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Zi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Xi(l)).setReadTime(n.tr(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.ji.newChangeBuffer({trackRemovals:!0}),e.next=7,Ex(a,function(e){return Zg(Hg(qm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return xx(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Ns.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Ns.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Hi,t.Ji)})).next((function(){return t.Hi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Px.apply(this,arguments)}function Dx(e,t){return Lx.apply(this,arguments)}function Lx(){return Lx=Ae(Se().mark((function e(t,n){var r,i,a,o=arguments;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:rb(),e.next=3,Ex(t,Zg(Lw(n.bundledQuery)));case 3:return i=e.sent,a=xm(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=_b(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Os.saveNamedQuery(e,n);var o=i.withResumeToken(Cy.EMPTY_BYTE_STRING,t);return a.Ki=a.Ki.insert(o.targetId,o),a.Ns.updateTargetData(e,o).next((function(){return a.Ns.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Ns.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Os.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Lx.apply(this,arguments)}function Mx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Fx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Ux(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Vx=function(){function e(t,n,r,i){An(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Rn(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Em(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(gm("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),jx=function(){function e(t,n,r){An(this,e),this.targetId=t,this.state=n,this.error=r}return Rn(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Em(i.error.code,i.error.message))),a?new e(t,i.state,r):(gm("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Bx=function(){function e(t,n){An(this,e),this.clientId=t,this.activeTargetIds=n}return Rn(e,null,[{key:"er",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=ab(),o=0;i&&o<r.activeTargetIds.length;++o)i=Iy(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(gm("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),zx=function(){function e(t,n){An(this,e),this.clientId=t,this.onlineState=n}return Rn(e,null,[{key:"er",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(gm("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),qx=function(){function e(){An(this,e),this.activeTargetIds=ab()}return Rn(e,[{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"ir",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"nr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Kx=function(){function e(t,n,r,i,a){An(this,e),this.window=t,this.Ys=n,this.persistenceKey=r,this.rr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new Sg(Fm),this.started=!1,this.hr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.lr=Mx(this.persistenceKey,this.rr),this.dr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.rr,new qx),this._r=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.wr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.mr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.gr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.yr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}return Rn(e,[{key:"start",value:function(){var e=Ae(Se().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Si();case 2:t=e.sent,n=On(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.rr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Mx(this.persistenceKey,i)))&&(o=Bx.er(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.pr(),(u=this.storage.getItem(this.gr))&&(s=this.Ir(u))&&this.Tr(s),c=On(this.hr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.cr(f)}catch(d){c.e(d)}finally{c.f()}this.hr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.dr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Er(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ar(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ar(e,t,n),this.Rr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Ux(this.persistenceKey,e));if(n){var r=jx.er(e,n);r&&(t=r.state)}}return this.br.sr(e),this.pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.br.ir(e),this.pr()}},{key:"isLocalQueryTarget",value:function(e){return this.br.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Ux(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.vr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Rr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return ym("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){ym("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){ym("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"cr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(ym("SharedClientState","EVENT",n.key,n.newValue),n.key===this.lr)return void gm("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable(Ae(Se().mark((function e(){var r,i,a,o,u,s,c;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t._r.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Sr(n.key),e.abrupt("return",t.Dr(r,null));case 6:if(!(i=t.Cr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Dr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.wr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Nr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.kr(a));case 16:e.next=41;break;case 18:if(!t.mr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Or(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.gr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Ir(n.newValue))){e.next=30;break}return e.abrupt("return",t.Tr(u));case 30:e.next=41;break;case 32:if(n.key!==t.dr){e.next=37;break}s=function(e){var t=gy.at;if(null!=e)try{var n=JSON.parse(e);_m("number"==typeof n),t=n}catch(e){gm("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==gy.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.yr){e.next=41;break}return c=t.Fr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.$r(e)})));case 41:e.next=44;break;case 43:t.hr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"br",get:function(){return this.ar.get(this.rr)}},{key:"pr",value:function(){this.setItem(this.lr,this.br.nr())}},{key:"Ar",value:function(e,t,n){var r=new Vx(this.currentUser,e,t,n),i=Fx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.nr())}},{key:"Rr",value:function(e){var t=Fx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.rr,onlineState:e};this.storage.setItem(this.gr,JSON.stringify(t))}},{key:"vr",value:function(e,t,n){var r=Ux(this.persistenceKey,e),i=new jx(e,t,n);this.setItem(r,i.nr())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}},{key:"Sr",value:function(e){var t=this._r.exec(e);return t?t[1]:null}},{key:"Cr",value:function(e,t){var n=this.Sr(e);return Bx.er(n,t)}},{key:"Nr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Vx.er(new dm(i),r,t)}},{key:"Or",value:function(e,t){var n=this.mr.exec(e),r=Number(n[1]);return jx.er(r,t)}},{key:"Ir",value:function(e){return zx.er(e)}},{key:"Fr",value:function(e){return JSON.parse(e)}},{key:"kr",value:function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Br(t.batchId,t.state,t.error));case 2:ym("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}},{key:"Dr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Er(this.ar),a=this.Er(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.qr(o,u).then((function(){n.ar=r}))}},{key:"Tr",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Er",value:function(e){var t=ab();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Gx=function(){function e(){An(this,e),this.Ur=new qx,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Rn(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Kr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.ir(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Kr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new qx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Wx=function(){function e(){An(this,e)}return Rn(e,[{key:"Gr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Hx=function(){function e(){var t=this;An(this,e),this.Qr=function(){return t.jr()},this.zr=function(){return t.Wr()},this.Hr=[],this.Jr()}return Rn(e,[{key:"Gr",value:function(e){this.Hr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}},{key:"Jr",value:function(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}},{key:"jr",value:function(){ym("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=On(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){ym("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=On(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Qx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Xx=function(){function e(t){An(this,e),this.Yr=t.Yr,this.Zr=t.Zr}return Rn(e,[{key:"Xr",value:function(e){this.eo=e}},{key:"no",value:function(e){this.so=e}},{key:"onMessage",value:function(e){this.io=e}},{key:"close",value:function(){this.Zr()}},{key:"send",value:function(e){this.Yr(e)}},{key:"ro",value:function(){this.eo()}},{key:"oo",value:function(e){this.so(e)}},{key:"uo",value:function(e){this.io(e)}}]),e}(),Yx=function(e){Dn(n,e);var t=Fn(n);function n(e){var r;return An(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Rn(n,[{key:"wo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new fm;o.setWithCredentials(!0),o.listenOnce(om.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case am.NO_ERROR:var t=o.getResponseJson();ym("Connection","XHR received:",JSON.stringify(t)),i(t);break;case am.TIMEOUT:ym("Connection",'RPC "'+e+'" timed out'),a(new Em(Tm.DEADLINE_EXCEEDED,"Request time out"));break;case am.HTTP_ERROR:var n=o.getStatus();if(ym("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Tm).indexOf(t)>=0?t:Tm.UNKNOWN}(u.status);a(new Em(s,u.message))}else a(new Em(Tm.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Em(Tm.UNAVAILABLE,"Connection failed."));break;default:wm()}}finally{ym("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"yo",value:function(e,t,n){var r=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=rm(),a=im(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new cm({})),this._o(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");ym("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Xx({Yr:function(e){l?ym("Connection","Not sending because WebChannel is closed:",e):(c||(ym("Connection","Opening WebChannel transport."),s.open(),c=!0),ym("Connection","WebChannel sending:",e),s.send(e))},Zr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,lm.EventType.OPEN,(function(){l||ym("Connection","WebChannel transport opened.")})),h(s,lm.EventType.CLOSE,(function(){l||(l=!0,ym("Connection","WebChannel transport closed"),f.oo())})),h(s,lm.EventType.ERROR,(function(e){l||(l=!0,km("Connection","WebChannel transport errored:",e),f.oo(new Em(Tm.UNAVAILABLE,"The operation could not be completed")))})),h(s,lm.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];_m(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ym("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Vk[e];if(void 0!==t)return Gk(t)}(a),u=i.message;void 0===o&&(o=Tm.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.oo(new Em(o,u)),s.close()}else ym("Connection","WebChannel received:",n),f.uo(n)}})),h(a,um.STAT_EVENT,(function(e){e.stat===sm.PROXY?ym("Connection","Detected buffering proxy"):e.stat===sm.NOPROXY&&ym("Connection","Detected no buffering proxy")})),setTimeout((function(){f.ro()}),0),f}}]),n}(function(){function e(t){An(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.co=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Rn(e,[{key:"ho",get:function(){return!1}},{key:"lo",value:function(e,t,n,r,i){var a=this.fo(e,t);ym("RestConnection","Sending: ",a,n);var o={};return this._o(o,r,i),this.wo(e,a,o,n).then((function(e){return ym("RestConnection","Received: ",e),e}),(function(t){throw km("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"mo",value:function(e,t,n,r,i,a){return this.lo(e,t,n,r,i)}},{key:"_o",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+pm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"fo",value:function(e,t){var n=Qx[e];return"".concat(this.co,"/v1/").concat(t,":").concat(n)}}]),e}());function $x(){return"undefined"!=typeof window?window:null}function Jx(){return"undefined"!=typeof document?document:null}function Zx(e){return new gb(e,!0)}var eT=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;An(this,e),this.Ys=t,this.timerId=n,this.po=r,this.Io=i,this.To=a,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}return Rn(e,[{key:"reset",value:function(){this.Eo=0}},{key:"bo",value:function(){this.Eo=this.To}},{key:"vo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Eo+this.Po()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&ym("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Eo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,(function(){return t.Ro=Date.now(),e()})),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}},{key:"Vo",value:function(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}},{key:"cancel",value:function(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}},{key:"Po",value:function(){return(Math.random()-.5)*this.Eo}}]),e}(),tT=function(){function e(t,n,r,i,a,o,u,s){An(this,e),this.Ys=t,this.So=r,this.Do=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new eT(t,n)}return Rn(e,[{key:"Oo",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Fo()}},{key:"stop",value:function(){var e=Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.state=0,this.ko.reset()}},{key:"Bo",value:function(){var e=this;this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,(function(){return e.Lo()})))}},{key:"qo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Lo",value:function(){var e=Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"Ko",value:function(){this.No&&(this.No.cancel(),this.No=null)}},{key:"close",value:function(){var e=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,4!==t?this.ko.reset():n&&n.code===Tm.RESOURCE_EXHAUSTED?(gm(n.toString()),gm("Using maximum backoff delay to prevent overloading the backend."),this.ko.bo()):n&&n.code===Tm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Go(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.no(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Go",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=s(t,2),i=r[0],a=r[1];e.Co===n&&e.jo(i,a)}),(function(n){t((function(){var t=new Em(Tm.UNKNOWN,"Fetching auth token failed: "+n.message);return e.zo(t)}))}))}},{key:"jo",value:function(e,t){var n=this,r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.No=n.Ys.enqueueAfterDelay(n.Do,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.no((function(e){r((function(){return n.zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Fo",value:function(){var e=this;this.state=5,this.ko.vo(Ae(Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"zo",value:function(e){return ym("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Qo",value:function(e){var t=this;return function(n){t.Ys.enqueueAndForget((function(){return t.Co===e?n():(ym("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),nT=function(e){Dn(n,e);var t=Fn(n);function n(e,r,i,a,o,u){var s;return An(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).Tt=o,s}return Rn(n,[{key:"Wo",value:function(e,t){return this.connection.yo("Listen",e,t)}},{key:"onMessage",value:function(e){this.ko.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:wm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.yt?(_m(void 0===t||"string"==typeof t),Cy.fromBase64String(t||"")):(_m(void 0===t||t instanceof Uint8Array),Cy.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Tm.UNKNOWN:Gk(e.code);return new Em(t,e.message||"")}(o);n=new lb(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Ib(e,s.document.name),l=_b(s.document.updateTime),f=s.document.createTime?_b(s.document.createTime):Bm.min(),h=new Dg({mapValue:{fields:s.document.fields}}),d=Mg.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new sb(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Ib(e,m.document),g=m.readTime?_b(m.readTime):Bm.min(),k=Mg.newNoDocument(y,g),b=m.removedTargetIds||[];n=new sb([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=Ib(e,w.document),x=w.removedTargetIds||[];n=new sb([],x,_,null)}else{if(!("filter"in t))return wm();t.filter;var T=t.filter;T.targetId;var E=T.count||0,I=new qk(E),S=T.targetId;n=new cb(S,I)}return n}(this.Tt,e),n=function(e){if(!("targetChange"in e))return Bm.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Bm.min():t.readTime?_b(t.readTime):Bm.min()}(e);return this.listener.Ho(t,n)}},{key:"Jo",value:function(e){var t={};t.database=Ab(this.Tt),t.addTarget=function(e,t){var n,r=t.target;return(n=Bg(r)?{documents:Mb(e,r)}:{query:Fb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=bb(e,t.resumeToken):t.snapshotVersion.compareTo(Bm.min())>0&&(n.readTime=kb(e,t.snapshotVersion.toTimestamp())),n}(this.Tt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wm()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.Tt,e);n&&(t.labels=n),this.qo(t)}},{key:"Yo",value:function(e){var t={};t.database=Ab(this.Tt),t.removeTarget=e,this.qo(t)}}]),n}(tT),rT=function(e){Dn(n,e);var t=Fn(n);function n(e,r,i,a,o,u){var s;return An(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).Tt=o,s.Zo=!1,s}return Rn(n,[{key:"Xo",get:function(){return this.Zo}},{key:"start",value:function(){this.Zo=!1,this.lastStreamToken=void 0,$i(Ln(n.prototype),"start",this).call(this)}},{key:"Go",value:function(){this.Zo&&this.tu([])}},{key:"Wo",value:function(e,t){return this.connection.yo("Write",e,t)}},{key:"onMessage",value:function(e){if(_m(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();var t=function(e,t){return e&&e.length>0?(_m(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?_b(e.updateTime):_b(t);return n.isEqual(Bm.min())&&(n=_b(t)),new Ek(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=_b(e.commitTime);return this.listener.eu(n,t)}return _m(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}},{key:"su",value:function(){var e={};e.database=Ab(this.Tt),this.qo(e)}},{key:"tu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Db(t.Tt,e)}))};this.qo(n)}}]),n}(tT),iT=function(e){Dn(n,e);var t=Fn(n);function n(e,r,i,a){var o;return An(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.Tt=a,o.iu=!1,o}return Rn(n,[{key:"ru",value:function(){if(this.iu)throw new Em(Tm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"lo",value:function(e,t,n){var r=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.connection.lo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Tm.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Em(Tm.UNKNOWN,e.toString())}))}},{key:"mo",value:function(e,t,n,r){var i=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=s(a,2),u=o[0],c=o[1];return i.connection.mo(e,t,n,u,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Tm.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Em(Tm.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.iu=!0}}]),n}(function(){return Rn((function e(){An(this,e)}))}());var aT=function(){function e(t,n){An(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}return Rn(e,[{key:"au",value:function(){var e=this;0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.uu=null,e.lu("Backend didn't respond within 10 seconds."),e.hu("Offline"),Promise.resolve()})))}},{key:"fu",value:function(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.hu("Offline")))}},{key:"set",value:function(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}},{key:"hu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"lu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.cu?(gm(t),this.cu=!1):ym("OnlineStateTracker",t)}},{key:"du",value:function(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}]),e}(),oT=Rn((function e(t,n,r,i,a){var o=this;An(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=a,this.yu.Gr((function(e){r.enqueueAndForget(Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=yT(o),!e.t0){e.next=5;break}return ym("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ae(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=xm(t)).mu.add(4),e.next=4,cT(n);case 4:return n.pu.set("Unknown"),n.mu.delete(4),e.next=8,uT(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.pu=new aT(r,i)}));function uT(e){return sT.apply(this,arguments)}function sT(){return sT=Ae(Se().mark((function e(t){var n,r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!yT(t)){e.next=18;break}n=On(t.gu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),sT.apply(this,arguments)}function cT(e){return lT.apply(this,arguments)}function lT(){return lT=Ae(Se().mark((function e(t){var n,r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=On(t.gu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),lT.apply(this,arguments)}function fT(e,t){var n=xm(e);n.wu.has(t.targetId)||(n.wu.set(t.targetId,t),mT(n)?vT(n):WT(n).Mo()&&dT(n,t))}function hT(e,t){var n=xm(e),r=WT(n);n.wu.delete(t),r.Mo()&&pT(n,t),0===n.wu.size&&(r.Mo()?r.Bo():yT(n)&&n.pu.set("Unknown"))}function dT(e,t){e.Iu.Ft(t.targetId),WT(e).Jo(t)}function pT(e,t){e.Iu.Ft(t),WT(e).Yo(t)}function vT(e){e.Iu=new hb({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ie:function(t){return e.wu.get(t)||null}}),WT(e).start(),e.pu.au()}function mT(e){return yT(e)&&!WT(e).Oo()&&e.wu.size>0}function yT(e){return 0===xm(e).mu.size}function gT(e){e.Iu=void 0}function kT(e){return bT.apply(this,arguments)}function bT(){return bT=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.wu.forEach((function(e,n){dT(t,e)}));case 1:case"end":return e.stop()}}),e)}))),bT.apply(this,arguments)}function wT(e,t){return _T.apply(this,arguments)}function _T(){return _T=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gT(t),mT(t)?(t.pu.fu(n),vT(t)):t.pu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),_T.apply(this,arguments)}function xT(e,t,n){return TT.apply(this,arguments)}function TT(){return TT=Ae(Se().mark((function e(t,n,r){var i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pu.set("Online"),!(n instanceof lb&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ae(Se().mark((function e(t,n){var r,i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=On(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.wu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.wu.delete(o),t.Iu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ym("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,ET(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof sb?t.Iu.Qt(n):n instanceof cb?t.Iu.Zt(n):t.Iu.Wt(n),r.isEqual(Bm.min())){e.next=29;break}return e.prev=14,e.next=17,wx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Iu.ee(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.wu.get(r);i&&e.wu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.wu.get(t);if(n){e.wu.set(t,n.withResumeToken(Cy.EMPTY_BYTE_STRING,n.snapshotVersion)),pT(e,t);var r=new Iw(n.target,t,1,n.sequenceNumber);dT(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),ym("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,ET(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),TT.apply(this,arguments)}function ET(e,t,n){return IT.apply(this,arguments)}function IT(){return IT=Ae(Se().mark((function e(t,n,r){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fy(n)){e.next=2;break}throw n;case 2:return t.mu.add(1),e.next=5,cT(t);case 5:t.pu.set("Offline"),r||(r=function(){return wx(t.localStore)}),t.asyncQueue.enqueueRetryable(Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ym("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.mu.delete(1),e.next=6,uT(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),IT.apply(this,arguments)}function ST(e,t){return t().catch((function(n){return ET(e,n,t)}))}function CT(e){return AT.apply(this,arguments)}function AT(){return AT=Ae(Se().mark((function e(t){var n,r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=xm(t),r=HT(n),i=n._u.length>0?n._u[n._u.length-1].batchId:-1;case 2:if(!NT(n)){e.next=19;break}return e.prev=3,e.next=6,Tx(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n._u.length&&r.Bo(),e.abrupt("break",19);case 10:i=a.batchId,RT(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,ET(n,e.t0);case 17:e.next=2;break;case 19:OT(n)&&PT(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),AT.apply(this,arguments)}function NT(e){return yT(e)&&e._u.length<10}function RT(e,t){e._u.push(t);var n=HT(e);n.Mo()&&n.Xo&&n.tu(t.mutations)}function OT(e){return yT(e)&&!HT(e).Oo()&&e._u.length>0}function PT(e){HT(e).start()}function DT(e){return LT.apply(this,arguments)}function LT(){return LT=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:HT(t).su();case 1:case"end":return e.stop()}}),e)}))),LT.apply(this,arguments)}function MT(e){return FT.apply(this,arguments)}function FT(){return FT=Ae(Se().mark((function e(t){var n,r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=HT(t),r=On(t._u);try{for(r.s();!(i=r.n()).done;)a=i.value,n.tu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),FT.apply(this,arguments)}function UT(e,t,n){return VT.apply(this,arguments)}function VT(){return VT=Ae(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t._u.shift(),a=Tw.from(i,n,r),e.next=3,ST(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,CT(t);case 5:case"end":return e.stop()}}),e)}))),VT.apply(this,arguments)}function jT(e,t){return BT.apply(this,arguments)}function BT(){return BT=Ae(Se().mark((function e(t,n){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&HT(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ae(Se().mark((function e(t,n){var r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Kk(i=n.code)||i===Tm.ABORTED){e.next=7;break}return r=t._u.shift(),HT(t).$o(),e.next=5,ST(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,CT(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:OT(t)&&PT(t);case 5:case"end":return e.stop()}}),e)}))),BT.apply(this,arguments)}function zT(e,t){return qT.apply(this,arguments)}function qT(){return qT=Ae(Se().mark((function e(t,n){var r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=xm(t)).asyncQueue.verifyOperationInProgress(),ym("RemoteStore","RemoteStore received new credentials"),i=yT(r),r.mu.add(3),e.next=6,cT(r);case 6:return i&&r.pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.mu.delete(3),e.next=12,uT(r);case 12:case"end":return e.stop()}}),e)}))),qT.apply(this,arguments)}function KT(e,t){return GT.apply(this,arguments)}function GT(){return GT=Ae(Se().mark((function e(t,n){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xm(t),!n){e.next=7;break}return r.mu.delete(2),e.next=5,uT(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.mu.add(2),e.next=12,cT(r);case 12:r.pu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),GT.apply(this,arguments)}function WT(e){return e.Tu||(e.Tu=function(e,t,n){var r=xm(e);return r.ru(),new nT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:kT.bind(null,e),no:wT.bind(null,e),Ho:xT.bind(null,e)}),e.gu.push(function(){var t=Ae(Se().mark((function t(n){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Tu.$o(),mT(e)?vT(e):e.pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Tu.stop();case 6:gT(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}function HT(e){return e.Eu||(e.Eu=function(e,t,n){var r=xm(e);return r.ru(),new rT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:DT.bind(null,e),no:jT.bind(null,e),nu:MT.bind(null,e),eu:UT.bind(null,e)}),e.gu.push(function(){var t=Ae(Se().mark((function t(n){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Eu.$o(),t.next=4,CT(e);case 4:t.next=9;break;case 6:return t.next=8,e.Eu.stop();case 8:e._u.length>0&&(ym("RemoteStore","Stopping write stream with ".concat(e._u.length," pending writes")),e._u=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Eu}var QT=function(){function e(t,n,r,i,a){An(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Im,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Rn(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Em(Tm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function XT(e,t){if(gm("AsyncQueue","".concat(t,": ").concat(e)),fy(e))return new Em(Tm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var YT=function(){function e(t){An(this,e),this.comparator=t?function(e,n){return t(e,n)||Wm.comparator(e.key,n.key)}:function(e,t){return Wm.comparator(e.key,t.key)},this.keyedMap=Yk(),this.sortedSet=new Sg(this.comparator)}return Rn(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),$T=function(){function e(){An(this,e),this.Au=new Sg(Wm.comparator)}return Rn(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Au.get(t);n?0!==e.type&&3===n.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==n.type?this.Au=this.Au.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Au=this.Au.remove(t):1===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):wm():this.Au=this.Au.insert(t,e)}},{key:"Ru",value:function(){var e=[];return this.Au.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),JT=function(){function e(t,n,r,i,a,o,u,s,c){An(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return Rn(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nk(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,YT.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),ZT=Rn((function e(){An(this,e),this.bu=void 0,this.listeners=[]})),eE=Rn((function e(){An(this,e),this.queries=new Wk((function(e){return rk(e)}),nk),this.onlineState="Unknown",this.vu=new Set}));function tE(e,t){return nE.apply(this,arguments)}function nE(){return nE=Ae(Se().mark((function e(t,n){var r,i,a,o,u;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xm(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new ZT),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.bu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=XT(e.t0,"Initialization of query '".concat(ik(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.bu&&n.Vu(o.bu)&&uE(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),nE.apply(this,arguments)}function rE(e,t){return iE.apply(this,arguments)}function iE(){return iE=Ae(Se().mark((function e(t,n){var r,i,a,o,u;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xm(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),iE.apply(this,arguments)}function aE(e,t){var n,r=xm(e),i=!1,a=On(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=On(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.bu=o}}}catch(f){a.e(f)}finally{a.f()}i&&uE(r)}function oE(e,t,n){var r=xm(e),i=r.queries.get(t);if(i){var a,o=On(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function uE(e){e.vu.forEach((function(e){e.next()}))}var sE=function(){function e(t,n,r){An(this,e),this.query=t,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}return Rn(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=On(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new JT(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Du?this.xu(e)&&(this.Su.next(e),a=!0):this.Nu(e,this.onlineState)&&(this.ku(e),a=!0),this.Cu=e,a}},{key:"onError",value:function(e){this.Su.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}},{key:"Nu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ou||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"xu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"ku",value:function(e){e=JT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}]),e}(),cE=function(){function e(t,n){An(this,e),this.Mu=t,this.byteLength=n}return Rn(e,[{key:"Fu",value:function(){return"metadata"in this.Mu}}]),e}(),lE=function(){function e(t){An(this,e),this.Tt=t}return Rn(e,[{key:"Zi",value:function(e){return Ib(this.Tt,e)}},{key:"Xi",value:function(e){return e.metadata.exists?Ob(this.Tt,e.document,!1):Mg.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}},{key:"tr",value:function(e){return _b(e)}}]),e}(),fE=function(){function e(t,n,r){An(this,e),this.$u=t,this.localStore=n,this.Tt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hE(t)}return Rn(e,[{key:"Bu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;var n=qm.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Lu",value:function(e){var t,n=new Map,r=new lE(this.Tt),i=On(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Zi(a.metadata.name),s=On(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||rb()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ae(Se().mark((function e(){var t,n,r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ox(this.localStore,new lE(this.Tt),this.documents,this.$u.id);case 2:t=e.sent,n=this.Lu(this.documents),r=On(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Dx(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,qu:this.collectionGroups,Uu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function hE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var dE=Rn((function e(t){An(this,e),this.key=t})),pE=Rn((function e(t){An(this,e),this.key=t})),vE=function(){function e(t,n){An(this,e),this.query=t,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=rb(),this.mutatedKeys=rb(),this.ju=uk(t),this.zu=new YT(this.ju)}return Rn(e,[{key:"Wu",get:function(){return this.Ku}},{key:"Hu",value:function(e,t){var n=this,r=t?t.Ju:new $T,i=t?t.zu:this.zu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=ak(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Yu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.ju(f,s)>0||c&&n.ju(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{zu:o,Ju:r,Li:u,mutatedKeys:a}}},{key:"Yu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;var a=e.Ju.Ru();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wm()}};return n(e)-n(t)}(e.type,t.type)||r.ju(e.doc,t.doc)})),this.Zu(n);var o=t?this.Xu():[],u=0===this.Qu.size&&this.current?1:0,s=u!==this.Gu;return this.Gu=u,0!==a.length||s?{snapshot:new JT(this.query,e.zu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new $T,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}},{key:"ec",value:function(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}},{key:"Zu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ku=t.Ku.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ku=t.Ku.delete(e)})),this.current=e.current)}},{key:"Xu",value:function(){var e=this;if(!this.current)return[];var t=this.Qu;this.Qu=rb(),this.zu.forEach((function(t){e.ec(t.key)&&(e.Qu=e.Qu.add(t.key))}));var n=[];return t.forEach((function(t){e.Qu.has(t)||n.push(new pE(t))})),this.Qu.forEach((function(e){t.has(e)||n.push(new dE(e))})),n}},{key:"nc",value:function(e){this.Ku=e.Yi,this.Qu=rb();var t=this.Hu(e.documents);return this.applyChanges(t,!0)}},{key:"sc",value:function(){return JT.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}]),e}(),mE=Rn((function e(t,n,r){An(this,e),this.query=t,this.targetId=n,this.view=r})),yE=Rn((function e(t){An(this,e),this.key=t,this.ic=!1})),gE=function(){function e(t,n,r,i,a,o){An(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new Wk((function(e){return rk(e)}),nk),this.uc=new Map,this.cc=new Set,this.ac=new Sg(Wm.comparator),this.hc=new Map,this.lc=new J_,this.fc={},this.dc=new Map,this._c=C_.Sn(),this.onlineState="Unknown",this.wc=void 0}return Rn(e,[{key:"isPrimaryClient",get:function(){return!0===this.wc}}]),e}();function kE(e,t){return bE.apply(this,arguments)}function bE(){return bE=Ae(Se().mark((function e(t,n){var r,i,a,o,u,s;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hI(t),!(o=r.oc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.sc(),e.next=15;break;case 6:return e.next=8,Ex(r.localStore,Zg(n));case 8:return u=e.sent,r.isPrimaryClient&&fT(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,wE(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}function wE(e,t,n,r,i){return _E.apply(this,arguments)}function _E(){return _E=Ae(Se().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.mc=function(e,n,r){return function(){var e=Ae(Se().mark((function e(t,n,r,i){var a,o,u;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Hu(r),e.t0=a.Li,!e.t0){e.next=6;break}return e.next=5,Cx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Hu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(zE(t,n.targetId,u.tc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Cx(t.localStore,n,!0);case 3:return o=e.sent,u=new vE(n,o.Yi),s=u.Hu(o.documents),c=ub.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),zE(t,r,l.tc),f=new mE(n,r,u),e.abrupt("return",(t.oc.set(n,f),t.uc.has(r)?t.uc.get(r).push(n):t.uc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),_E.apply(this,arguments)}function xE(e,t){return TE.apply(this,arguments)}function TE(){return TE=Ae(Se().mark((function e(t,n){var r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xm(t),i=r.oc.get(n),!((a=r.uc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.uc.set(i.targetId,a.filter((function(e){return!nk(e,n)}))),void r.oc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Ix(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),hT(r.remoteStore,i.targetId),jE(r,i.targetId)})).catch(iy);case 9:e.next=14;break;case 11:return jE(r,i.targetId),e.next=14,Ix(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}function EE(e,t,n){return IE.apply(this,arguments)}function IE(){return IE=Ae(Se().mark((function e(t,n,r){var i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dI(t),e.prev=1,e.next=4,function(e,t){var n,r,i=xm(e),a=jm.now(),o=t.reduce((function(e,t){return e.add(t.key)}),rb());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Qk(),s=rb();return i.ji.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=On(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Ok(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Lk(c.key,l,Lg(l.value.mapValue),Ik.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:$k(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.fc[e.currentUser.toKey()];r||(r=new Sg(Fm)),r=r.insert(t,n),e.fc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,GE(i,a.changes);case 9:return e.next=11,CT(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=XT(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),IE.apply(this,arguments)}function SE(e,t){return CE.apply(this,arguments)}function CE(){return CE=Ae(Se().mark((function e(t,n){var r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xm(t),e.prev=1,e.next=4,_x(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.hc.get(t);n&&(_m(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ic=!0:e.modifiedDocuments.size>0?_m(n.ic):e.removedDocuments.size>0&&(_m(n.ic),n.ic=!1))})),e.next=8,GE(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,iy(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),CE.apply(this,arguments)}function AE(e,t,n){var r=xm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.oc.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=xm(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=On(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&uE(n)}(r.eventManager,t),i.length&&r.rc.Ho(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function NE(e,t,n){return RE.apply(this,arguments)}function RE(){return RE=Ae(Se().mark((function e(t,n,r){var i,a,o,u,s,c;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=xm(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.hc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Sg(Wm.comparator)).insert(o,Mg.newNoDocument(o,Bm.min())),s=rb().add(o),c=new ob(Bm.min(),new Map,new Ng(Fm),u,s),e.next=9,SE(i,c);case 9:i.ac=i.ac.remove(o),i.hc.delete(n),KE(i),e.next=16;break;case 14:return e.next=16,Ix(i.localStore,n,!1).then((function(){return jE(i,n,r)})).catch(iy);case 16:case"end":return e.stop()}}),e)}))),RE.apply(this,arguments)}function OE(e,t){return PE.apply(this,arguments)}function PE(){return PE=Ae(Se().mark((function e(t,n){var r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xm(t),i=n.batch.batchId,e.prev=1,e.next=4,bx(r.localStore,n);case 4:return a=e.sent,VE(r,i,null),UE(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,GE(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,iy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),PE.apply(this,arguments)}function DE(e,t,n){return LE.apply(this,arguments)}function LE(){return LE=Ae(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xm(t),e.prev=1,e.next=4,function(e,t){var n=xm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return _m(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,VE(i,n,r),UE(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,GE(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,iy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),LE.apply(this,arguments)}function ME(e,t){return FE.apply(this,arguments)}function FE(){return FE=Ae(Se().mark((function e(t,n){var r,i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yT((r=xm(t)).remoteStore)||ym("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=xm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.dc.get(i)||[]).push(n),r.dc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=XT(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),FE.apply(this,arguments)}function UE(e,t){(e.dc.get(t)||[]).forEach((function(e){e.resolve()})),e.dc.delete(t)}function VE(e,t,n){var r=xm(e),i=r.fc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.fc[r.currentUser.toKey()]=i}}function jE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=On(e.uc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.oc.delete(a),n&&e.rc.gc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.uc.delete(t),e.isPrimaryClient&&e.lc.ds(t).forEach((function(t){e.lc.containsKey(t)||BE(e,t)}))}function BE(e,t){e.cc.delete(t.path.canonicalString());var n=e.ac.get(t);null!==n&&(hT(e.remoteStore,n),e.ac=e.ac.remove(t),e.hc.delete(n),KE(e))}function zE(e,t,n){var r,i=On(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof dE?(e.lc.addReference(a.key,t),qE(e,a)):a instanceof pE?(ym("SyncEngine","Document no longer in limbo: "+a.key),e.lc.removeReference(a.key,t),e.lc.containsKey(a.key)||BE(e,a.key)):wm()}}catch(o){i.e(o)}finally{i.f()}}function qE(e,t){var n=t.key,r=n.path.canonicalString();e.ac.get(n)||e.cc.has(r)||(ym("SyncEngine","New document in limbo: "+n),e.cc.add(r),KE(e))}function KE(e){for(;e.cc.size>0&&e.ac.size<e.maxConcurrentLimboResolutions;){var t=e.cc.values().next().value;e.cc.delete(t);var n=new Wm(qm.fromString(t)),r=e._c.next();e.hc.set(r,new yE(n)),e.ac=e.ac.insert(n,r),fT(e.remoteStore,new Iw(Zg(Hg(n.path)),r,2,gy.at))}}function GE(e,t,n){return WE.apply(this,arguments)}function WE(){return WE=Ae(Se().mark((function e(t,n,r){var i,a,o,u;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=xm(t),a=[],o=[],u=[],e.t0=i.oc.isEmpty(),e.t0){e.next=9;break}return i.oc.forEach((function(e,t){u.push(i.mc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=px.Ni(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.rc.Ho(a),e.next=9,function(){var e=Ae(Se().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xm(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return oy.forEach(n,(function(t){return oy.forEach(t.Ci,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return oy.forEach(t.xi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),fy(e.t0)){e.next=10;break}throw e.t0;case 10:ym("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=On(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ki.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ki=r.Ki.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),WE.apply(this,arguments)}function HE(e,t){return QE.apply(this,arguments)}function QE(){return QE=Ae(Se().mark((function e(t,n){var r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=xm(t)).currentUser.isEqual(n)){e.next=11;break}return ym("SyncEngine","User change. New user:",n.toKey()),e.next=5,gx(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.dc.forEach((function(e){e.forEach((function(e){e.reject(new Em(Tm.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.dc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,GE(r,i.Wi);case 11:case"end":return e.stop()}}),e)}))),QE.apply(this,arguments)}function XE(e,t){var n=xm(e),r=n.hc.get(t);if(r&&r.ic)return rb().add(r.key);var i=rb(),a=n.uc.get(t);if(!a)return i;var o,u=On(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.oc.get(s);i=i.unionWith(c.view.Wu)}}catch(l){u.e(l)}finally{u.f()}return i}function YE(e,t){return $E.apply(this,arguments)}function $E(){return $E=Ae(Se().mark((function e(t,n){var r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xm(t),e.next=3,Cx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.nc(i),e.abrupt("return",(r.isPrimaryClient&&zE(r,n.targetId,a.tc),a));case 6:case"end":return e.stop()}}),e)}))),$E.apply(this,arguments)}function JE(e,t){return ZE.apply(this,arguments)}function ZE(){return ZE=Ae(Se().mark((function e(t,n){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xm(t),e.abrupt("return",Nx(r.localStore,n).then((function(e){return GE(r,e)})));case 2:case"end":return e.stop()}}),e)}))),ZE.apply(this,arguments)}function eI(e,t,n,r){return tI.apply(this,arguments)}function tI(){return tI=Ae(Se().mark((function e(t,n,r,i){var a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=xm(t),e.next=3,function(e,t){var n=xm(e),r=xm(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.An(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):oy.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,CT(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(VE(a,n,i||null),UE(a,n),function(e,t){xm(xm(e).mutationQueue).bn(t)}(a.localStore,n)):wm();case 11:return e.next=13,GE(a,o);case 13:e.next=16;break;case 15:ym("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),tI.apply(this,arguments)}function nI(e,t){return rI.apply(this,arguments)}function rI(){return rI=Ae(Se().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hI(r=xm(t)),dI(r),!0!==n||!0===r.wc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,iI(r,i.toArray());case 5:return a=e.sent,r.wc=!0,e.next=9,KT(r.remoteStore,!0);case 9:o=On(a);try{for(o.s();!(u=o.n()).done;)s=u.value,fT(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.wc){e.next=25;break}return c=[],l=Promise.resolve(),r.uc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return jE(r,t),Ix(r.localStore,t,!0)})),hT(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,iI(r,c);case 21:return function(e){var t=xm(e);t.hc.forEach((function(e,n){hT(t.remoteStore,n)})),t.lc._s(),t.hc=new Map,t.ac=new Sg(Wm.comparator)}(r),r.wc=!1,e.next=25,KT(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),rI.apply(this,arguments)}function iI(e,t,n){return aI.apply(this,arguments)}function aI(){return aI=Ae(Se().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=xm(t),a=[],o=[],u=On(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.uc.get(c))||0===f.length){e.next=34;break}return e.next=11,Ex(i.localStore,Zg(f[0]));case 11:l=e.sent,h=On(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.oc.get(p),e.next=20,YE(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Ax(i.localStore,c);case 36:return y=e.sent,e.next=39,Ex(i.localStore,y);case 39:return l=e.sent,e.next=42,wE(i,oI(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.rc.Ho(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),aI.apply(this,arguments)}function oI(e){return Wg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function uI(e){var t=xm(e);return xm(xm(t.localStore).persistence).Si()}function sI(e,t,n,r){return cI.apply(this,arguments)}function cI(){return cI=Ae(Se().mark((function e(t,n,r,i){var a,o,u,s;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=xm(t)).wc){e.next=3;break}return e.abrupt("return",void ym("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.uc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Nx(a.localStore,ok(o[0]));case 10:return u=e.sent,s=ob.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Cy.EMPTY_BYTE_STRING),e.next=14,GE(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Ix(a.localStore,n,!0);case 17:return jE(a,n,i),e.abrupt("break",20);case 19:wm();case 20:case"end":return e.stop()}}),e)}))),cI.apply(this,arguments)}function lI(e,t,n){return fI.apply(this,arguments)}function fI(){return fI=Ae(Se().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=hI(t)).wc){e.next=45;break}a=On(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.uc.has(u)){e.next=10;break}return ym("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Ax(i.localStore,u);case 12:return s=e.sent,e.next=15,Ex(i.localStore,s);case 15:return c=e.sent,e.next=18,wE(i,oI(s),c.targetId,!1,c.resumeToken);case 18:fT(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=On(r),e.prev=30,h=Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.uc.has(t),!e.t0){e.next=5;break}return e.next=5,Ix(i.localStore,t,!1).then((function(){hT(i.remoteStore,t),jE(i,t)})).catch(iy);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),fI.apply(this,arguments)}function hI(e){var t=xm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=SE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=XE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=NE.bind(null,t),t.rc.Ho=aE.bind(null,t.eventManager),t.rc.gc=oE.bind(null,t.eventManager),t}function dI(e){var t=xm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=DE.bind(null,t),t}function pI(e,t,n){var r=xm(e);(function(){var e=Ae(Se().mark((function e(t,n,r){var i,a,o,u,s;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=xm(e),r=_b(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Os.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(hE(i)),a=new fE(i,t.localStore,n.Tt),e.next=15,n.yc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Bu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.yc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,GE(t,s.Uu,void 0);case 31:return e.next=33,function(e,t){var n=xm(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Os.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.qu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(km("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var vI=function(){function e(){An(this,e),this.synchronizeTabs=!1}return Rn(e,[{key:"initialize",value:function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Tt=Zx(t.databaseInfo.databaseId),this.sharedClientState=this.Ic(t),this.persistence=this.Tc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ec(t),this.gcScheduler=this.Ac(t,this.localStore),this.indexBackfillerScheduler=this.Rc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ac",value:function(e,t){return null}},{key:"Rc",value:function(e,t){return null}},{key:"Ec",value:function(e){return yx(this.persistence,new vx,e.initialUser,this.Tt)}},{key:"Tc",value:function(e){return new ix(ox.qs,this.Tt)}},{key:"Ic",value:function(e){return new Gx}},{key:"terminate",value:function(){var e=Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),mI=function(e){Dn(n,e);var t=Fn(n);function n(e,r,i){var a;return An(this,n),(a=t.call(this)).bc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Rn(n,[{key:"initialize",value:function(){var e=Ae(Se().mark((function e(t){var r=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$i(Ln(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.bc.initialize(this,t);case 4:return e.next=6,dI(this.bc.syncEngine);case 6:return e.next=8,CT(this.bc.remoteStore);case 8:return e.next=10,this.persistence.di((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ec",value:function(e){return yx(this.persistence,new vx,e.initialUser,this.Tt)}},{key:"Ac",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new L_(n,e.asyncQueue,t)}},{key:"Rc",value:function(e,t){var n=new yy(t,this.persistence);return new my(e.asyncQueue,n)}},{key:"Tc",value:function(e){var t=dx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?b_.withCacheSize(this.cacheSizeBytes):b_.DEFAULT;return new lx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,$x(),Jx(),this.Tt,this.sharedClientState,!!this.forceOwnership)}},{key:"Ic",value:function(e){return new Gx}}]),n}(vI),yI=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,e,r,!1)).bc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Rn(n,[{key:"initialize",value:function(){var e=Ae(Se().mark((function e(t){var r,i=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$i(Ln(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.bc.syncEngine,e.t0=this.sharedClientState instanceof Kx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Br:eI.bind(null,r),Lr:sI.bind(null,r),qr:lI.bind(null,r),Si:uI.bind(null,r),$r:JE.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.di(function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nI(i.bc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){var t=$x();if(!Kx.C(t))throw new Em(Tm.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=dx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Kx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(mI),gI=function(){function e(){An(this,e)}return Rn(e,[{key:"initialize",value:function(){var e=Ae(Se().mark((function e(t,n){var r=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return AE(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=HE.bind(null,this.syncEngine),e.next=12,KT(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new eE}},{key:"createDatastore",value:function(e){var t,n=Zx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Yx(t));return function(e,t,n,r){return new iT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return AE(o.syncEngine,e,0)},a=Hx.C()?new Hx:new Wx,new oT(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new gE(e,t,n,r,i,a);return o&&(u.wc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ae(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xm(t),ym("RemoteStore","RemoteStore shutting down."),n.mu.add(5),e.next=5,cT(n);case 5:n.yu.shutdown(),n.pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function kI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ae(Se().mark((function r(){var i;return Se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var bI=function(){function e(t){An(this,e),this.observer=t,this.muted=!1}return Rn(e,[{key:"next",value:function(e){this.observer.next&&this.vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.vc(this.observer.error,e):gm("Uncaught Error in snapshot listener:",e.toString())}},{key:"Pc",value:function(){this.muted=!0}},{key:"vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),wI=function(){function e(t,n){var r=this;An(this,e),this.Vc=t,this.Tt=n,this.metadata=new Im,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then((function(e){e&&e.Fu()?r.metadata.resolve(e.Mu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Mu))))}),(function(e){return r.metadata.reject(e)}))}return Rn(e,[{key:"close",value:function(){return this.Vc.cancel()}},{key:"getMetadata",value:function(){var e=Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yc",value:function(){var e=Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Dc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=Ae(Se().mark((function e(){var t,n,r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Sc.decode(t),r=Number(n),isNaN(r)&&this.xc("length string (".concat(n,") is not valid number")),e.next=9,this.Nc(r);case 9:return i=e.sent,e.abrupt("return",new cE(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"kc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Cc",value:function(){var e=Ae(Se().mark((function e(){var t,n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.kc()<0)){e.next=7;break}return e.next=3,this.Oc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.kc())<0&&this.xc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=Ae(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Oc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.xc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Sc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xc",value:function(e){throw this.Vc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Oc",value:function(){var e=Ae(Se().mark((function e(){var t,n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),_I=function(){function e(t){An(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Rn(e,[{key:"lookup",value:function(){var e=Ae(Se().mark((function e(t){var n,r=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Em(Tm.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ae(Se().mark((function e(t,n){var r,i,a,o,u,s;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xm(t),i=Ab(r.Tt)+"/documents",a={documents:n.map((function(e){return Eb(r.Tt,e)}))},e.next=5,r.mo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Pb(r.Tt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());_m(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Bk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ae(Se().mark((function e(){var t,n=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Wm.fromPath(t);n.mutations.push(new zk(r,n.precondition(r)))})),e.next=7,function(){var e=Ae(Se().mark((function e(t,n){var r,i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xm(t),i=Ab(r.Tt)+"/documents",a={writes:n.map((function(e){return Db(r.Tt,e)}))},e.next=3,r.lo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw wm();t=Bm.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Em(Tm.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Bm.min())?Ik.exists(!1):Ik.updateTime(t):Ik.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Bm.min()))throw new Em(Tm.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ik.updateTime(t)}return Ik.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),xI=function(){function e(t,n,r,i,a){An(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Mc=r.maxAttempts,this.ko=new eT(this.asyncQueue,"transaction_retry")}return Rn(e,[{key:"run",value:function(){this.Mc-=1,this.Fc()}},{key:"Fc",value:function(){var e=this;this.ko.vo(Ae(Se().mark((function t(){var n,r;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new _I(e.datastore),(r=e.$c(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Bc(t)}))}))})).catch((function(t){e.Bc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"$c",value:function(e){try{var t=this.updateFunction(e);return!Ty(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Bc",value:function(e){var t=this;this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Fc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Lc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Kk(t)}return!1}}]),e}(),TI=function(){function e(t,n,r,i){var a=this;An(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dm.UNAUTHENTICATED,this.clientId=Mm.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ym("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return ym("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Rn(e,[{key:"getConfiguration",value:function(){var e=Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Em(Tm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Im;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ae(Se().mark((function n(){var r;return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=XT(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function EI(e,t){return II.apply(this,arguments)}function II(){return II=Ae(Se().mark((function e(t,n){var r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ym("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,gx(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),II.apply(this,arguments)}function SI(e,t){return CI.apply(this,arguments)}function CI(){return CI=Ae(Se().mark((function e(t,n){var r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,AI(t);case 3:return r=e.sent,ym("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return zT(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return zT(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),CI.apply(this,arguments)}function AI(e){return NI.apply(this,arguments)}function NI(){return NI=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return ym("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,EI(t,new vI);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),NI.apply(this,arguments)}function RI(e){return OI.apply(this,arguments)}function OI(){return OI=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return ym("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,SI(t,new gI);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),OI.apply(this,arguments)}function PI(e){return AI(e).then((function(e){return e.persistence}))}function DI(e){return AI(e).then((function(e){return e.localStore}))}function LI(e){return RI(e).then((function(e){return e.remoteStore}))}function MI(e){return RI(e).then((function(e){return e.syncEngine}))}function FI(e){return RI(e).then((function(e){return e.datastore}))}function UI(e){return VI.apply(this,arguments)}function VI(){return VI=Ae(Se().mark((function e(t){var n,r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=kE.bind(null,n.syncEngine),r.onUnlisten=xE.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),VI.apply(this,arguments)}function jI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Im;return e.asyncQueue.enqueueAndForget(Ae(Se().mark((function i(){return Se().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new bI({next:function(a){t.enqueueAndForget((function(){return rE(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Em(Tm.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Em(Tm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new sE(Hg(n.path),a,{includeMetadataChanges:!0,Ou:!0});return tE(e,o)},i.next=3,UI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function BI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Im;return e.asyncQueue.enqueueAndForget(Ae(Se().mark((function i(){return Se().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new bI({next:function(n){t.enqueueAndForget((function(){return rE(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Em(Tm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new sE(n,a,{includeMetadataChanges:!0,Ou:!0});return tE(e,o)},i.next=3,UI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var zI=new Map;function qI(e,t,n){if(!n)throw new Em(Tm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function KI(e,t,n,r){if(!0===t&&!0===r)throw new Em(Tm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function GI(e){if(!Wm.isDocumentKey(e))throw new Em(Tm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function WI(e){if(Wm.isDocumentKey(e))throw new Em(Tm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function HI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":wm()}function QI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Em(Tm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=HI(e);throw new Em(Tm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function XI(e,t){if(t<=0)throw new Em(Tm.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var YI=function(){function e(t){var n;if(An(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Em(Tm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Em(Tm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,KI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Rn(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),$I=function(){function e(t,n,r,i){An(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YI({}),this._settingsFrozen=!1}return Rn(e,[{key:"app",get:function(){if(!this._app)throw new Em(Tm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Em(Tm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Cm;switch(e.type){case"gapi":var t=e.client;return new Om(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Em(Tm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=zI.get(e);t&&(ym("ComponentProvider","Removing Datastore"),zI.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function JI(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=QI(e,$I))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&km("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=dm.MOCK_USER;else{o=$n(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Em(Tm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new dm(s)}e._authCredentials=new Am(new Sm(o,u))}}var ZI=function(){function e(t,n,r){An(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Rn(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new tS(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),eS=function(){function e(t,n,r){An(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Rn(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),tS=function(e){Dn(n,e);var t=Fn(n);function n(e,r,i){var a;return An(this,n),(a=t.call(this,e,r,Hg(i)))._path=i,a.type="collection",a}return Rn(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new ZI(this.firestore,null,new Wm(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(eS);function nS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=mr(e),qI("collection","path",t),e instanceof $I){var a=qm.fromString.apply(qm,[t].concat(r));return WI(a),new tS(e,null,a)}if(!(e instanceof ZI||e instanceof tS))throw new Em(Tm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(qm.fromString.apply(qm,[t].concat(r)));return WI(o),new tS(e.firestore,null,o)}function rS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=mr(e),1===arguments.length&&(t=Mm.R()),qI("doc","path",t),e instanceof $I){var a=qm.fromString.apply(qm,[t].concat(r));return GI(a),new ZI(e,null,new Wm(a))}if(!(e instanceof ZI||e instanceof tS))throw new Em(Tm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(qm.fromString.apply(qm,[t].concat(r)));return GI(o),new ZI(e.firestore,e instanceof tS?e.converter:null,new Wm(o))}function iS(e,t){return e=mr(e),t=mr(t),(e instanceof ZI||e instanceof tS)&&(t instanceof ZI||t instanceof tS)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function aS(e,t){return e=mr(e),t=mr(t),e instanceof eS&&t instanceof eS&&e.firestore===t.firestore&&nk(e._query,t._query)&&e.converter===t.converter}var oS=function(){function e(){var t=this;An(this,e),this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new eT(this,"async_queue_retry"),this.Hc=function(){var e=Jx();e&&ym("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ko.Vo()};var n=Jx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Hc)}return Rn(e,[{key:"isShuttingDown",get:function(){return this.Kc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Jc(),this.Yc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;var t=Jx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Jc(),this.Kc)return new Promise((function(){}));var n=new Im;return this.Yc((function(){return t.Kc&&t.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Uc.push(e),t.Zc()}))}},{key:"Zc",value:function(){var e=Ae(Se().mark((function e(){var t=this;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Uc.length){e.next=14;break}return e.prev=1,e.next=4,this.Uc[0]();case 4:this.Uc.shift(),this.ko.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),fy(e.t0)){e.next=12;break}throw e.t0;case 12:ym("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Uc.length>0&&this.ko.vo((function(){return t.Zc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Yc",value:function(e){var t=this,n=this.qc.then((function(){return t.jc=!0,e().catch((function(e){t.Qc=e,t.jc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw gm("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.jc=!1,e}))}));return this.qc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);var i=QT.createAndSchedule(this,e,t,n,(function(e){return r.Xc(e)}));return this.Gc.push(i),i}},{key:"Jc",value:function(){this.Qc&&wm()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ta",value:function(){var e=Ae(Se().mark((function e(){var t;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.qc,e.next=3,t;case 3:if(t!==this.qc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ea",value:function(e){var t,n=On(this.Gc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"na",value:function(e){var t=this;return this.ta().then((function(){t.Gc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=On(t.Gc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ta()}))}},{key:"sa",value:function(e){this.Wc.push(e)}},{key:"Xc",value:function(e){var t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}]),e}();function uS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=On(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var sS=function(){function e(){An(this,e),this._progressObserver={},this._taskCompletionResolver=new Im,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Rn(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),cS=function(e){Dn(n,e);var t=Fn(n);function n(e,r,i,a){var o;return An(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new oS,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Rn(n,[{key:"_terminate",value:function(){return this._firestoreClient||fS(this),this._firestoreClient.terminate()}}]),n}($I);function lS(e){return e._firestoreClient||fS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function fS(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ky(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new TI(e._authCredentials,e._appCheckCredentials,e._queue,r)}function hS(e,t,n){var r=new Im;return e.asyncQueue.enqueue(Ae(Se().mark((function i(){var a;return Se().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,EI(e,n);case 3:return i.next=5,SI(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Tm.FAILED_PRECONDITION||e.code===Tm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:km("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function dS(e){return function(e){return e.asyncQueue.enqueue(Ae(Se().mark((function t(){var n,r;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,PI(e);case 2:return n=t.sent,t.next=5,LI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=xm(e);return t.mu.delete(0),uT(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(lS(e=QI(e,cS)))}function pS(e){return function(e){return e.asyncQueue.enqueue(Ae(Se().mark((function t(){var n,r;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,PI(e);case 2:return n=t.sent,t.next=5,LI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ae(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=xm(t)).mu.add(0),e.next=4,cT(n);case 4:n.pu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(lS(e=QI(e,cS)))}function vS(e,t){var n=lS(e=QI(e,cS)),r=new sS;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new wI(e,t)}(function(e,t){if(e instanceof Uint8Array)return kI(e,t);if(e instanceof ArrayBuffer)return kI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Zx(t));e.asyncQueue.enqueueAndForget(Ae(Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=pI,t.next=3,MI(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function mS(e,t){return function(e,t){return e.asyncQueue.enqueue(Ae(Se().mark((function n(){return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=xm(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Os.getNamedQuery(e,t)}))},n.next=3,DI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(lS(e=QI(e,cS)),t).then((function(t){return t?new eS(e,null,t.query):null}))}function yS(e){if(e._initialized||e._terminated)throw new Em(Tm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var gS=function(){function e(t){An(this,e),this._byteString=t}return Rn(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Cy.fromBase64String(t))}catch(t){throw new Em(Tm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Cy.fromUint8Array(t))}}]),e}(),kS=function(){function e(){An(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Em(Tm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gm(n)}return Rn(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var bS=Rn((function e(t){An(this,e),this._methodName=t})),wS=function(){function e(t,n){if(An(this,e),!isFinite(t)||t<-90||t>90)throw new Em(Tm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Em(Tm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Rn(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Fm(this._lat,e._lat)||Fm(this._long,e._long)}}]),e}(),_S=/^__.*__$/,xS=function(){function e(t,n,r){An(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Rn(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Lk(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dk(e,this.data,t,this.fieldTransforms)}}]),e}(),TS=function(){function e(t,n,r){An(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Rn(e,[{key:"toMutation",value:function(e,t){return new Lk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function ES(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wm()}}var IS=function(){function e(t,n,r,i,a,o){An(this,e),this.settings=t,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ia(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Rn(e,[{key:"path",get:function(){return this.settings.path}},{key:"ra",get:function(){return this.settings.ra}},{key:"oa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.aa(e),r}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.ia(),r}},{key:"la",value:function(e){return this.oa({path:void 0,ca:!0})}},{key:"fa",value:function(e){return WS(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ia",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.aa(this.path.get(e))}},{key:"aa",value:function(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(ES(this.ra)&&_S.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}]),e}(),SS=function(){function e(t,n,r){An(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.Tt=r||Zx(t)}return Rn(e,[{key:"wa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new IS({ra:e,methodName:t,_a:n,path:Gm.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}]),e}();function CS(e){var t=e._freezeSettings(),n=Zx(e._databaseId);return new SS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function AS(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.wa(a.merge||a.mergeFields?2:0,t,n,i);zS("Data must be an object, but it was:",o,r);var u,s,c=jS(r,o);if(a.merge)u=new Pg(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=On(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=qS(t,l.value,n);if(!o.contains(d))throw new Em(Tm.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));HS(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new Pg(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new xS(new Dg(c),u,s)}var NS=function(e){Dn(n,e);var t=Fn(n);function n(){return An(this,n),t.apply(this,arguments)}return Rn(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ra)throw 1===e.ra?e.fa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.fa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(bS);function RS(e,t,n){return new IS({ra:3,_a:t.settings._a,methodName:e._methodName,ca:n},t.databaseId,t.Tt,t.ignoreUndefinedProperties)}var OS=function(e){Dn(n,e);var t=Fn(n);function n(){return An(this,n),t.apply(this,arguments)}return Rn(n,[{key:"_toFieldTransform",value:function(e){return new Tk(e.path,new mk)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(bS),PS=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,e)).ma=r,i}return Rn(n,[{key:"_toFieldTransform",value:function(e){var t=RS(this,e,!0),n=this.ma.map((function(e){return VS(e,t)})),r=new yk(n);return new Tk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bS),DS=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,e)).ma=r,i}return Rn(n,[{key:"_toFieldTransform",value:function(e){var t=RS(this,e,!0),n=this.ma.map((function(e){return VS(e,t)})),r=new kk(n);return new Tk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bS),LS=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,e)).ga=r,i}return Rn(n,[{key:"_toFieldTransform",value:function(e){var t=new wk(e.Tt,fk(e.Tt,this.ga));return new Tk(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bS);function MS(e,t,n,r){var i=e.wa(1,t,n);zS("Data must be an object, but it was:",i,r);var a=[],o=Dg.empty();_y(r,(function(e,r){var u=GS(t,e,n);r=mr(r);var s=i.ha(u);if(r instanceof NS)a.push(u);else{var c=VS(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Pg(a);return new TS(o,u,i.fieldTransforms)}function FS(e,t,n,r,i,a){var o=e.wa(1,t,n),u=[qS(t,r,n)],s=[i];if(a.length%2!=0)throw new Em(Tm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(qS(t,a[c])),s.push(a[c+1]);for(var l=[],f=Dg.empty(),h=u.length-1;h>=0;--h)if(!HS(l,u[h])){var d=u[h],p=s[h];p=mr(p);var v=o.ha(d);if(p instanceof NS)l.push(d);else{var m=VS(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Pg(l);return new TS(f,y,o.fieldTransforms)}function US(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return VS(n,e.wa(r?4:3,t))}function VS(e,t){if(BS(e=mr(e)))return zS("Unsupported field value:",t,e),jS(e,t);if(e instanceof bS)return function(e,t){if(!ES(t.ra))throw t.fa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.fa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ca&&4!==t.ra)throw t.fa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=On(e);try{for(a.s();!(n=a.n()).done;){var o=VS(n.value,t.la(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=mr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return fk(t.Tt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=jm.fromDate(e);return{timestampValue:kb(t.Tt,n)}}if(e instanceof jm){var r=new jm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:kb(t.Tt,r)}}if(e instanceof wS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof gS)return{bytesValue:bb(t.Tt,e._byteString)};if(e instanceof ZI){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.fa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:xb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.fa("Unsupported field value: ".concat(HI(e)))}(e,t)}function jS(e,t){var n={};return xy(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_y(e,(function(e,r){var i=VS(r,t.ua(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function BS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof jm||e instanceof wS||e instanceof gS||e instanceof ZI||e instanceof bS)}function zS(e,t,n){if(!BS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=HI(n);throw"an object"===r?t.fa(e+" a custom object"):t.fa(e+" "+r)}}function qS(e,t,n){if((t=mr(t))instanceof kS)return t._internalPath;if("string"==typeof t)return GS(e,t);throw WS("Field path arguments must be of type string or ",e,!1,void 0,n)}var KS=new RegExp("[~\\*/\\[\\]]");function GS(e,t,n){if(t.search(KS)>=0)throw WS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Un(kS,gr(t.split(".")))._internalPath}catch(r){throw WS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function WS(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Em(Tm.INVALID_ARGUMENT,u+e+s)}function HS(e,t){return e.some((function(e){return e.isEqual(t)}))}var QS=function(){function e(t,n,r,i,a){An(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Rn(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new ZI(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new XS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(YS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),XS=function(e){Dn(n,e);var t=Fn(n);function n(){return An(this,n),t.apply(this,arguments)}return Rn(n,[{key:"data",value:function(){return $i(Ln(n.prototype),"data",this).call(this)}}]),n}(QS);function YS(e,t){return"string"==typeof t?GS(e,t):t instanceof kS?t._internalPath:t._delegate._internalPath}function $S(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Em(Tm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var JS=Rn((function e(){An(this,e)})),ZS=function(e){Dn(n,e);var t=Fn(n);function n(){return An(this,n),t.apply(this,arguments)}return Rn(n)}(JS);function eC(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof JS&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof nC})).length,n=e.filter((function(e){return e instanceof tC})).length;if(t>1||t>0&&n>0)throw new Em(Tm.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=On(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var tC=function(e){Dn(n,e);var t=Fn(n);function n(e,r,i){var a;return An(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return Rn(n,[{key:"_apply",value:function(e){var t=this._parse(e);return pC(e._query,t),new eS(e.firestore,e.converter,ek(e._query,t))}},{key:"_parse",value:function(e){var t=CS(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Em(Tm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){dC(o,a);var s,c=[],l=On(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(hC(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=hC(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||dC(o,a),u=US(n,"where",o,"in"===a||"not-in"===a);return ug.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ZS);var nC=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i;return An(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Rn(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:sg.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=On(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;pC(r,a),r=ek(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new eS(e.firestore,e.converter,ek(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(JS);var rC=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i;return An(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return Rn(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Em(Tm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Em(Tm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Eg(t,n);return function(e,t){if(null===Xg(e)){var n=Yg(e);null!==n&&vC(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new eS(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Gg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ZS);var iC=function(e){Dn(n,e);var t=Fn(n);function n(e,r,i){var a;return An(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return Rn(n,[{key:"_apply",value:function(e){return new eS(e.firestore,e.converter,tk(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ZS);var aC=function(e){Dn(n,e);var t=Fn(n);function n(e,r,i){var a;return An(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Rn(n,[{key:"_apply",value:function(e){var t=fC(e,this.type,this._docOrFields,this._inclusive);return new eS(e.firestore,e.converter,function(e,t){return new Gg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ZS);function oC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aC._create("startAt",t,!0)}function uC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aC._create("startAfter",t,!1)}var sC=function(e){Dn(n,e);var t=Fn(n);function n(e,r,i){var a;return An(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Rn(n,[{key:"_apply",value:function(e){var t=fC(e,this.type,this._docOrFields,this._inclusive);return new eS(e.firestore,e.converter,function(e,t){return new Gg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ZS);function cC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sC._create("endBefore",t,!1)}function lC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sC._create("endAt",t,!0)}function fC(e,t,n,r){if(n[0]=mr(n[0]),n[0]instanceof QS)return function(e,t,n,r,i){if(!r)throw new Em(Tm.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=On(Jg(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Gy(t,r.key));else{var c=r.data.field(s.field);if(Py(c))throw new Em(Tm.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Em(Tm.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new rg(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=CS(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Em(Tm.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Em(Tm.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!$g(e)&&-1!==c.indexOf("/"))throw new Em(Tm.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(qm.fromString(c));if(!Wm.isDocumentKey(l))throw new Em(Tm.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Wm(l);u.push(Gy(t,f))}else{var h=US(n,r,c);u.push(h)}}return new rg(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function hC(e,t,n){if("string"==typeof(n=mr(n))){if(""===n)throw new Em(Tm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$g(t)&&-1!==n.indexOf("/"))throw new Em(Tm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(qm.fromString(n));if(!Wm.isDocumentKey(r))throw new Em(Tm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Gy(e,new Wm(r))}if(n instanceof ZI)return Gy(e,n._key);throw new Em(Tm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(HI(n),"."))}function dC(e,t){if(!Array.isArray(e)||0===e.length)throw new Em(Tm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function pC(e,t){if(t.isInequality()){var n=Yg(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Em(Tm.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Xg(e);null!==i&&vC(e,r,i)}var a=function(e,t){var n,r=On(e);try{for(r.s();!(n=r.n()).done;){var i,a=On(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Em(Tm.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Em(Tm.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function vC(e,t,n){if(!n.isEqual(t))throw new Em(Tm.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var mC=function(){function e(){An(this,e)}return Rn(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Uy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ry(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wm()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return _y(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new wS(Ry(e.latitude),Ry(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Dy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ly(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ny(e);return new jm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=qm.fromString(e);_m(Hb(n));var r=new by(n.get(1),n.get(3)),i=new Wm(n.popFirst(5));return r.isEqual(t)||gm("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function yC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var gC=function(e){Dn(n,e);var t=Fn(n);function n(e){var r;return An(this,n),(r=t.call(this)).firestore=e,r}return Rn(n,[{key:"convertBytes",value:function(e){return new gS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ZI(this.firestore,null,t)}}]),n}(mC);var kC=function(){function e(t,n){An(this,e),this.hasPendingWrites=t,this.fromCache=n}return Rn(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),bC=function(e){Dn(n,e);var t=Fn(n);function n(e,r,i,a,o,u){var s;return An(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Rn(n,[{key:"exists",value:function(){return $i(Ln(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new wC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(YS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(QS),wC=function(e){Dn(n,e);var t=Fn(n);function n(){return An(this,n),t.apply(this,arguments)}return Rn(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $i(Ln(n.prototype),"data",this).call(this,e)}}]),n}(bC),_C=function(){function e(t,n,r,i){An(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new kC(i.hasPendingWrites,i.fromCache),this.query=r}return Rn(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new wC(n._firestore,n._userDataWriter,r.key,r,new kC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Em(Tm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new wC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new wC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:xC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function xC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wm()}}function TC(e,t){return e instanceof bC&&t instanceof bC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof _C&&t instanceof _C&&e._firestore===t._firestore&&aS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var EC=function(e){Dn(n,e);var t=Fn(n);function n(e){var r;return An(this,n),(r=t.call(this)).firestore=e,r}return Rn(n,[{key:"convertBytes",value:function(e){return new gS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ZI(this.firestore,null,t)}}]),n}(mC);function IC(e){e=QI(e,ZI);var t=QI(e.firestore,cS),n=lS(t),r=new EC(t);return function(e,t){var n=new Im;return e.asyncQueue.enqueueAndForget(Ae(Se().mark((function r(){return Se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ae(Se().mark((function e(t,n,r){var i,a;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=xm(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Em(Tm.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=XT(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,DI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new bC(t,r,e._key,n,new kC(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function SC(e){e=QI(e,eS);var t=QI(e.firestore,cS),n=lS(t),r=new EC(t);return function(e,t){var n=new Im;return e.asyncQueue.enqueueAndForget(Ae(Se().mark((function r(){return Se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ae(Se().mark((function e(t,n,r){var i,a,o,u,s;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cx(t,n,!0);case 3:i=e.sent,a=new vE(n,i.Yi),o=a.Hu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=XT(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,DI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new _C(t,r,e,n)}))}function CC(e,t,n){e=QI(e,ZI);var r=QI(e.firestore,cS),i=yC(e.converter,t,n);return OC(r,[AS(CS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ik.none())])}function AC(e,t,n){e=QI(e,ZI);for(var r=QI(e.firestore,cS),i=CS(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return OC(r,[("string"==typeof(t=mr(t))||t instanceof kS?FS(i,"updateDoc",e._key,t,n,o):MS(i,"updateDoc",e._key,t)).toMutation(e._key,Ik.exists(!0))])}function NC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=mr(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||uS(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(uS(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof ZI)l=QI(e.firestore,cS),f=Hg(e._key.path),c={next:function(t){n[s]&&n[s](PC(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=QI(e,eS);l=QI(p.firestore,cS),f=p._query;var v=new EC(l);c={next:function(e){n[s]&&n[s](new _C(l,v,p,e))},error:n[s+1],complete:n[s+2]},$S(e._query)}return function(e,t,n,r){var i=new bI(r),a=new sE(t,i,n);return e.asyncQueue.enqueueAndForget(Ae(Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=tE,t.next=3,UI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Pc(),e.asyncQueue.enqueueAndForget(Ae(Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rE,t.next=3,UI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(lS(l),f,h,c)}function RC(e,t){return function(e,t){var n=new bI(t);return e.asyncQueue.enqueueAndForget(Ae(Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){xm(e).vu.add(t),t.next()},t.next=3,UI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Pc(),e.asyncQueue.enqueueAndForget(Ae(Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){xm(e).vu.delete(t)},t.next=3,UI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(lS(e=QI(e,cS)),uS(t)?t:{next:t})}function OC(e,t){return function(e,t){var n=new Im;return e.asyncQueue.enqueueAndForget(Ae(Se().mark((function r(){return Se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=EE,r.next=3,MI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(lS(e),t)}function PC(e,t,n){var r=n.docs.get(t._key),i=new EC(e);return new bC(e,i,t._key,r,new kC(n.hasPendingWrites,n.fromCache),t.converter)}var DC={maxAttempts:5},LC=function(){function e(t,n){An(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=CS(t)}return Rn(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=MC(e,this._firestore),i=yC(r.converter,t,n),a=AS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Ik.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=MC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=mr(t))||t instanceof kS?FS(this._dataReader,"WriteBatch.update",i._key,t,n,o):MS(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Ik.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=MC(e,this._firestore);return this._mutations=this._mutations.concat(new Bk(t._key,Ik.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Em(Tm.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function MC(e,t){if((e=mr(e)).firestore!==t)throw new Em(Tm.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var FC=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,e,r))._firestore=e,i}return Rn(n,[{key:"get",value:function(e){var t=this,r=MC(e,this._firestore),i=new EC(this._firestore);return $i(Ln(n.prototype),"get",this).call(this,e).then((function(e){return new bC(t._firestore,i,r._key,e._document,new kC(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){An(this,e),this._firestore=t,this._transaction=n,this._dataReader=CS(t)}return Rn(e,[{key:"get",value:function(e){var t=this,n=MC(e,this._firestore),r=new gC(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return wm();var i=e[0];if(i.isFoundDocument())return new QS(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new QS(t._firestore,r,n._key,null,n.converter);throw wm()}))}},{key:"set",value:function(e,t,n){var r=MC(e,this._firestore),i=yC(r.converter,t,n),a=AS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=MC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=mr(t))||t instanceof kS?FS(this._dataReader,"Transaction.update",i._key,t,n,o):MS(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=MC(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function UC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new PS("arrayUnion",t)}function VC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new DS("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){pm=e}(vi),si(new kr("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new cS(new Nm(e.getProvider("auth-internal")),new Dm(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Em(Tm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new by(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),wi(hm,"3.8.4",e),wi(hm,"3.8.4","esm2017")}();var jC="@firebase/firestore-compat",BC="0.3.4";function zC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Em("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function qC(){if("undefined"===typeof Uint8Array)throw new Em("unimplemented","Uint8Arrays are not available in this environment.")}function KC(){if("undefined"==typeof atob)throw new Em("unimplemented","Blobs are unavailable in Firestore in this environment.")}var GC=function(){function e(t){An(this,e),this._delegate=t}return Rn(e,[{key:"toBase64",value:function(){return KC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return qC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return KC(),new e(gS.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return qC(),new e(gS.fromUint8Array(t))}}]),e}();function WC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=On(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var HC=function(){function e(){An(this,e)}return Rn(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){yS(e=QI(e,cS));var n=lS(e),r=e._freezeSettings(),i=new gI;return hS(n,i,new mI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){yS(e=QI(e,cS));var t=lS(e),n=e._freezeSettings(),r=new gI;return hS(t,r,new yI(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Em(Tm.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Im;return e._queue.enqueueAndForgetEvenWhileRestricted(Ae(Se().mark((function n(){return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ae(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sy.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,sy.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(dx(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),QC=function(){function e(t,n,r){var i=this;An(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof by||(this._appCompat=t)}return Rn(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||km("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};JI(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return dS(this._delegate)}},{key:"disableNetwork",value:function(){return pS(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&KI("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Im;return e.asyncQueue.enqueueAndForget(Ae(Se().mark((function n(){return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=ME,n.next=3,MI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(lS(e=QI(e,cS)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return RC(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Em("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new sA(this,nS(this._delegate,e))}catch(MR){throw eA(MR,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new ZC(this,rS(this._delegate,e))}catch(MR){throw eA(MR,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new aA(this,function(e,t){if(e=QI(e,$I),qI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Em(Tm.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new eS(e,null,function(e){return new Gg(qm.emptyPath(),e)}(t))}(this._delegate,e))}catch(MR){throw eA(MR,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=QI(e,cS);var r=Object.assign(Object.assign({},DC),n);return function(e){if(e.maxAttempts<1)throw new Em(Tm.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Im;return e.asyncQueue.enqueueAndForget(Ae(Se().mark((function i(){var a;return Se().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,FI(e);case 2:a=i.sent,new xI(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(lS(e),(function(n){return t(new FC(e,n))}),r)}(this._delegate,(function(n){return e(new YC(t,n))}))}},{key:"batch",value:function(){var e=this;return lS(this._delegate),new $C(new LC(this._delegate,(function(t){return OC(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return vS(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return mS(this._delegate,e).then((function(e){return e?new aA(t,e):null}))}}]),e}(),XC=function(e){Dn(n,e);var t=Fn(n);function n(e){var r;return An(this,n),(r=t.call(this)).firestore=e,r}return Rn(n,[{key:"convertBytes",value:function(e){return new GC(new gS(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return ZC.forKey(t,this.firestore,null)}}]),n}(mC);var YC=function(){function e(t,n){An(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new XC(t)}return Rn(e,[{key:"get",value:function(e){var t=this,n=cA(e);return this._delegate.get(n).then((function(e){return new rA(t._firestore,new bC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=cA(e);return n?(zC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=cA(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=cA(e);return this._delegate.delete(t),this}}]),e}(),$C=function(){function e(t){An(this,e),this._delegate=t}return Rn(e,[{key:"set",value:function(e,t,n){var r=cA(e);return n?(zC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=cA(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=cA(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),JC=function(){function e(t,n,r){An(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Rn(e,[{key:"fromFirestore",value:function(e,t){var n=new wC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new iA(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new XC(t),n),i.set(n,a)),a}}]),e}();JC.INSTANCES=new WeakMap;var ZC=function(){function e(t,n){An(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new XC(t)}return Rn(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new sA(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new sA(this.firestore,nS(this._delegate,e))}catch(MR){throw eA(MR,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=mr(e))instanceof ZI&&iS(this._delegate,e)}},{key:"set",value:function(e,t){t=zC("DocumentReference.set",t);try{return t?CC(this._delegate,e,t):CC(this._delegate,e)}catch(MR){throw eA(MR,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?AC(this._delegate,e):AC.apply(void 0,[this._delegate,e,t].concat(r))}catch(MR){throw eA(MR,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return OC(QI(e.firestore,cS),[new Bk(e._key,Ik.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=tA(n),a=nA(n,(function(t){return new rA(e.firestore,new bC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return NC(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?IC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=QI(e,ZI);var t=QI(e.firestore,cS);return jI(lS(t),e._key,{source:"server"}).then((function(n){return PC(t,e,n)}))}(this._delegate):function(e){e=QI(e,ZI);var t=QI(e.firestore,cS);return jI(lS(t),e._key).then((function(n){return PC(t,e,n)}))}(this._delegate),t.then((function(e){return new rA(n.firestore,new bC(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(JC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Em("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new ZI(n._delegate,r,new Wm(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new ZI(n._delegate,r,t))}}]),e}();function eA(e,t,n){return e.message=e.message.replace(t,n),e}function tA(e){var t,n=On(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!WC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function nA(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=WC(e[0])?e[0]:WC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var rA=function(){function e(t,n){An(this,e),this._firestore=t,this._delegate=n}return Rn(e,[{key:"ref",get:function(){return new ZC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return TC(this._delegate,e._delegate)}}]),e}(),iA=function(e){Dn(n,e);var t=Fn(n);function n(){return An(this,n),t.apply(this,arguments)}return Rn(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||wm()}(void 0!==t),t}}]),n}(rA),aA=function(){function e(t,n){An(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new XC(t)}return Rn(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,eC(this._delegate,function(e,t,n){var r=t,i=YS("where",e);return tC._create(i,r,n)}(t,n,r)))}catch(MR){throw eA(MR,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,eC(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=YS("orderBy",e);return rC._create(n,t)}(t,n)))}catch(MR){throw eA(MR,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,eC(this._delegate,function(e){return XI("limit",e),iC._create("limit",e,"F")}(t)))}catch(MR){throw eA(MR,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,eC(this._delegate,function(e){return XI("limitToLast",e),iC._create("limitToLast",e,"L")}(t)))}catch(MR){throw eA(MR,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,eC(this._delegate,oC.apply(void 0,arguments)))}catch(MR){throw eA(MR,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,eC(this._delegate,uC.apply(void 0,arguments)))}catch(MR){throw eA(MR,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,eC(this._delegate,cC.apply(void 0,arguments)))}catch(MR){throw eA(MR,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,eC(this._delegate,lC.apply(void 0,arguments)))}catch(MR){throw eA(MR,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return aS(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?SC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=QI(e,eS);var t=QI(e.firestore,cS),n=lS(t),r=new EC(t);return BI(n,e._query,{source:"server"}).then((function(n){return new _C(t,r,e,n)}))}(this._delegate):function(e){e=QI(e,eS);var t=QI(e.firestore,cS),n=lS(t),r=new EC(t);return $S(e._query),BI(n,e._query).then((function(n){return new _C(t,r,e,n)}))}(this._delegate),t.then((function(e){return new uA(n.firestore,new _C(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=tA(n),a=nA(n,(function(t){return new uA(e.firestore,new _C(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return NC(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(JC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),oA=function(){function e(t,n){An(this,e),this._firestore=t,this._delegate=n}return Rn(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new iA(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),uA=function(){function e(t,n){An(this,e),this._firestore=t,this._delegate=n}return Rn(e,[{key:"query",get:function(){return new aA(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new iA(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new oA(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new iA(n._firestore,r))}))}},{key:"isEqual",value:function(e){return TC(this._delegate,e._delegate)}}]),e}(),sA=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Rn(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new ZC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new ZC(this.firestore,void 0===e?rS(this._delegate):rS(this._delegate,e))}catch(MR){throw eA(MR,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=QI(e.firestore,cS),r=rS(e),i=yC(e.converter,t);return OC(n,[AS(CS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ik.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new ZC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return iS(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(JC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(aA);function cA(e){return QI(e,ZI)}var lA=function(){function e(){An(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Un(kS,n)}return Rn(e,[{key:"isEqual",value:function(e){return(e=mr(e))instanceof kS&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Gm.keyField().canonicalString())}}]),e}(),fA=function(){function e(t){An(this,e),this._delegate=t}return Rn(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new OS("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new NS("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=UC.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=VC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new LS("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),hA={Firestore:QC,GeoPoint:wS,Timestamp:jm,Blob:GC,Transaction:YC,WriteBatch:$C,DocumentReference:ZC,DocumentSnapshot:rA,Query:aA,QueryDocumentSnapshot:iA,QuerySnapshot:uA,CollectionReference:sA,FieldPath:lA,FieldValue:fA,setLogLevel:function(e){!function(e){vm.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new kr("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},hA)))}(e,(function(e,t){return new QC(e,t,new HC)})),e.registerVersion(jC,BC)}(Yi);var dA,pA="firebasestorage.googleapis.com",vA="storageBucket",mA=function(e){Dn(n,e);var t=Fn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return An(this,n),(i=t.call(this,yA(e),"Firebase Storage: ".concat(r," (").concat(yA(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(Pn(i),n.prototype),i}return Rn(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return yA(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(ir);function yA(e){return"storage/"+e}function gA(){return new mA(dA.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function kA(){return new mA(dA.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bA(){return new mA(dA.CANCELED,"User canceled the upload/download.")}function wA(){return new mA(dA.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _A(e){return new mA(dA.INVALID_ARGUMENT,e)}function xA(){return new mA(dA.APP_DELETED,"The Firebase app was deleted.")}function TA(e){return new mA(dA.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function EA(e,t){return new mA(dA.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function IA(e){throw new mA(dA.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(dA||(dA={}));var SA,CA=function(){function e(t,n){An(this,e),this.bucket=t,this.path_=n}return Rn(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(MR){return new e(t,"")}if(""===r.path)return r;throw i=t,new mA(dA.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===pA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new mA(dA.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),AA=function(){function e(t){An(this,e),this.promise_=Promise.reject(t)}return Rn(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function NA(e){return"string"===typeof e||e instanceof String}function RA(e){return OA()&&e instanceof Blob}function OA(){return"undefined"!==typeof Blob&&!Zn()}function PA(e,t,n,r){if(r<t)throw _A("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw _A("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function DA(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function LA(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function MA(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(SA||(SA={}));var FA=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];An(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return Rn(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(MR){i(MR)}else if(null!==a){var u=gA();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?xA():bA());else i(kA())}};this.canceled_?t(0,new UA(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new UA(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===SA.NO_ERROR,a=r.getStatus();if(!n||MA(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===SA.ABORT;t(!1,new UA(!1,null,o))}else{var u=-1!==e.successCodes_.indexOf(a);t(!0,new UA(u,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),UA=Rn((function e(t,n,r){An(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function VA(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function jA(){for(var e=VA(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(OA())return new Blob(n);throw new mA(dA.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function BA(e){if("undefined"===typeof atob)throw t="base-64",new mA(dA.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var zA={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},qA=Rn((function e(t,n){An(this,e),this.data=t,this.contentType=n||null}));function KA(e,t){switch(e){case zA.RAW:return new qA(GA(t));case zA.BASE64:case zA.BASE64URL:return new qA(WA(e,t));case zA.DATA_URL:return new qA(function(e){var t=new HA(e);return t.base64?WA(zA.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(MR){throw EA(zA.DATA_URL,"Malformed data URL.")}return GA(t)}(t.rest)}(t),new HA(t).contentType)}throw gA()}function GA(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function WA(e,t){switch(e){case zA.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw EA(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case zA.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw EA(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=BA(t)}catch(MR){if(MR.message.includes("polyfill"))throw MR;throw EA(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var HA=Rn((function e(t){An(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw EA(zA.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){var n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var QA=function(){function e(t,n){An(this,e);var r=0,i="";RA(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Rn(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(RA(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(OA()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(jA.apply(null,i))}var a=n.map((function(e){return NA(e)?KA(zA.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function XA(e){var t;try{t=JSON.parse(e)}catch(MR){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function YA(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function $A(e,t){return t}var JA=Rn((function e(t,n,r,i){An(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||$A})),ZA=null;function eN(){if(ZA)return ZA;var e=[];e.push(new JA("bucket")),e.push(new JA("generation")),e.push(new JA("metageneration")),e.push(new JA("name","fullPath",!0));var t=new JA("name");t.xform=function(e,t){return function(e){return!NA(e)||e.length<2?e:YA(e)}(t)},e.push(t);var n=new JA("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new JA("timeCreated")),e.push(new JA("updated")),e.push(new JA("md5Hash",null,!0)),e.push(new JA("cacheControl",null,!0)),e.push(new JA("contentDisposition",null,!0)),e.push(new JA("contentEncoding",null,!0)),e.push(new JA("contentLanguage",null,!0)),e.push(new JA("contentType",null,!0)),e.push(new JA("metadata","customMetadata",!0)),ZA=e}function tN(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new CA(n,r);return t._makeStorageReference(i)}})}(r,e),r}function nN(e,t,n){var r=XA(t);return null===r?null:tN(e,r,n)}function rN(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var iN="prefixes",aN="items";function oN(e,t,n){var r=XA(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[iN]){var i,a=On(n[iN]);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new CA(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n[aN]){var s,c=On(n[aN]);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new CA(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var uN=Rn((function e(t,n,r,i){An(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function sN(e){if(!e)throw gA()}function cN(e,t){return function(n,r){var i=nN(e,r,t);return sN(null!==i),i}}function lN(e,t){return function(n,r){var i=nN(e,r,t);return sN(null!==i),function(e,t,n,r){var i=XA(t);if(null===i)return null;if(!NA(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return DA("/b/"+o(i)+"/o/"+o(a),n,r)+LA({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function fN(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new mA(dA.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new mA(dA.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new mA(dA.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new mA(dA.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function hN(e){var t=fN(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new mA(dA.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function dN(e,t,n){var r=DA(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new uN(r,"GET",cN(e,n),i);return a.errorHandler=hN(t),a}function pN(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=DA(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new uN(o,"GET",function(e,t){return function(n,r){var i=oN(e,t,r);return sN(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=fN(t),s}function vN(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function mN(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=vN(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+rN(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=QA.getBlob(c,r,l);if(null===f)throw wA();var h={name:s.fullPath},d=DA(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new uN(d,"POST",cN(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=fN(t),v}var yN=Rn((function e(t,n,r,i){An(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function gN(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(MR){sN(!1)}return sN(!!n&&-1!==(t||["active"]).indexOf(n)),n}var kN=262144;function bN(e,t,n,r,i,a,o,u){var s=new yN(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new mA(dA.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw wA();var v=t.maxUploadRetryTime,m=new uN(n,"POST",(function(e,n){var i,o=gN(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?cN(t,a)(e,n):null,new yN(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=fN(e),m}var wN={STATE_CHANGED:"state_changed"},_N={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function xN(e){switch(e){case"running":case"pausing":case"canceling":return _N.RUNNING;case"paused":return _N.PAUSED;case"success":return _N.SUCCESS;case"canceled":return _N.CANCELED;default:return _N.ERROR}}var TN=Rn((function e(t,n,r){An(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function EN(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var IN=null,SN=function(){function e(){var t=this;An(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=SA.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=SA.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=SA.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Rn(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw IA("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw IA("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw IA("cannot .getStatus() before sending");try{return this.xhr_.status}catch(MR){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw IA("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw IA("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),CN=function(e){Dn(n,e);var t=Fn(n);function n(){return An(this,n),t.apply(this,arguments)}return Rn(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(SN);function AN(){return IN?IN():new CN}var NN=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;An(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=eN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(dA.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(MA(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=kA()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(dA.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return Rn(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=s(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=vN(t,r,i),u={name:o.fullPath},s=DA(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=rN(o,n),f=e.maxUploadRetryTime,h=new uN(s,"POST",(function(e){var t;gN(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(MR){sN(!1)}return sN(NA(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=fN(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,AN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new uN(n,"POST",(function(e){var t=gN(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(MR){sN(!1)}n||sN(!1);var i=Number(n);return sN(!isNaN(i)),new yN(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=fN(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,AN,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=kN*this._chunkMultiplier,n=new yN(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=bN(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(MR){return e._error=MR,void e._transition("error")}var u=e._ref.storage._makeRequest(o,AN,i,a,!1);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(kN*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=dN(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,AN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=mN(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,AN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=bA(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=xN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new TN(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(xN(this._state)){case _N.SUCCESS:EN(this._resolve.bind(null,this.snapshot))();break;case _N.CANCELED:case _N.ERROR:EN(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(xN(this._state)){case _N.RUNNING:case _N.PAUSED:e.next&&EN(e.next.bind(e,this.snapshot))();break;case _N.SUCCESS:e.complete&&EN(e.complete.bind(e))();break;case _N.CANCELED:case _N.ERROR:default:e.error&&EN(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),RN=function(){function e(t,n){An(this,e),this._service=t,this._location=n instanceof CA?n:CA.makeFromUrl(n,t.host)}return Rn(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new CA(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return YA(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new CA(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw TA(e)}}]),e}();function ON(e,t,n){return PN.apply(this,arguments)}function PN(){return(PN=Ae(Se().mark((function e(t,n,r){var i,a,o,u;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,DN(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,gr(u.prefixes)),(a=n.items).push.apply(a,gr(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,ON(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DN(e,t){null!=t&&"number"===typeof t.maxResults&&PA("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=pN(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,AN)}function LN(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=DA(t.fullServerUrl(),e.host,e._protocol),a=rN(n,r),o=e.maxOperationRetryTime,u=new uN(i,"PATCH",cN(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=hN(t),u}(e.storage,e._location,t,eN());return e.storage.makeRequestWithTokens(n,AN)}function MN(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=DA(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new uN(r,"GET",lN(e,n),i);return a.errorHandler=hN(t),a}(e.storage,e._location,eN());return e.storage.makeRequestWithTokens(t,AN).then((function(e){if(null===e)throw new mA(dA.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function FN(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=DA(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new uN(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=hN(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,AN)}function UN(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new CA(e._location.bucket,n);return new RN(e.storage,r)}function VN(e,t){if(e instanceof zN){var n=e;if(null==n._bucket)throw new mA(dA.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vA+"' property when initializing the app?");var r=new RN(n,n._bucket);return null!=t?VN(r,t):r}return void 0!==t?UN(e,t):e}function jN(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof zN)return new RN(e,t);throw _A("To use ref(service, url), the first argument must be a Storage instance.")}return VN(e,t)}function BN(e,t){var n=null===t||void 0===t?void 0:t[vA];return null==n?null:CA.makeFromBucketSpec(n,e)}var zN=function(){function e(t,n,r,i,a){An(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=pA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?CA.makeFromBucketSpec(i,this._host):BN(this._host,this.app.options)}return Rn(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=CA.makeFromBucketSpec(this._url,e):this._bucket=BN(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){PA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){PA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Ae(Se().mark((function e(){var t,n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Ae(Se().mark((function e(){var t,n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new RN(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new AA(xA());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=LA(e.urlParams),s=e.url+u,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new FA(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=Ae(Se().mark((function e(t,n){var r,i,a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=s(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),qN="@firebase/storage",KN="0.11.2",GN="storage";function WN(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new NN(e,new QA(t),n)}(e=mr(e),t,n)}function HN(e){return function(e){e._throwIfRoot("getMetadata");var t=dN(e.storage,e._location,eN());return e.storage.makeRequestWithTokens(t,AN)}(e=mr(e))}function QN(e){return function(e){var t={prefixes:[],items:[]};return ON(e,t).then((function(){return t}))}(e=mr(e))}function XN(e,t){return jN(e=mr(e),t)}function YN(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:$n(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function $N(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new zN(r,i,a,n,vi)}si(new kr(GN,$N,"PUBLIC").setMultipleInstances(!0)),wi(qN,KN,""),wi(qN,KN,"esm2017");var JN=function(){function e(t,n,r){An(this,e),this._delegate=t,this.task=n,this.ref=r}return Rn(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),ZN=function(){function e(t,n){An(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Rn(e,[{key:"snapshot",get:function(){return new JN(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new JN(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new JN(e,i,i._ref))}:{next:t.next?function(e){return t.next(new JN(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),eR=function(){function e(t,n){An(this,e),this._delegate=t,this._service=n}return Rn(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new tR(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new tR(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),tR=function(){function e(t,n){An(this,e),this._delegate=t,this.storage=n}return Rn(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return UN(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new ZN(WN(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zA.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=KA(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new ZN(new NN(this._delegate,new QA(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return QN(this._delegate).then((function(t){return new eR(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return DN(e=mr(e),t)}(this._delegate,e||void 0).then((function(e){return new eR(e,t.storage)}))}},{key:"getMetadata",value:function(){return HN(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return LN(e=mr(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return MN(mr(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),FN(mr(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw TA(e)}}]),e}(),nR=function(){function e(t,n){An(this,e),this.app=t,this._delegate=n}return Rn(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(rR(e))throw _A("ref() expected a child path but got a URL, use refFromURL instead.");return new tR(XN(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!rR(e))throw _A("refFromURL() expected a full URL but got a child path, use ref() instead.");try{CA.makeFromUrl(e,this._delegate.host)}catch(MR){throw _A("refFromUrl() expected a valid full URL but got an invalid one.")}return new tR(XN(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};YN(this._delegate,e,t,n)}}]),e}();function rR(e){return/^[A-Za-z]+:\/\//.test(e)}var iR="@firebase/storage-compat",aR="0.3.2",oR="storage-compat";function uR(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new nR(r,i)}!function(e){var t={TaskState:_N,TaskEvent:wN,StringFormat:zA,Storage:nR,Reference:tR};e.INTERNAL.registerComponent(new kr(oR,uR,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(iR,aR)}(Yi);Yi.initializeApp({apiKey:"AIzaSyD5I1yAoCRPK3iOi2NOY8uX4N-rEgaLXag",authDomain:"nwitter-481da.firebaseapp.com",projectId:"nwitter-481da",storageBucket:"nwitter-481da.appspot.com",messagingSenderId:"963520057463",appId:"1:963520057463:web:b9138fba480493a9347672"});var sR,cR=Yi,lR=Yi.auth(),fR=Yi.firestore(),hR=Yi.storage(),dR=n(184),pR=function(){var e=s((0,t.useState)(""),2),n=e[0],r=e[1],i=s((0,t.useState)(""),2),a=i[0],o=i[1],u=s((0,t.useState)(!0),2),c=u[0],l=u[1],f=s((0,t.useState)(""),2),h=f[0],d=f[1],p=function(e){var t=e.target,n=t.name,i=t.value;"email"===n?r(i):"password"===n&&o(i)},v=function(){var e=Ae(Se().mark((function e(t){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!c){e.next=8;break}return e.next=5,lR.createUserWithEmailAndPassword(n,a);case 5:r=e.sent,e.next=11;break;case 8:return e.next=10,lR.signInWithEmailAndPassword(n,a);case 10:r=e.sent;case 11:console.log(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),d(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return(0,dR.jsxs)(dR.Fragment,{children:[(0,dR.jsxs)("form",{onSubmit:v,className:"container",children:[(0,dR.jsx)("input",{name:"email",type:"text",placeholder:"Email",required:!0,value:n,onChange:p,className:"authInput"}),(0,dR.jsx)("input",{name:"password",type:"password",placeholder:"Password",required:!0,value:a,onChange:p,className:"authInput"}),(0,dR.jsx)("input",{type:"submit",className:"authInput authSubmit",value:c?"Create Account":"Log In"}),h&&(0,dR.jsx)("span",{className:"authError",children:h})]}),(0,dR.jsx)("span",{onClick:function(){return l((function(e){return!e}))},className:"authSwitch",children:c?"Login":"Create Account"})]})},vR=function(){var e=function(){var e=Ae(Se().mark((function e(t){var n,r,i;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(n=t.target.name)?r=new cR.auth.GoogleAuthProvider:"github"===n&&(r=new cR.auth.GithubAuthProvider),e.next=4,lR.signInWithPopup(r);case 4:i=e.sent,console.log(i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,dR.jsxs)("div",{className:"authContainer",children:[(0,dR.jsx)(_n,{icon:In,color:"#04AAFF",size:"3x",style:{marginBottom:30}}),(0,dR.jsx)(pR,{}),(0,dR.jsxs)("div",{className:"authBtns",children:[(0,dR.jsxs)("button",{onClick:e,name:"google",className:"authBtn",children:["Continue with Google ",(0,dR.jsx)(_n,{icon:En})]}),(0,dR.jsxs)("button",{onClick:e,name:"github",className:"authBtn",children:["Continue with Github ",(0,dR.jsx)(_n,{icon:Tn})]})]})]})},mR={prefix:"fas",iconName:"pencil-alt",icon:[512,512,[],"f303","M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"]},yR={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},gR={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},kR={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"]},bR={prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]},wR=function(e){var n=e.nweetObj,r=e.isOwner,i=s((0,t.useState)(!1),2),a=i[0],o=i[1],u=s((0,t.useState)(n.text),2),c=u[0],l=u[1],f=function(){var e=Ae(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you Sure you want to delete this nweet?")){e.next=6;break}return e.next=4,fR.doc("nweets/".concat(n.id)).delete();case 4:return e.next=6,hR.refFromURL(n.attachmentUrl).delete();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){return o((function(e){return!e}))},d=function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fR.doc("nweets/".concat(n.id)).update({text:c});case 3:o(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,dR.jsx)("div",{className:"nweet",children:a?(0,dR.jsxs)(dR.Fragment,{children:[(0,dR.jsxs)("form",{onSubmit:d,className:"container nweetEdit",children:[(0,dR.jsx)("input",{type:"text",placeholder:"Edit your nweet",value:c,required:!0,autoFocus:!0,onChange:function(e){var t=e.target.value;l(t)},className:"formInput"}),(0,dR.jsx)("input",{type:"submit",value:"Update Nweet",className:"formBtn"})]}),(0,dR.jsx)("span",{onClick:h,className:"formBtn cancelBtn",children:"Cancel"})]}):(0,dR.jsxs)(dR.Fragment,{children:[(0,dR.jsx)("h4",{children:n.text}),n.attachmentUrl&&(0,dR.jsx)("img",{src:n.attachmentUrl}),r&&(0,dR.jsxs)("div",{className:"nweet__actions",children:[(0,dR.jsx)("span",{onClick:f,children:(0,dR.jsx)(_n,{icon:kR})}),(0,dR.jsx)("span",{onClick:h,children:(0,dR.jsx)(_n,{icon:mR})})]})]})})},_R=new Uint8Array(16);function xR(){if(!sR&&!(sR="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sR(_R)}var TR=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var ER=function(e){return"string"===typeof e&&TR.test(e)},IR=[],SR=0;SR<256;++SR)IR.push((SR+256).toString(16).substr(1));var CR=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(IR[e[t+0]]+IR[e[t+1]]+IR[e[t+2]]+IR[e[t+3]]+"-"+IR[e[t+4]]+IR[e[t+5]]+"-"+IR[e[t+6]]+IR[e[t+7]]+"-"+IR[e[t+8]]+IR[e[t+9]]+"-"+IR[e[t+10]]+IR[e[t+11]]+IR[e[t+12]]+IR[e[t+13]]+IR[e[t+14]]+IR[e[t+15]]).toLowerCase();if(!ER(n))throw TypeError("Stringified UUID is invalid");return n};var AR=function(e,t,n){var r=(e=e||{}).random||(e.rng||xR)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return CR(r)},NR=function(e){var n=e.userObject,r=s((0,t.useState)(""),2),i=r[0],a=r[1],o=s((0,t.useState)(""),2),u=o[0],c=o[1],l=function(){var e=Ae(Se().mark((function e(t){var r,o,s,l;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==i){e.next=2;break}return e.abrupt("return");case 2:if(t.preventDefault(),r="",""===u){e.next=12;break}return o=hR.ref().child("".concat(n.uid,"/").concat(AR())),e.next=8,o.putString(u,"data_url");case 8:return s=e.sent,e.next=11,s.ref.getDownloadURL();case 11:r=e.sent;case 12:return l={text:i,createdAt:Date.now(),creatorId:n.uid,attachmentUrl:r},e.next=15,fR.collection("nweets").add(l);case 15:a(""),c("");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,dR.jsxs)("form",{onSubmit:l,className:"factoryForm",children:[(0,dR.jsxs)("div",{className:"factoryInput__container",children:[(0,dR.jsx)("input",{className:"factoryInput__input",value:i,onChange:function(e){var t=e.target.value;a(t)},type:"text",placeholder:"What's on your mind?",maxLength:120}),(0,dR.jsx)("input",{type:"submit",value:"\u2192",className:"factoryInput__arrow"})]}),(0,dR.jsxs)("label",{htmlFor:"attach-file",className:"factoryInput__label",children:[(0,dR.jsx)("span",{children:"Add photos"}),(0,dR.jsx)(_n,{icon:yR})]}),(0,dR.jsx)("input",{id:"attach-file",type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;c(t)},n.readAsDataURL(t)},style:{opacity:0}}),u&&(0,dR.jsxs)("div",{className:"factoryForm__attachment",children:[(0,dR.jsx)("img",{src:u,style:{backgroundImage:u}}),(0,dR.jsxs)("div",{className:"factoryForm__clear",onClick:function(){return c("")},children:[(0,dR.jsx)("span",{children:"Remove"}),(0,dR.jsx)(_n,{icon:gR})]})]})]})},RR=function(e){var n=e.userObject,r=s((0,t.useState)([]),2),i=r[0],a=r[1];return(0,t.useEffect)((function(){fR.collection("nweets").onSnapshot((function(e){var t=e.docs.map((function(e){return Or({id:e.id},e.data())}));a(t)}))}),[]),(0,dR.jsxs)("div",{className:"container",children:[(0,dR.jsx)(NR,{userObject:n}),(0,dR.jsx)("div",{style:{marginTop:30},children:i.map((function(e){return(0,dR.jsx)(wR,{nweetObj:e,isOwner:e.creatorId===n.uid},e.id)}))})]})},OR=function(e){var t=e.userObject;return(0,dR.jsx)("nav",{children:(0,dR.jsxs)("ul",{style:{display:"flex",justifyContent:"center",marginTop:50},children:[(0,dR.jsx)("li",{children:(0,dR.jsx)(xe,{to:"/",style:{marginRight:10},children:(0,dR.jsx)(_n,{icon:In,color:"#04AAFF",size:"2x"})})}),(0,dR.jsx)("li",{children:(0,dR.jsxs)(xe,{to:"/profile",style:{marginLeft:10,display:"flex",flexDirection:"column",alignItems:"center",fontSize:12},children:[(0,dR.jsx)(_n,{icon:bR,color:"#04AAFF",size:"2x"}),(0,dR.jsx)("span",{style:{marginTop:10},children:t.displayName?"".concat(t.displayName,"\uc758 Profile"):"Profile"})]})})]})})},PR=function(e){var n=e.refreshUser,r=e.userObject,i=me(Y),a=s((0,t.useState)(r.displayName),2),o=a[0],u=a[1],c=function(){var e=Ae(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r.displayName===o){e.next=5;break}return e.next=4,r.updateProfile({displayName:o});case 4:n();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,dR.jsxs)("div",{className:"container",children:[(0,dR.jsxs)("form",{onSubmit:c,className:"profileForm",children:[(0,dR.jsx)("input",{onChange:function(e){var t=e.target.value;u(t)},type:"text",autoFocus:!0,placeholder:"Display name",value:o,className:"formInput"}),(0,dR.jsx)("input",{type:"submit",value:"Update Profile",className:"formBtn",style:{marginTop:10}})]}),(0,dR.jsx)("span",{className:"formBtn cancelBtn logOut",onClick:function(){lR.signOut(),i.push("/")},children:"Log Out"})]})},DR=function(e){var t=e.refreshUser,n=e.isLoggedIn,r=e.userObject;return(0,dR.jsxs)(ye,{children:[n&&(0,dR.jsx)(OR,{userObject:r,refreshUser:t}),(0,dR.jsx)(ve,{children:n?(0,dR.jsxs)("div",{style:{maxWidth:890,width:"100%",margin:"0 auto",marginTop:80,display:"flex",justifyContent:"center"},children:[(0,dR.jsx)(ce,{exact:!0,path:"/",children:(0,dR.jsx)(RR,{userObject:r})}),(0,dR.jsx)(ce,{exact:!0,path:"/profile",children:(0,dR.jsx)(PR,{userObject:r,refreshUser:t})}),(0,dR.jsx)(ie,{from:"*",to:"/"})]}):(0,dR.jsxs)(dR.Fragment,{children:[(0,dR.jsx)(ce,{exact:!0,path:"/",children:vR()}),(0,dR.jsx)(ie,{from:"*",to:"/"})]})})]})};var LR=function(){var e=s((0,t.useState)(!1),2),n=e[0],r=e[1],i=s((0,t.useState)(null),2),a=i[0],o=i[1];return(0,t.useEffect)((function(){lR.onAuthStateChanged((function(e){o(e?{displayName:e.displayName,uid:e.uid,updateProfile:function(t){return e.updateProfile(t)}}:null),r(!0)}))}),[]),(0,dR.jsx)(dR.Fragment,{children:n?(0,dR.jsx)(DR,{refreshUser:function(){var e=lR.currentUser;o({displayName:e.displayName,uid:e.uid,updateProfile:function(t){return e.updateProfile(t)}})},isLoggedIn:Boolean(a),userObject:a}):"Initializing..."})};r.render((0,dR.jsx)(t.StrictMode,{children:(0,dR.jsx)(LR,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.9b1b0b81.js.map